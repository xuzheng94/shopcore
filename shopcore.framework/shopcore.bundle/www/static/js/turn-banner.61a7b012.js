(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["turn-banner","space"],{"11a5":function(e,t,a){"use strict";a("a070")},"120f":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"base-wrap"},[e.showSpaceTop?t("space",{attrs:{isDev:e.isDev,isActive:e.isActive,position:"top",spaceSize:e.partProps.spaceTop,pageStyleMode:e.pageStyleMode,spaceType:e.spaceType}}):e._e(),e._t("default"),t("space",{attrs:{isDev:e.isDev,isActive:e.isActive,position:"bottom",spaceSize:e.partProps.spaceBottom,pageStyleMode:e.pageStyleMode,spaceType:e.spaceType}})],2)},r=[],s=(a("a9e3"),a("eca1")),n={components:{space:s["default"]},props:{partProps:{type:Object},showSpaceTop:{type:Boolean,default:!0},spaceType:{type:String,default:"large"},isDev:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},pageStyleMode:{type:Number,default:1}}},o=n,p=(a("eeef"),a("2877")),c=Object(p["a"])(o,i,r,!1,null,"540e39ed",null);t["a"]=c.exports},2532:function(e,t,a){"use strict";var i=a("23e7"),r=a("e330"),s=a("5a34"),n=a("1d80"),o=a("577e"),p=a("ab13"),c=r("".indexOf);i({target:"String",proto:!0,forced:!p("includes")},{includes:function(e){return!!~c(o(n(this)),o(s(e)),arguments.length>1?arguments[1]:void 0)}})},"272d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"turn-banner"},[t("inner-wrap",{attrs:{isDev:e.isDev,isActive:e.isActive,partProps:e.partProps,pageStyleMode:e.pageStyleMode,spaceType:"small"}},[t("div",{style:{overflow:"hidden"}},[e.banners.length?t("Swiper",{key:e.swiperKey,ref:"mySwiper",staticClass:"mySwiper",style:e.getSwiperStyle(),attrs:{options:e.swiperOption},on:{slideChangeTransitionStart:e.handleSwiperChange}},e._l(e.banners,(function(a,i){return t("SwiperSlide",{key:i},[t("div",{staticClass:"banner-item",style:e.getSlideStyle()},[t("div",{staticClass:"slide-image",style:e.getImgStyle(i)},[a.picUrl?t("specialImage",{attrs:{url:a.picUrl,ignoreLazy:!0,dataset:{index:i}},on:{tap:function(t){return e.handleClick(a)},updateImageHeight:e.updateImageHeight}}):t("div",{staticClass:"image-demo",style:e.getDomeBackgroundSize})],1)])])})),1):e._e()],1)])],1)},r=[],s=a("699e"),n=s["a"],o=(a("11a5"),a("2877")),p=Object(o["a"])(n,i,r,!1,null,"fc9bebb4",null);t["default"]=p.exports},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var i=a("6b75");function r(e){if(Array.isArray(e))return Object(i["a"])(e)}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0"),a("a630");function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var n=a("06c5");a("d9e2");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e){return r(e)||s(e)||Object(n["a"])(e)||o()}},"2bde":function(e,t,a){"use strict";a("9528")},"3c9b":function(e,t,a){"use strict";(function(e){var i=a("5530"),r=(a("a9e3"),a("120f"));t["a"]={components:{baseWrap:r["a"]},props:{partProps:{type:Object},spaceType:{type:String,default:"large"},pageStyleMode:{type:Number,default:1},showSpaceTop:{type:Boolean,default:!0},showBg:{type:Boolean},isDev:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},hideSpace:{type:Boolean}},data:function(){return{props:{},spaceStyle:{}}},computed:{innerStyle:function(){var e={};return this.spaceStyle&&(e=Object(i["a"])(Object(i["a"])({},e),this.spaceStyle)),this.showBg&&(e=Object(i["a"])(Object(i["a"])({},e),this.cardBgStyle(this.props))),e}},watch:{partProps:{immediate:!0,handler:function(t){if(t){var a=Object(i["a"])({},t),r={};if(this.hideSpace)a.spaceLeft=0,a.spaceRight=0;else{var s=e.skinManager.getHomeDefalutMargin()||24;"number"!==typeof a.spaceLeft&&(a.spaceLeft=s),"number"!==typeof a.spaceRight&&(a.spaceRight=s)}"number"===typeof a.spaceLeft&&(r={paddingLeft:"".concat(e.toRem(a.spaceLeft),"rem")}),"number"===typeof a.spaceRight&&(r=Object(i["a"])(Object(i["a"])({},r),{},{paddingRight:"".concat(e.toRem(a.spaceRight),"rem")})),this.props=a,this.spaceStyle=r}},deep:!0}},methods:{cardBgStyle:function(){var e={};return this.partProps&&!this.partProps.hideModuleColor&&(e.backgroundColor=this.partProps.moduleColor||"white"),e}}}}).call(this,a("7189")["default"])},"5c03":function(e,t,a){},"64d2":function(e,t,a){},"699e":function(e,t,a){"use strict";(function(e){var i=a("2909"),r=a("5530"),s=(a("a9e3"),a("99af"),a("d3b7"),a("7212")),n=a("ef16"),o=a("b023"),p=a("a8f5"),c=a("f354");t["a"]={name:"TurnBanner",components:{Swiper:s["Swiper"],SwiperSlide:s["SwiperSlide"],innerWrap:n["a"],specialImage:o["a"]},mixins:[c["a"]],props:{part:{type:Object},isDev:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},pageStyleMode:{type:Number}},data:function(){return{partProps:{},banners:[],currentIndex:0,swiperWidth:0,largeImgHeight:0,largeImgWidth:0,smallImgScale:1,swiperVisible:!1,swiperOption:{observer:!0,observeParents:!0,slidesPerView:"auto",loop:!0,autoplay:!1},swiperProps:{},swiperKey:0,cacheItem:{}}},watch:{part:"getPartData"},mounted:function(){this.getPartData()},computed:{getDomeBackgroundSize:function(){if(3==this.partProps.imgType)return"backgroundSize: ".concat(e.toRem(56),"rem ").concat(e.toRem(36),"rem")}},methods:{handleSwiperChange:function(){var e=this.$refs.mySwiper&&this.$refs.mySwiper.$swiper,t=e&&e.realIndex||0;this.currentIndex=t},getSwiperStyle:function(){var t=this.largeImgHeight,a=this.swiperProps,i=a.smallPadding,r=a.previousMargin,s={height:"".concat(e.toRem(t),"rem")};return 2===this.partProps.styleType?s.marginLeft="".concat(e.toRem(-i),"rem"):s.marginLeft="".concat(e.toRem(r),"rem"),s},getSlideStyle:function(){var t=this.swiperProps,a=t.swiperItemWidth;t.largeImgWidth;return{width:"".concat(e.toRem(a),"rem")}},getImgStyle:function(t){var a=this.getIsLargeImg(t),i=this.largeImgHeight,r=this.swiperProps,s=r.largeImgWidth,n=r.smallImgScale,o={height:"".concat(e.toRem(i),"rem"),width:"".concat(e.toRem(s),"rem"),transform:"scale(1)"};a||(o.transform="scale(".concat(n,")"));var p=this.partProps,c=p.innerAngle,l=p.innerAngleDegree;p.innerBoxShadow;if("right"===c)o.borderRadius=0;else{var u="number"===typeof l?l:40;o.borderRadius="".concat(e.toRem(u),"rem")}return o},getIsLargeImg:function(e){return(e+this.currentIndex+1)%2===0},updateImageHeight:function(e,t){var a=t.index;if(0===a||!this.largeImgHeight){var i=this.getImgTypeWidthList(this.partProps.imgType),s=i[1];this.isDev&&this.banners.length&&""==this.banners[0].picUrl&&(e={width:176,height:176}),this.largeImgHeight=s*(e.height/e.width),this.cacheItem=Object(r["a"])({},e)}},resetImageHeight:function(){this.cacheItem&&this.updateImageHeight(this.cacheItem,{index:0})},resetAutoPlay:function(e){var t=this;if(!this.isDev&&["isAutoLoop","carouselInterval"].some((function(a){return t.partProps[a]!==e[a]}))){var a=!1;e.isAutoLoop&&this.banners.length>=this.getMinLoopSize(e.imgType)&&(a={delay:e.carouselInterval,disableOnInteraction:!1,reverseDirection:!1}),this.swiperOption.autoplay=a,this.swiperKey+=1}},getMinLoopSize:function(e){switch(e){case 3:return 5;case 2:return 4;case 1:default:return 3}},getImgTypeWidthList:function(e){var t=[];switch(e){case 1:t=[214,244];break;case 2:t=[152,176];break;case 3:t=[120,140];break;default:t=[152,176];break}return t},getSwiperProps:function(e,t){var a=this.getImgTypeWidthList(e.imgType),i=e.innerSpace;function r(e){for(var t=0,r=(e-1)*i,s=1;s<=e;s++){var n=a[s%2===0?1:0];t+=n}return t+r}var s=1,n=0;while(1){if(n=r(s),r(s+1)>t)break;s+=1}var o=s,p=Math.max(n+i,o*a[1]),c=t-p,l=p/o,u=0,d=0,g=(l-a[0])/2;a[1];if(1===e.styleType){if(c>0){var h=(p+l-t)/2;o%2!==0&&(h+=g/2),d=-h,u=c+h}}else d=0,u=c,d-=g,u+=g;return{largeImgWidth:a[1],smallImgScale:a[0]/a[1],swiperItemWidth:l,multipleItems:o,previousMargin:d,nextMargin:u,smallPadding:g}},handleClick:function(e){Object(p["b"])(e,this.ylogParams)},getPartData:function(){var e=this;this.getDatas((function(t){var a=t&&t.list||[];e.banners=e.getBanners(a),e.isDev?(t.partProps&&e.handlePartProps(Object(r["a"])(Object(r["a"])({},e.partProps),t.partProps)),e.formatList(e.partProps.imgType)):e.handlePartProps(e.part.partProps)}))},getBanners:function(e){var t=e;return Array.isArray(t)&&t.length>0&&(t=t.concat(Object(i["a"])(t))),t},formatList:function(e){var t=Object(i["a"])(this.banners);while(t.length<this.getMinLoopSize(e))t.push({picUrl:"",linkType:0,linkVal:""});this.banners=this.getBanners(t)},handlePartProps:function(t){var a=this;if(t){var i=Object(r["a"])({},t);if(2!=i.styleType){var s=e.skinManager.getHomeDefalutMargin()||24;"number"!==typeof i.spaceLeft&&(i.spaceLeft=s),"number"!==typeof i.spaceRight&&(i.spaceRight=s)}else i.spaceRight=0,i.spaceLeft=0;1==this.pageStyleMode&&("number"!==typeof i.spaceTop&&(i.spaceTop=32),"number"!==typeof i.spaceBottom&&(i.spaceBottom=24)),i.innerSpace="number"===typeof i.innerSpace?i.innerSpace:16,i.isAutoLoop="boolean"!==typeof i.isAutoLoop||i.isAutoLoop,i.carouselInterval=1e3*i.carouselInterval||3e3;var n=750-i.spaceLeft-i.spaceRight,o=this.getSwiperProps(i,n);this.resetAutoPlay(i),this.swiperProps=o,this.partProps=i,this.$nextTick((function(){a.resetImageHeight()}))}}}}}).call(this,a("7189")["default"])},9528:function(e,t,a){},9587:function(e,t,a){"use strict";a("5c03")},9853:function(e,t,a){},a070:function(e,t,a){},b023:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return e.ignoreLazy?t("div",{staticClass:"special-img"},[e.norImgUrl?t("img",{ref:"pic",staticClass:"img img--normal",attrs:{src:e.norImgUrl},on:{load:e.handleImgLoad,click:function(t){return t.stopPropagation(),e.handleTap.apply(null,arguments)}}}):e._e(),e.gifImgUrl?t("img",{staticClass:"img img--gif",attrs:{src:e.gifImgUrl},on:{click:function(t){return t.stopPropagation(),e.handleTap.apply(null,arguments)}}}):e._e()]):t("div",{staticClass:"special-img"},[e.norImgUrl?t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.norImgUrl,expression:"norImgUrl"}],ref:"pic",staticClass:"img img--normal",on:{load:e.handleImgLoad,click:function(t){return t.stopPropagation(),e.handleTap.apply(null,arguments)}}}):e._e(),e.gifImgUrl?t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.gifImgUrl,expression:"gifImgUrl"}],staticClass:"img img--gif",on:{click:function(t){return t.stopPropagation(),e.handleTap.apply(null,arguments)}}}):e._e()])},r=[],s=a("fae7"),n=s["a"],o=(a("b277"),a("2877")),p=Object(o["a"])(n,i,r,!1,null,"5ecb013a",null);t["a"]=p.exports},b277:function(e,t,a){"use strict";a("9853")},e49e:function(e,t,a){"use strict";(function(e){a("a9e3");var i=[{small:{top:0,bottom:24},middle:{top:0,bottom:0},large:{top:0,bottom:0}},{small:{top:0,bottom:32},middle:{top:0,bottom:32},large:{top:0,bottom:48}},{small:{top:0,bottom:24},middle:{top:0,bottom:24},large:{top:0,bottom:24}},{small:{top:0,bottom:32},middle:{top:0,bottom:32},large:{top:0,bottom:48}}];t["a"]={props:{pageStyleMode:{type:Number,value:1},position:{type:String,default:"top"},spaceType:{type:String,default:"large"},spaceSize:{type:[Number,String],default:""},offset:{type:Number,default:0},isDev:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1}},data:function(){return{}},computed:{heightCalc:function(){var t=0;if("number"===typeof this.spaceSize)t=this.spaceSize;else{var a=i[(this.pageStyleMode||1)-1];t=a[this.spaceType||"large"][this.position||"top"]||0}return this.aaa=t-this.offset,"".concat(e.toRem(t-this.offset),"rem")}}}}).call(this,a("7189")["default"])},eca1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{class:["container",{"container--dev":e.isDev&&e.isActive}],style:{height:e.heightCalc}})},r=[],s=a("e49e"),n=s["a"],o=(a("2bde"),a("2877")),p=Object(o["a"])(n,i,r,!1,null,"5235f330",null);t["default"]=p.exports},eeef:function(e,t,a){"use strict";a("64d2")},ef16:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("base-wrap",{attrs:{partProps:e.props,spaceType:e.spaceType,showSpaceTop:e.showSpaceTop,pageStyleMode:e.pageStyleMode,isDev:e.isDev,isActive:e.isActive}},[t("div",{staticClass:"wrap",style:e.innerStyle},[e._t("default")],2)])},r=[],s=a("3c9b"),n=s["a"],o=(a("9587"),a("2877")),p=Object(o["a"])(n,i,r,!1,null,"82a34ad8",null);t["a"]=p.exports},f354:function(e,t,a){"use strict";(function(e){var i=a("5530"),r=(a("caad"),a("2532"),a("d3b7"),a("b00c")),s=function(){},n={props:{isDev:{type:Boolean,default:!1},pageData:{type:Object,default:function(){return{}}},ylogParams:{type:Object,default:function(){return{}}}},methods:{getLinkData:function(e){var t=this.pageData&&this.pageData.tempCode||"";return[r["c"].BRAND_SUBJECT,r["c"].INBUY_SUBJECT].includes(t)&&(e.partId=this.part.partId||"",r["c"].BRAND_SUBJECT===t&&(e.brandId=this.pageData.brandId||""),r["c"].INBUY_SUBJECT===t&&(e.activityId=this.activityId||"",e.activityType=this.activityType||"")),e},fetchPartData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.part,r=a.partId,s=a.dataItems,n=a.partProps;return this.isDev?Promise.resolve({list:s||[],partProps:n}):r?e.request({url:"/api/prod/shophomepartdata",method:"get",params:Object(i["a"])(Object(i["a"])({},t),{},{PartId:r})}):Promise.reject({message:"partId 不存在"})},fetchPartCenterData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.part,r=a.dataItems,s=a.partProps;return this.isDev?Promise.resolve({list:r||[],partProps:s}):e.request({url:"/api/prod/shopcouponcentercouponlist",method:"get",params:Object(i["a"])({},t)})},getDatas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,i=this.part,r=i.partId,n=i.dataItems,o=i.partProps;this.isDev?t({list:n||[],partProps:o}):r?e.request({url:"/api/prod/shophomepartdata?PartId=".concat(r),method:"get"}).then((function(e){t(e||{})})).catch((function(e){a(e)})):a({message:"partId 不存在"})}}};t["a"]=n}).call(this,a("7189")["default"])},fae7:function(e,t,a){"use strict";(function(e){var i=a("a026"),r=a("caf9");i["default"].use(r["a"]),t["a"]={props:{dataset:{type:Object,default:function(){return{}}},ignoreLazy:{type:Boolean,default:!1},url:{type:String}},data:function(){return{norImgUrl:"",gifImgUrl:""}},watch:{url:{immediate:!0,handler:function(t){var a=e.parseImgUrl(t),i=a.imgUrl,r=a.maskUrl,s=void 0===r?"":r;this.norImgUrl=i,this.gifImgUrl=s}}},methods:{handleImgLoad:function(){this.$emit("load",this.$refs.pic.clientHeight),this.$emit("updateImageHeight",{height:this.$refs.pic.naturalHeight,width:this.$refs.pic.naturalWidth},this.dataset)},handleTap:function(e){this.$emit("tap",e)}}}}).call(this,a("7189")["default"])}}]);