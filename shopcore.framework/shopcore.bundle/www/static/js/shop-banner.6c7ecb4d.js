(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shop-banner","space"],{"120f":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"base-wrap"},[e.showSpaceTop?t("space",{attrs:{isDev:e.isDev,isActive:e.isActive,position:"top",spaceSize:e.partProps.spaceTop,pageStyleMode:e.pageStyleMode,spaceType:e.spaceType}}):e._e(),e._t("default"),t("space",{attrs:{isDev:e.isDev,isActive:e.isActive,position:"bottom",spaceSize:e.partProps.spaceBottom,pageStyleMode:e.pageStyleMode,spaceType:e.spaceType}})],2)},r=[],s=(a("a9e3"),a("eca1")),n={components:{space:s["default"]},props:{partProps:{type:Object},showSpaceTop:{type:Boolean,default:!0},spaceType:{type:String,default:"large"},isDev:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},pageStyleMode:{type:Number,default:1}}},o=n,p=(a("eeef"),a("2877")),c=Object(p["a"])(o,i,r,!1,null,"540e39ed",null);t["a"]=c.exports},2532:function(e,t,a){"use strict";var i=a("23e7"),r=a("e330"),s=a("5a34"),n=a("1d80"),o=a("577e"),p=a("ab13"),c=r("".indexOf);i({target:"String",proto:!0,forced:!p("includes")},{includes:function(e){return!!~c(o(n(this)),o(s(e)),arguments.length>1?arguments[1]:void 0)}})},"2bde":function(e,t,a){"use strict";a("9528")},3814:function(e,t,a){"use strict";(function(e){var i=a("5530"),r=(a("a9e3"),a("7212")),s=a("ef16"),n=a("b023"),o=a("8a76"),p=a("a8f5"),c=a("eca1"),l=a("f354");function u(e){return e/32}t["a"]={name:"ShopBanner",components:{Swiper:r["Swiper"],SwiperSlide:r["SwiperSlide"],space:c["default"],innerWrap:s["a"],specialImage:n["a"],timingWrap:o["a"]},mixins:[l["a"]],props:{part:{type:Object},isDev:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},isUserCenterBanner:{type:Boolean,default:!1},pageStyleMode:{type:Number},isPreview:{type:Number,default:0},partIndex:{type:Number},activityId:{type:Number},activityType:{type:Number}},data:function(){return{current:0,banners:[],subPartBanner:"",swiperHeightNum:0,partProps:{},rightAngle:!1,swiperVisible:!1,swiperOption:{observer:!0,observeParents:!0,loop:!0,autoplay:!0},swiperHeight:{},refresh:!0}},computed:{partBottom:function(){var e=this.partProps;return e.spaceBottom||0===e.spaceBottom?e.spaceBottom:32},partTop:function(){var e=this.partProps;return e.spaceTop||0},wrapPaddingBottom:function(){return u(2===this.partProps.styleType&&this.subPartBanner?this.partBottom+98:0)},imgStyle:function(){var t={},a=this.partProps,i=a.innerAngle,r=a.innerAngleDegree;return"round"===i&&"number"===typeof r?t.borderRadius="".concat(e.toRem(r),"rem"):"right"===i&&(t.borderRadius=0),t},imgWidth:function(){var t={},a=this.partProps,i=a.spaceLeft,r=a.spaceRight,s=a.showType,n=750-i-r;return 2==s&&(n-=64),t.width="".concat(e.toRem(n),"rem"),t}},watch:{"part.partProps":{immediate:!0,deep:!0,handler:function(t){var a=this;if(t){var r=this,s=Object(i["a"])({},t)||{};if(2!==s.styleType){var n=e.skinManager.getHomeDefalutMargin()||24;"number"!==typeof s.spaceLeft&&(s.spaceLeft=n),"number"!==typeof s.spaceRight&&(s.spaceRight=n)}else s.innerAngle="right",s.spaceRight=0,s.spaceLeft=0;s.hasOwnProperty("isAutoLoop")||(s.isAutoLoop=!0),this.partProps=s,this.rightAngle="right"===s.innerAngle,this.swiperVisible=!1,this.isUserCenterBanner&&(t.isAutoLoop=r.part.dataItems.length>1),this.$nextTick((function(e){if(2===t.showType){var s={spaceBetween:8,slidesPerView:"auto",centeredSlides:!0,centeredSlidesBounds:!0,slidesOffsetBefore:0,loop:!0,autoplay:!1,on:{slideChangeTransitionEnd:function(){var e=a.$refs.mySwiper&&a.$refs.mySwiper.$swiper,t=e&&e.realIndex||0;r.current=t}}};t.isAutoLoop&&(s.autoplay={delay:1e3*t.carouselInterval||3e3,disableOnInteraction:!1,reverseDirection:!1}),a.swiperOption=Object(i["a"])(Object(i["a"])({},a.swiperOption),s)}else{var n={loop:!0,on:{slideChangeTransitionEnd:function(){var e=a.$refs.mySwiper&&a.$refs.mySwiper.$swiper,t=e&&e.realIndex||0;r.current=t}}};t.isAutoLoop&&(n.autoplay={delay:1e3*t.carouselInterval||3e3,disableOnInteraction:!1,reverseDirection:!1}),a.swiperOption=Object(i["a"])(Object(i["a"])({},a.swiperOption),n)}a.swiperVisible=!0,a.$refs.mySwiper&&a.$refs.mySwiper.$swiper.update()}))}}},"part.dataItems":{immediate:!0,deep:!0,handler:function(e){var t=this;e&&this.$nextTick((function(){t.banners=e||[],t.banners&&1===t.banners.length?(t.swiperOption=Object(i["a"])(Object(i["a"])({},t.swiperOption),{},{resistanceRatio:0,loop:!1}),t.$nextTick((function(e){t.$refs.mySwiper&&t.$refs.mySwiper.$swiper.autoplay.stop()}))):(t.swiperOption=Object(i["a"])(Object(i["a"])({},t.swiperOption),{},{resistanceRatio:.85}),t.$nextTick((function(e){t.$refs.mySwiper&&t.$refs.mySwiper.$swiper.autoplay.start()})))}))}},banners:{immediate:!0,deep:!0,handler:function(e){e&&(1===e.length?this.swiperOption=Object(i["a"])(Object(i["a"])({},this.swiperOption),{},{resistanceRatio:0,loop:!1}):this.swiperOption=Object(i["a"])(Object(i["a"])({},this.swiperOption),{},{resistanceRatio:.85,loop:!0}))}}},mounted:function(){this.getPartData()},methods:{updateImageHeight:function(t){if(this.isDev)this.refresh=!1;else if(!this.swiperHeight||this.refresh){var a=this.partProps,i=a.spaceLeft,r=a.spaceRight,s=a.showType,n=750-i-r;2==s&&(n-=64);var o=Math.floor(n*t.height/t.width);o=2*Math.floor(o/2),this.swiperHeight={height:e.toRem(o)+"rem"},this.refresh=!1}},handleClick:function(e){this.isUserCenterBanner?Object(p["b"])(e,this.ylogParams):Object(p["b"])(this.getLinkData(e),this.ylogParams)},getPartData:function(){var e=this;this.isUserCenterBanner?this.banners=this.part.dataItems||[]:this.getDatas((function(t){e.banners=t&&t.list||[],e.banners&&1===e.banners.length&&e.$nextTick((function(t){e.$refs.mySwiper&&e.$refs.mySwiper.$swiper.autoplay.stop()})),e.subPartBanner=t.subPart&&t.subPart.list&&t.subPart.list.length>0&&t.subPart.list[0]&&t.subPart.list[0].picUrl||""}))}}}}).call(this,a("7189")["default"])},"3c9b":function(e,t,a){"use strict";(function(e){var i=a("5530"),r=(a("a9e3"),a("120f"));t["a"]={components:{baseWrap:r["a"]},props:{partProps:{type:Object},spaceType:{type:String,default:"large"},pageStyleMode:{type:Number,default:1},showSpaceTop:{type:Boolean,default:!0},showBg:{type:Boolean},isDev:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},hideSpace:{type:Boolean}},data:function(){return{props:{},spaceStyle:{}}},computed:{innerStyle:function(){var e={};return this.spaceStyle&&(e=Object(i["a"])(Object(i["a"])({},e),this.spaceStyle)),this.showBg&&(e=Object(i["a"])(Object(i["a"])({},e),this.cardBgStyle(this.props))),e}},watch:{partProps:{immediate:!0,handler:function(t){if(t){var a=Object(i["a"])({},t),r={};if(this.hideSpace)a.spaceLeft=0,a.spaceRight=0;else{var s=e.skinManager.getHomeDefalutMargin()||24;"number"!==typeof a.spaceLeft&&(a.spaceLeft=s),"number"!==typeof a.spaceRight&&(a.spaceRight=s)}"number"===typeof a.spaceLeft&&(r={paddingLeft:"".concat(e.toRem(a.spaceLeft),"rem")}),"number"===typeof a.spaceRight&&(r=Object(i["a"])(Object(i["a"])({},r),{},{paddingRight:"".concat(e.toRem(a.spaceRight),"rem")})),this.props=a,this.spaceStyle=r}},deep:!0}},methods:{cardBgStyle:function(){var e={};return this.partProps&&!this.partProps.hideModuleColor&&(e.backgroundColor=this.partProps.moduleColor||"white"),e}}}}).call(this,a("7189")["default"])},"3f8f":function(e,t,a){},"5c03":function(e,t,a){},"64d2":function(e,t,a){},"8a76":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return e.isPreview&&e.getTimingDesc(e.part)?t("div",{staticClass:"timing-wrap"},[e._v(e._s(e.getTimingDesc(e.part)))]):e._e()},r=[],s=(a("99af"),{props:["isPreview","part"],data:function(){return{}},methods:{getTimingDesc:function(e){var t=e.beginTime,a=e.endTime,i="";return t&&a?i="定时发布：".concat(t," 开始，").concat(a," 结束"):t?i="定时发布：".concat(t," 开始"):a&&(i="定时发布：".concat(a," 结束")),i}}}),n=s,o=(a("9761"),a("2877")),p=Object(o["a"])(n,i,r,!1,null,"ca5331e4",null);t["a"]=p.exports},9528:function(e,t,a){},9587:function(e,t,a){"use strict";a("5c03")},"95b0":function(e,t,a){},9761:function(e,t,a){"use strict";a("3f8f")},9853:function(e,t,a){},b023:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return e.ignoreLazy?t("div",{staticClass:"special-img"},[e.norImgUrl?t("img",{ref:"pic",staticClass:"img img--normal",attrs:{src:e.norImgUrl},on:{load:e.handleImgLoad,click:function(t){return t.stopPropagation(),e.handleTap.apply(null,arguments)}}}):e._e(),e.gifImgUrl?t("img",{staticClass:"img img--gif",attrs:{src:e.gifImgUrl},on:{click:function(t){return t.stopPropagation(),e.handleTap.apply(null,arguments)}}}):e._e()]):t("div",{staticClass:"special-img"},[e.norImgUrl?t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.norImgUrl,expression:"norImgUrl"}],ref:"pic",staticClass:"img img--normal",on:{load:e.handleImgLoad,click:function(t){return t.stopPropagation(),e.handleTap.apply(null,arguments)}}}):e._e(),e.gifImgUrl?t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.gifImgUrl,expression:"gifImgUrl"}],staticClass:"img img--gif",on:{click:function(t){return t.stopPropagation(),e.handleTap.apply(null,arguments)}}}):e._e()])},r=[],s=a("fae7"),n=s["a"],o=(a("b277"),a("2877")),p=Object(o["a"])(n,i,r,!1,null,"5ecb013a",null);t["a"]=p.exports},b277:function(e,t,a){"use strict";a("9853")},de0c:function(e,t,a){"use strict";a("95b0")},e49e:function(e,t,a){"use strict";(function(e){a("a9e3");var i=[{small:{top:0,bottom:24},middle:{top:0,bottom:0},large:{top:0,bottom:0}},{small:{top:0,bottom:32},middle:{top:0,bottom:32},large:{top:0,bottom:48}},{small:{top:0,bottom:24},middle:{top:0,bottom:24},large:{top:0,bottom:24}},{small:{top:0,bottom:32},middle:{top:0,bottom:32},large:{top:0,bottom:48}}];t["a"]={props:{pageStyleMode:{type:Number,value:1},position:{type:String,default:"top"},spaceType:{type:String,default:"large"},spaceSize:{type:[Number,String],default:""},offset:{type:Number,default:0},isDev:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1}},data:function(){return{}},computed:{heightCalc:function(){var t=0;if("number"===typeof this.spaceSize)t=this.spaceSize;else{var a=i[(this.pageStyleMode||1)-1];t=a[this.spaceType||"large"][this.position||"top"]||0}return this.aaa=t-this.offset,"".concat(e.toRem(t-this.offset),"rem")}}}}).call(this,a("7189")["default"])},e64c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"shop-banner"},[t("timingWrap",{attrs:{isPreview:e.isPreview,part:e.part}}),t("inner-wrap",{attrs:{isDev:e.isDev,isActive:e.isActive,partProps:e.partProps,pageStyleMode:e.pageStyleMode,spaceType:"small"}},[t("div",{class:["banner-wrap",{"banner-wrap--spec":e.rightAngle},e.subPartBanner?"banner-wrap--subBanner":"banner-wrap--noSubBanner"]},[t("div",{class:[2===e.partProps.showType?"banner-container":""]},[e.banners.length&&e.swiperVisible?t("Swiper",{ref:"mySwiper",staticClass:"show-swiper",style:[e.imgWidth,e.swiperHeight],attrs:{options:e.swiperOption}},e._l(e.banners,(function(a,i){return t("SwiperSlide",{key:i},[a.picUrl?t("div",{staticClass:"img",style:e.imgStyle},[a.picUrl?t("specialImage",{attrs:{url:a.picUrl,ignoreLazy:!0},on:{updateImageHeight:e.updateImageHeight,tap:function(t){return e.handleClick(a)}}}):e._e()],1):t("div",{staticClass:"image-demo",style:e.imgStyle})])})),1):e._e(),e.banners.length>1||e.isDev?t("div",{staticClass:"custom-indicator",attrs:{slot:"indicator"},slot:"indicator"},e._l(e.banners,(function(a,i){return t("div",{key:i,class:["indicator",{"indicator-rect":2===e.partProps.indicatorType},e.current===i?"active":""]})})),0):e._e()],1),e.rightAngle&&e.subPartBanner?t("div",{staticClass:"custom-img"},[t("img",{staticClass:"img",attrs:{src:e.subPartBanner}})]):e._e()])])],1)},r=[],s=a("3814"),n=s["a"],o=(a("de0c"),a("2877")),p=Object(o["a"])(n,i,r,!1,null,"48619dd5",null);t["default"]=p.exports},eca1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{class:["container",{"container--dev":e.isDev&&e.isActive}],style:{height:e.heightCalc}})},r=[],s=a("e49e"),n=s["a"],o=(a("2bde"),a("2877")),p=Object(o["a"])(n,i,r,!1,null,"5235f330",null);t["default"]=p.exports},eeef:function(e,t,a){"use strict";a("64d2")},ef16:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("base-wrap",{attrs:{partProps:e.props,spaceType:e.spaceType,showSpaceTop:e.showSpaceTop,pageStyleMode:e.pageStyleMode,isDev:e.isDev,isActive:e.isActive}},[t("div",{staticClass:"wrap",style:e.innerStyle},[e._t("default")],2)])},r=[],s=a("3c9b"),n=s["a"],o=(a("9587"),a("2877")),p=Object(o["a"])(n,i,r,!1,null,"82a34ad8",null);t["a"]=p.exports},f354:function(e,t,a){"use strict";(function(e){var i=a("5530"),r=(a("caad"),a("2532"),a("d3b7"),a("b00c")),s=function(){},n={props:{isDev:{type:Boolean,default:!1},pageData:{type:Object,default:function(){return{}}},ylogParams:{type:Object,default:function(){return{}}}},methods:{getLinkData:function(e){var t=this.pageData&&this.pageData.tempCode||"";return[r["c"].BRAND_SUBJECT,r["c"].INBUY_SUBJECT].includes(t)&&(e.partId=this.part.partId||"",r["c"].BRAND_SUBJECT===t&&(e.brandId=this.pageData.brandId||""),r["c"].INBUY_SUBJECT===t&&(e.activityId=this.activityId||"",e.activityType=this.activityType||"")),e},fetchPartData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.part,r=a.partId,s=a.dataItems,n=a.partProps;return this.isDev?Promise.resolve({list:s||[],partProps:n}):r?e.request({url:"/api/prod/shophomepartdata",method:"get",params:Object(i["a"])(Object(i["a"])({},t),{},{PartId:r})}):Promise.reject({message:"partId 不存在"})},fetchPartCenterData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.part,r=a.dataItems,s=a.partProps;return this.isDev?Promise.resolve({list:r||[],partProps:s}):e.request({url:"/api/prod/shopcouponcentercouponlist",method:"get",params:Object(i["a"])({},t)})},getDatas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,i=this.part,r=i.partId,n=i.dataItems,o=i.partProps;this.isDev?t({list:n||[],partProps:o}):r?e.request({url:"/api/prod/shophomepartdata?PartId=".concat(r),method:"get"}).then((function(e){t(e||{})})).catch((function(e){a(e)})):a({message:"partId 不存在"})}}};t["a"]=n}).call(this,a("7189")["default"])},fae7:function(e,t,a){"use strict";(function(e){var i=a("a026"),r=a("caf9");i["default"].use(r["a"]),t["a"]={props:{dataset:{type:Object,default:function(){return{}}},ignoreLazy:{type:Boolean,default:!1},url:{type:String}},data:function(){return{norImgUrl:"",gifImgUrl:""}},watch:{url:{immediate:!0,handler:function(t){var a=e.parseImgUrl(t),i=a.imgUrl,r=a.maskUrl,s=void 0===r?"":r;this.norImgUrl=i,this.gifImgUrl=s}}},methods:{handleImgLoad:function(){this.$emit("load",this.$refs.pic.clientHeight),this.$emit("updateImageHeight",{height:this.$refs.pic.naturalHeight,width:this.$refs.pic.naturalWidth},this.dataset)},handleTap:function(e){this.$emit("tap",e)}}}}).call(this,a("7189")["default"])}}]);