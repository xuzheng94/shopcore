(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["share-modal"],{2528:function(t,a,e){"use strict";e("3df4")},2532:function(t,a,e){"use strict";var s=e("23e7"),i=e("e330"),r=e("5a34"),n=e("1d80"),o=e("577e"),c=e("ab13"),h=i("".indexOf);s({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~h(o(n(this)),o(r(t)),arguments.length>1?arguments[1]:void 0)}})},"3df4":function(t,a,e){},"87d7":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAn1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8Kd3m4AAAANHRSTlMAAwgQFBcYGxweISInKSwwPD9ASVNUVWVscnx9f4mNjpOYorDCw8vO2uDl5vDx8/T1+Pn9s5ykKwAAAK9JREFUKM+90kkWgkAMBNBCxBEVcdYADu2ALWpj7n82FwgEH26tVV79VXcCeMowM7+m+OQcAAC8NA6JiDadHAKOAEDFNr4ScQTAhECtMMlqsFgTEWneVWB05Dw3CZPnddm1ALhauwJ6yakJ5L2A/b0t+hIaj202XLQLCUOeZcO8jwqM2a88pgBfguX8gFVSQuvglED89SV/hrpFAaGpWy1gx6o4BpkwTj3k5yNjlIc3RnkcZr208cYAAAAASUVORK5CYII="},c9fe:function(t,a,e){"use strict";(function(t){var s=e("5530"),i=(e("8a58"),e("e41f")),r=(e("7db0"),e("d3b7"),e("ac1f"),e("1276"),e("a9e3"),e("7fcb"));e("f354");function n(t){var a,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(i){var r=this;if(a&&clearTimeout(a),s){var n=!a;a=setTimeout((function(){a=null}),e),n&&t.apply(this,i)}else a=setTimeout((function(){t.apply(r,i)}),e)}}a["a"]={components:{"van-popup":i["a"],shareMask:r["a"]},props:["pageId","parts"],data:function(){return{shareUrl:"",showShareDialog:!1}},methods:{goToShare:n((function(){var a=this;if(t.auth.islogin())if(this.pageId){var e=(this.parts.find((function(t){var a=t.skinCode.split("@");return a.length>1?a[0]:"one-img-text"===t.skinCode}))||{}).partId;t.showLoading({title:this.$t("common.loading",["……"])}),t.ylog.send({action_type:"click",module_name:"share"});var i={pageId:Number(this.pageId),partId:e||1};t.getShareData().then((function(e){t.request({url:"/api/prod/sqshareposter",method:"post",data:Object(s["a"])(Object(s["a"])({},i),e)}).then((function(e){t.hideLoading(),e.shareUrl?(a.shareUrl=e.shareUrl,a.showShareDialog=!0):t.showToast({title:e.msg||a.$t("skins.sharing_failed")})})).catch((function(e){t.hideLoading(),t.showToast({title:e.message||a.$t("skins.sharing_failed"),icon:"none"})}))}))}else t.showToast({title:this.$t("skins.part_not_exist")});else t.auth.tologin()}))}}}).call(this,e("7189")["default"])},f1d5:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"share",on:{click:t.goToShare}},[a("img",{staticClass:"share__image",attrs:{src:e("87d7"),alt:""}}),a("span",{staticClass:"share__text"},[t._v(t._s(t.$t("common.share")))])]),a("shareMask",{attrs:{shareUrl:t.shareUrl},model:{value:t.showShareDialog,callback:function(a){t.showShareDialog=a},expression:"showShareDialog"}})],1)},i=[],r=e("c9fe"),n=r["a"],o=(e("2528"),e("2877")),c=Object(o["a"])(n,s,i,!1,null,"39002657",null);a["default"]=c.exports},f354:function(t,a,e){"use strict";(function(t){var s=e("5530"),i=(e("caad"),e("2532"),e("d3b7"),e("b00c")),r=function(){},n={props:{isDev:{type:Boolean,default:!1},pageData:{type:Object,default:function(){return{}}},ylogParams:{type:Object,default:function(){return{}}}},methods:{getLinkData:function(t){var a=this.pageData&&this.pageData.tempCode||"";return[i["c"].BRAND_SUBJECT,i["c"].INBUY_SUBJECT].includes(a)&&(t.partId=this.part.partId||"",i["c"].BRAND_SUBJECT===a&&(t.brandId=this.pageData.brandId||""),i["c"].INBUY_SUBJECT===a&&(t.activityId=this.activityId||"",t.activityType=this.activityType||"")),t},fetchPartData:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.part,i=e.partId,r=e.dataItems,n=e.partProps;return this.isDev?Promise.resolve({list:r||[],partProps:n}):i?t.request({url:"/api/prod/shophomepartdata",method:"get",params:Object(s["a"])(Object(s["a"])({},a),{},{PartId:i})}):Promise.reject({message:"partId 不存在"})},fetchPartCenterData:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.part,i=e.dataItems,r=e.partProps;return this.isDev?Promise.resolve({list:i||[],partProps:r}):t.request({url:"/api/prod/shopcouponcentercouponlist",method:"get",params:Object(s["a"])({},a)})},getDatas:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,s=this.part,i=s.partId,n=s.dataItems,o=s.partProps;this.isDev?a({list:n||[],partProps:o}):i?t.request({url:"/api/prod/shophomepartdata?PartId=".concat(i),method:"get"}).then((function(t){a(t||{})})).catch((function(t){e(t)})):e({message:"partId 不存在"})}}};a["a"]=n}).call(this,e("7189")["default"])}}]);