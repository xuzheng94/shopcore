(function(s){function e(e){for(var a,i,n=e[0],o=e[1],c=e[2],u=0,p=[];u<n.length;u++)i=n[u],Object.prototype.hasOwnProperty.call(d,i)&&d[i]&&p.push(d[i][0]),d[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),t()}function t(){for(var s,e=0;e<r.length;e++){for(var t=r[e],a=!0,n=1;n<t.length;n++){var o=t[n];0!==d[o]&&(a=!1)}a&&(r.splice(e--,1),s=i(i.s=t[0]))}return s}var a={},d={"pages/addressselect":0},r=[];function i(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return s[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=s,i.c=a,i.d=function(s,e,t){i.o(s,e)||Object.defineProperty(s,e,{enumerable:!0,get:t})},i.r=function(s){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,e){if(1&e&&(s=i(s)),8&e)return s;if(4&e&&"object"===typeof s&&s&&s.__esModule)return s;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:s}),2&e&&"string"!=typeof s)for(var a in s)i.d(t,a,function(e){return s[e]}.bind(null,a));return t},i.n=function(s){var e=s&&s.__esModule?function(){return s["default"]}:function(){return s};return i.d(e,"a",e),e},i.o=function(s,e){return Object.prototype.hasOwnProperty.call(s,e)},i.p="";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],o=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var l=o;r.push([4,"chunk-vendors","chunk-common"]),t()})({3057:function(s,e,t){"use strict";(function(s){t("ab71");var a=t("58e6"),d=(t("e9c4"),t("d3b7"),t("159b"),t("4de4"),t("99af"),t("191e")),r=t("c08d"),i=t("328b"),n=t("d63d"),o=(t("21a8"),t("2a83")),c=t("ed08");e["a"]={data:function(){return{isLoading:!1,addressList:[],addressId:0,isWechat:!0,addressOrderId:"",address:{},addressEditObj:{},showEditAddress:!1,isOverseasVersion:!1}},components:{"van-pull-refresh":a["a"],pullRefreshLoading:r["a"],AddressDialog:o["a"]},mixins:[d["a"]],created:function(){var e=this;this.initData(),s.setNavigationBarTitle({title:this.$t("addressselect.select_receipt_address")}),s.onShow((function(){e.requestAddress()}));var t=s.getQuery();t.addressOrderId&&void 0!=t.addressOrderId&&(this.addressOrderId=t.addressOrderId);var a=t.address?JSON.parse(decodeURIComponent(t.address)):{};a&&void 0!=a.addressee?(this.address=a,s.setNavigationBarTitle({title:this.$t("addressselect.edit_success")})):s.setNavigationBarTitle({title:this.$t("addressselect.select_receipt_address")})},methods:{pullRefresh:function(){this.initData()},initData:function(){this.addressId=s.getQuery().addressId||0,this.isWechat=s.isWechat,this.requestAddress(),this.getExtraData()},handleTap:function(e,t){var a=this;switch(e){case"selectTap":if(this.addressOrderId&&(t.addressOrderId=this.addressOrderId,!this.addressEditObj.addressee))return this.showEditAddress=!0,void(this.addressEditObj=t);t.isAddressChange=this.addressId===t.addressId,n["a"].setSelectAdrItem(JSON.stringify(t)),s.navigateBack({delta:1});break;case"editAddress":t&&(t.isEdit=1);var d=encodeURIComponent(JSON.stringify(t));s.setStorageSync("editAddressData",d),s.navigateTo({url:this.isOverseasVersion?"/pages/addoverseasaddress/main?backOrder=1&addressOrderId=".concat(this.addressOrderId):"/pages/addaddress/main?backOrder=1&addressOrderId=".concat(this.addressOrderId)});break;case"add":s.navigateTo({url:this.isOverseasVersion?"/pages/addoverseasaddress/main?backOrder=1&addressOrderId=".concat(this.addressOrderId):"/pages/addaddress/main?backOrder=1&addressOrderId=".concat(this.addressOrderId)});break;case"addWXTap":wx.openAddress({success:function(s){a.wxAddress=s,n["a"].getAddressLibrary((function(s){a.addAddressFromWX(s)}))}});break;default:break}},requestAddress:function(){var e=this;s.showLoading({title:"Loading..."}),s.request({url:i["a"].addresslistApi}).then((function(t){s.hideLoading(),e.isLoading=!1,e.addressList=t.addressList,e.addressList.forEach((function(s){return s.isChina=c["a"].isChinaCode(s.countryCode)}));var a=e.address;if(a&&a.addressee&&t.addressList&&t.addressList.length){var d=t.addressList.filter((function(s){var e=s.area+","+s.detailAddress,t=s.addressee==a.addressee&&e==a.detailAddress;return a.postCode&&a.phone?t&&s.postCode==a.postCode&&s.phone==a.phone:a.postCode?t&&s.postCode==a.postCode:a.phone?t&&s.phone==a.phone:t}));d&&d.length&&(e.addressId=d[0].addressId)}})).catch((function(t){s.hideLoading(),e.isLoading=!1,s.showToast({title:t.message||t.msg||""})}))},addAddressFromWX:function(e){var t=this.wxAddress.telNumber,a=t;t.length>10&&(a="".concat(t.substring(0,3),"****").concat(t.substring(7)));var d={addressee:this.wxAddress.userName,area:"".concat(this.wxAddress.provinceName,",").concat(this.wxAddress.cityName,",").concat(this.wxAddress.countryName),detailAddress:this.wxAddress.detailInfo,phone:t,phone_format:a,isDefault:!1},r=n["a"].isMatch(e,this.wxAddress.provinceName,this.wxAddress.cityName,this.wxAddress.countryName);if(!r)return d.area="",void s.navigateTo({url:"/pages/addaddress/main?addressData=".concat(decodeURIComponent(JSON.stringify(d)))});var o=!1;for(var c in this.addressList){var l=this.addressList[c];if(l.addressee===d.addressee&&l.area===d.area&&l.detailAddress===d.detailAddress&&l.phone===d.phone_format){o=!0;break}}o||(d.phone_format&&delete d.phone_format,s.request({url:i["a"].addressWxApi,method:"POST",data:d}).then((function(e){d.addressId=e.addressId,n["a"].setSelectAdrItem(JSON.stringify(d)),s.navigateBack({delta:1})})).catch((function(e){s.showToast({title:e.message||e.msg||""})})))},postCode:function(s,e){var t=s&&s.indexOf("欧洲")>=0;return t?",".concat(e):""},confirmEdit:function(){this.showEditAddress=!1,this.handleTap("selectTap",this.addressEditObj)},closeEdit:function(){this.showEditAddress=!1,this.addressEditObj={}},getExtraData:function(){var e=this;s.request({url:"/api/prod/sqshopextra"}).then((function(s){var t=s.sellerInfo||{};e.isOverseasVersion=t&&110===t.versionType})).catch((function(s){console.log(s)}))}}}}).call(this,t("7189")["default"])},"328b":function(s,e,t){"use strict";e["a"]={addresslistApi:"/api/usercenter/addresslist",addressWxApi:"/api/usercenter/address"}},4:function(s,e,t){s.exports=t("7f0c")},"418a":function(s,e,t){},"7f0c":function(s,e,t){"use strict";t.r(e);t("e260"),t("e6cf"),t("cca6"),t("a79d");var a=t("56d7"),d=function(){var s=this,e=s._self._c;return e("div",{staticStyle:{background:"#f8f8f8",height:"100vh"}},[e("van-pull-refresh",{attrs:{"head-height":"60"},on:{refresh:s.pullRefresh},scopedSlots:s._u([{key:"pulling",fn:function(s){return[e("div")]}},{key:"loosing",fn:function(){return[e("pullRefreshLoading",{attrs:{"bg-color":"#f8f8f8"}})]},proxy:!0},{key:"loading",fn:function(){return[e("pullRefreshLoading",{attrs:{"bg-color":"#f8f8f8"}})]},proxy:!0}]),model:{value:s.isLoading,callback:function(e){s.isLoading=e},expression:"isLoading"}},[e("div",{staticClass:"container"},s._l(s.addressList,(function(a,d){return e("div",{key:d,staticClass:"cell"},[e("div",{staticClass:"main-container",on:{click:function(e){return s.handleTap("selectTap",a)}}},[e("div",{staticClass:"left-container",on:{click:function(e){return e.stopPropagation(),s.handleTap("editAddress",a)}}},[e("img",{staticClass:"edit",attrs:{src:t("ef51")}}),s._v(" "),e("span",{staticClass:"separator"})]),e("div",{staticClass:"right-container"},[e("div",{staticClass:"right-top-container"},[e("span",{staticClass:"name"},[s._v(" "+s._s(a.addressee)+" "+s._s(a.addressee2)+" ")]),s._v(" "),e("span",{staticClass:"phone"},[s._v(" "+s._s(a.phone)+" ")])]),e("span",{directives:[{name:"show",rawName:"v-show",value:a.isDefault,expression:"item.isDefault"}],staticClass:"default-icon"},[s._v(" "+s._s(s.$t("addressselect.default")))]),a.isChina?e("span",{staticClass:"address"},[s._v(" "+s._s(a.area)+s._s(s.postCode(a.area,a.postCode))+","+s._s(a.detailAddress)+" ")]):e("span",{staticClass:"address"},[s._v(" "+s._s(a.detailAddress)+" "+s._s(a.detailAddress2)+" "+s._s(a.area)+" "+s._s(a.countryName)+" ")])]),e("div",{staticClass:"select-container"},[e("img",{directives:[{name:"show",rawName:"v-show",value:a.addressId==s.addressId,expression:"item.addressId == addressId"}],staticClass:"select",attrs:{src:t("a9f0")}})])]),e("div",{staticClass:"line"})])})),0)]),e("div",{staticClass:"add-new"},[e("span",{staticClass:"add",on:{click:function(e){return e.stopPropagation(),s.handleTap("add")}}},[s._v("+ "+s._s(s.$t("addressselect.add_receipt_address")))]),s.isWechat?[e("div",{staticClass:"sep"}),e("div",{staticClass:"add-wx"},[e("img",{staticClass:"add-wx-icon",attrs:{src:t("1103")}}),e("span",{staticClass:"add-wx-btn",on:{click:function(e){return e.stopPropagation(),s.handleTap("addWXTap")}}},[s._v(s._s(s.$t("addressselect.import_we_chat")))])])]:s._e()],2),e("address-dialog",{attrs:{addressObj:s.addressEditObj,showAddressDialog:s.showEditAddress,surroundings:"editAddress"},on:{close:s.closeEdit,confirm:s.confirmEdit}})],1)},r=[],i=t("3057"),n=i["a"],o=(t("dd83"),t("ed36"),t("2877")),c=Object(o["a"])(n,d,r,!1,null,"5006dfc8",null),l=c.exports;t.p=publicPath,Object(a["a"])(l)},a9f0:function(s,e){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAADM0lEQVRYR82Yz0sUYRjHv8/MQooaBLkb/SCxW+AhiDrkJRJCKejXjuti4sEoKP+AQjuk1FkoSAJBD7qOaUFRJISH6pAEHoRuBZlFq4HRFpjOzBMzzdqsOzv77uwUM7dln/d5Pjzv836f93kJIf2oHK50Mlkv6fp+Zt4LYKvt6zsRfTBk+W1sdPS9X/8lg6UV5QiYO4iohYHdXoEJWGTmJyAaianqq1IghcHSinIcwA0AhwhgBoTWOmxnAVyPqeozEcCizj+3tW2P6PpdBs5AEMYjMBMwpcnypZ1jY1+LZLvw38uJxEHW9QdM5LllIhlw2hDzIsny6dpU6k2htQUz9iWROEaG8ZCAKtFtEwW0t/cnS9KpHanUc7d1rmBmpgzDmAFQLRrMp90PSZKOumUuD8yqKU2bA9GuoDO1Gd7MHJg/aZHIgc01lwe2pCj3GTjrMwN+l03GVPVcTh06f9iS8DSA01cqIANodkpJTsbSivLa1KlSvQZkPxtT1cNZXxtgS/F4IxO9CCiIqxuqqACvrwO6XihMY7ZDbICl4/FBIrrwrwperqvDtp4erM3P4/vAQB6YJSHM92ITExfNP/9mTFE+Fut9frNpQfX2gqqqkBkcxOqMqUT5n9lbo6q6ZwPsWzJZ/0vT3vkN7LUuB2poCKvT095hIpF95q3Eythya+sJg/lR0GAlQwGQiE7Wjo8/tsCWFOUyA7cLgkkSEIkAa2vC7H6g7C28ElXVO1mwqwzcLBS1prsbWxoasNLfD31hoSicXygb7FpUVW8JgVU0NaGmqwucyWClr88TrhwoNzDvrQRQ2dKC6o4OT7hyofK2UrT4veCCgDLBcorfHCogKBducEFBWcXrlAv7ZAoLrBMuMzKCms7OP+IpolMeRydPYE3bUltSFo6IzF4SBJR7S7LGMuBlUS1wGFQ2N6O6vR2Z4eHiii7mOL+JW1nzc+0xxdcwxMJ6W7lfe2wwc3YM30XRPgT//WpNwGTU62ptgpnDiKxpcxS2YcS6bYRxfMvWZygH3ixcKJ8IsnBBP6oAmNLLfVRxyk7onqE2a6I15gHnQ/Nw5yba5hCzHpanziB6j4iP3zMbyDZdo1/1AAAAAElFTkSuQmCC"},af04:function(s,e,t){},dd83:function(s,e,t){"use strict";t("af04")},ed36:function(s,e,t){"use strict";t("418a")},ef51:function(s,e){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAAXNSR0IArs4c6QAABWNJREFUWAm1V1tMXEUYnjl7dhdcqE1vtokBaw1UTJvU2IdaayDR2mBNTbRYDcUuy31hfbFPxmdNTKrspbtIIZJgmpJq4gM0rQ9Y1PTBW9XGEOulXip0oaWIlmV3z/x+c+Asy2EPbGCdTXbmv//zz///M4ez/2kMDg6q3/3w4z5OYrvC6I5Qlcub1627UlVVpWUyyTMhV4sLBsNHYO0NRnRfui7O2SjgHoeqdDU1NV1dQEsHcrFuD0ReZUy8JXVxzmPE6HtO3MU4KyUim2EDtLNOu+JrbGwc0XkNQi5mfzi8i5L0JXQpCPUZ5spr89XWjknd/u7ujXQnfpQTeeBcmcTBmUkbVw56vY2f5fRo/IGT54mx/bAw5PM2lcMQwMXDH+rYz0gLEbEHcFy/sbVrdiqL2VaGCXR2boUDT0ppG+OvWzkh6T5v44V8p/0xRGEMzhTTxNRrOXOEZrRa5AB086utrU1D0uBSo76+/gZX+Amdh7NDOXEEDqBC6ZhUitPo0pVn8Yck/kKXYaw4J44Ew+GnkID3QmnSxvN7svBBZ4H7W+QCx/NHThwhjdVJhciLAa/XLXtFVoM0oecUEvabVTsiyxIePKNb5vxUVh6Ayd/buwZyz0t+lPRHaraClnzTMzXIETvUjewoKz1nyWcmTE69CLm7EI2JAlf+h6uOCJR55mz0VFRUJM32rOCUHPH33W53bFWOBIORPYzYg9KY0867rYya8YFAxw7I7ZZ4m2LTq2xVjghGs0nK2EXzJWY2ng4LRehRRHJ/7fU2XJY01R8Md6KAjqQzpq8JqYQu9a6vtRmX2fwIhfoKNBqvkhjiPOve4R8YcLJfrlXP9f5UciNZ6XHUccG8CfNKivC9Zqxgt16QctjV5OZN68+a6VYw//X3ZwWx9aBPF7ryTht8Ki6c3crE1MNCkRfm4gFDwmkjvQOmU41kI06n8diZTqcttRbzyf0BkvS2wav6qqv/BvCJgchm9kciZZQQe3RezlLhXU42GDxVLFjiCRljhS08zpUla3Iu2Rj/9pWWlq+Wc8CgCxbXL0b0jp9wMV408HJW+/r6bNHo7W2Kksx4NIqiCLyifpZHJAVwJDwQDB/V16ZdSZzVgJziD0aOQQN+Sjf0LXirqCPR8UuypjXNQoUmWCAUOQ/qAckRDoe3QsNGuc5z8FSySXipgZ6De4WK4IDGyd5j5lXgV9SMNMPYjf7cm8Ojnc+OkpKSVLIZOKsZcdB7BzZxrq3N85eZT/W1tRzs6uoqNBMMOBYrJK+36h8DdjgcY4npuA4ODw9vx+KKQbOaOzo6NsTi4pA8FrSCjMmtX3oej2fKSokZX1dXd8sfCP8p3x8JwR4BfVlH4kmBnCIHnLix86HSfrNOCa+sahhdksJoaOVyXmqgGPJJMO8cj+XFqCJsRTNJ2suFyFg1pCj4GHEOpj940PMvIMqHofxpWXVWX29I7E2j0ZtnEL1teHtMOWzMb+W0OpPQhrCz4gW1lM4tBEvyaXkx7TLQeXZbfyyOciLaMDo+/ijwnxo0Y24PRQ7Ek/Qe4nYPKiWB0L/c3Nx83aCbZxVMvWA+jPaQMSL4QhNo/gvKVH6dIU8+x073IezVUJpyREY4lhAnmBDP6cY4H0cXfQkN7GOz8XQ4s/F0Dot1e/BkA46nAxuRl96WiYkJFyrjODbVBpF8KQbl/Zw5GzKVq1mtXjVmZDYwjucMjucd9Ji7R6I3+zijcsjN3uKcX4ODx/G1l/2tnI1RKx5EpRtRcRt0RGCMuPImv78o5KusnDHw2cwrjohUbmO2oMY0NyriOjLs7bWFrkhNTc2/2RjOOQ/ukEokaKrtr9TAf1nXBYtsa56QAAAAAElFTkSuQmCC"}});