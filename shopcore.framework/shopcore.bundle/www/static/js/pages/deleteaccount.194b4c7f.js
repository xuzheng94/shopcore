(function(e){function t(t){for(var n,s,c=t[0],r=t[1],l=t[2],d=0,m=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);u&&u(t);while(m.length)m.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],n=!0,c=1;c<i.length;c++){var r=i[c];0!==o[r]&&(n=!1)}n&&(a.splice(t--,1),e=s(s.s=i[0]))}return e}var n={},o={"pages/deleteaccount":0},a=[];function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.e=function(){return Promise.resolve()},s.m=e,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=r;a.push([41,"chunk-vendors","chunk-common"]),i()})({"1bae":function(e,t,i){},"27fb":function(e,t,i){"use strict";i("e9b7")},"3c4c":function(e,t,i){"use strict";i("d2748")},41:function(e,t,i){e.exports=i("d7b5")},"6ccb":function(e,t,i){"use strict";i("1bae")},"994f":function(e,t,i){"use strict";var n=function(){var e=this,t=e._self._c;return t("Popup",{staticClass:"countrydialog",attrs:{value:e.value,zIndex:9999,position:"bottom","close-on-click-overlay":!1},on:{input:e.input}},[t("div",{staticClass:"container"},[t("div",{staticClass:"container__title"},[t("span",{staticClass:"container__title__text"},[e._v(e._s(e.title))]),t("span",{staticClass:"container__title__close",on:{click:function(t){return t.stopPropagation(),e.input(!1)}}})]),t("div",{staticClass:"container__list"},e._l(e.areaList,(function(i,n){return t("div",{key:n,class:["container__list__item",{item__active:e.countryInfo.cnTitle==i.cnTitle&&e.countryInfo.areaCode==i.areaCode}],on:{click:function(t){return e.selectCountry(i)}}},[t("div",{staticClass:"item__name"},[e._v(e._s(i.cnTitle))]),t("div",{staticClass:"item__code"},[e._v(e._s(i.areaCode))])])})),0)])])},o=[],a=(i("8a58"),i("e41f")),s=i("5138"),c={components:{Popup:a["a"]},mixins:[s["a"]],props:{value:{type:Boolean},title:{type:String},areaList:{type:Array},countryInfo:{type:Object}},data:function(){return{countryList:[]}},mounted:function(){},computed:{},methods:{input:function(e){this.$emit("input",e)},selectCountry:function(e){this.$emit("selectCountry",e),this.$emit("input",!1)}}},r=c,l=(i("3c4c"),i("6ccb"),i("2877")),u=Object(l["a"])(r,n,o,!1,null,"2aa5cd98",null);t["a"]=u.exports},bb42:function(e,t,i){"use strict";(function(e){i("8a58");var n=i("e41f"),o=(i("be7f"),i("565f")),a=(i("38d5"),i("772a")),s=i("44e4"),c=i("0db1"),r=i("b0ab"),l=i("41c5"),u=i("994f"),d=i("b68d"),m=i("a8f5"),h={smsApi:"/api/usercenter/sqsendverifycode",bindMobile:"/api/usercenter/bindmobile",sqsendverifycode:"/api/usercenter/sqsendverifycode",sqweblogin:"/api/usercenter/sqweblogin"};t["a"]={name:"index",data:function(){return{showPage:!1,isSending:!1,loading:!1,s:60,isLogin:!1,changeNumberForm:{mobile:"",verifyCode:"",mobileArea:"86"},showDialog:!1,areaList:[],countryInfo:{cnTitle:this.$t("deleteaccount.china_mainland"),areaCode:"86"},isXhr:!1,title:"",deleteAccountResult:{isShowResult:!1,resultStatus:!1,resultText:""},hansMobile:!1}},mixins:[d["a"]],components:{TCaptcha:c["a"],loadingLine:s["a"],countryDialog:u["a"],"van-form":a["a"],"van-field":o["a"],"van-popup":n["a"]},computed:{isCheckButton:function(){return!(!this.changeNumberForm.mobile||!this.changeNumberForm.verifyCode)}},mounted:function(){this.getMobile(),e.setNavigationBarTitle({title:this.$t("deleteaccount.logout")})},methods:{getMobile:function(){var t=this;e.auth.islogin()?e.request({method:"get",url:"/api/usercenter/sqmobileareacode"}).then((function(e){t.showPage=!0,e&&e.mobile?(t.changeNumberForm={mobile:e.mobile,mobileArea:e.mobileAreaCode},t.countryInfo.areaCode=e.mobileAreaCode,t.hansMobile=!0):t.changeNumberForm={mobile:"",mobileArea:"86"}})).catch((function(i){e.hideLoading(),e.showToast({title:i.msg||i.message||t.$t("deleteaccount.acquisition_failure")})})):e.auth.tologin()},getMemberCodeTime:function(){var e=this,t=59;this.timer||(this.s=t,this.timer=setInterval((function(){e.s>0&&e.s<=t?e.s--:(e.s=59,e.isSending=!1,clearInterval(e.timer))}),1e3))},handleSendSMS:function(e){var t=this;if(!this.loading){this.loading=!0,this.isSending=!0,this.getMemberCodeTime();var i=this.isLogin?h.sqsendverifycode:h.smsApi;l["a"].request({url:i,method:"post",data:{mobile:this.changeNumberForm.mobile,mobileAreaCode:this.countryInfo.areaCode,ticket:e.ticket,randstr:e.randstr,sourceType:e.sourceType}}).then((function(e){var i=e.existUser;t.loading=!1,t.isLogin&&(t.existUser=i,i&&(t.needInviteCode=!1)),t.isSending=!0,t.getMemberCodeTime()})).catch((function(e){t.loading=!1,r["a"].showToast({title:e.message||e.msg||t.$t("deleteaccount.verification_again")})}))}},showCountryDialog:function(){var e=this;this.hansMobile||(this.areaList&&this.areaList.length>0?this.showDialog=!0:(r["a"].showLoading({title:this.$t("common.loading",["..."])}),l["a"].request({url:"api/usercenter/arealist"}).then((function(t){e.areaList=t.countries,e.showDialog=!0,r["a"].hideLoading()})).catch((function(t){r["a"].hideLoading(),r["a"].showToast({title:t.message||t.msg||e.$t("memberchangenumber.failed_obtain")})}))))},selectCountry:function(e){this.countryInfo=e,this.changeNumberForm.mobileArea=e.areaCode||"86"},clickCommit:function(){if(this.changeNumberForm.verifyCode){if(e.setNavigationBarTitle({title:""}),this.isCheckButton){if(this.isXhr)return;this.confirm()}}else e.showToast({title:this.$t("deleteaccount.please_entered")})},confirm:function(){var t=this,i={validCode:this.changeNumberForm.verifyCode,mobile:this.changeNumberForm.mobile,mobileAreaCode:this.changeNumberForm.mobileArea};this.isXhr=!0,e.showLoading({title:this.$t("common.loading",["..."])}),e.request({method:"post",url:"/api/usercenter/sqlogoutuser",data:i}).then((function(i){t.isXhr=!1,e.hideLoading(),i?(t.deleteAccountResult={isShowResult:!0,resultStatus:i.success,resultText:i.errorMsg},i.success&&(e.clearStorage(),setTimeout((function(){e.isBuyerApp?wx.miniProgram.reLaunch({}):Object(m["b"])({linkType:999})}),200))):e.showToast({title:i.errorMsg||t.$t("deleteaccount.default_failure")})})).catch((function(i){t.isXhr=!1,e.hideLoading(),e.showToast({title:i.msg||i.message||t.$t("deleteaccount.default_failure")})}))},gohome:function(){Object(m["b"])({linkType:999})}}}}).call(this,i("7189")["default"])},d2748:function(e,t,i){},d7b5:function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("56d7"),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"delete-account",style:e.pageThemeStyle},[e.showPage?[e.deleteAccountResult.isShowResult?t("div",{staticClass:"delete-account-result-div"},[t("div",{staticClass:"delete-account-result"},[e.deleteAccountResult.resultStatus?t("img",{staticClass:"image-fail",attrs:{src:i("eb22")}}):t("img",{staticClass:"image-fail",attrs:{src:i("d6a4")}}),t("div",{staticClass:"faild-text"},[e._v(e._s(e.deleteAccountResult.resultStatus?e.$t("deleteaccount.logout_success"):e.$t("deleteaccount.default_failure")))]),e.deleteAccountResult.resultStatus?e._e():t("div",{staticClass:"faild-des"},[e._v(e._s(e.deleteAccountResult.resultText))]),t("div",{class:["result-but",{"margin-88":e.deleteAccountResult.resultStatus}],on:{click:e.gohome}},[e._v(e._s(e.$t("deleteaccount.home_page")))])])]):t("div",[t("div",{staticClass:"prompt-message"},[t("div",{staticClass:"message-top"},[e._v(e._s(e.$t("deleteaccount.authentication")))]),t("div",{staticClass:"message-title"},[e._v(e._s(e.$t("deleteaccount.ensure_following")))])]),t("div",{staticClass:"change-number-form"},[t("van-field",{staticClass:"region-phone",attrs:{center:"",disabled:e.hansMobile,clearable:"",placeholder:e.$t("memberchangenumber.please_mobile"),type:"number"},scopedSlots:e._u([{key:"button",fn:function(){return[t("div",{staticClass:"region",on:{click:e.showCountryDialog}},[t("div",{staticClass:"areaCode"},[e._v("+"+e._s(e.countryInfo.areaCode))]),t("img",{staticClass:"trip",attrs:{src:i("5800")}})])]},proxy:!0}],null,!1,955739468),model:{value:e.changeNumberForm.mobile,callback:function(t){e.$set(e.changeNumberForm,"mobile",t)},expression:"changeNumberForm.mobile"}}),t("van-field",{attrs:{maxLength:"6",clearable:"",label:e.$t("deleteaccount.verification_code"),placeholder:e.$t("deleteaccount.enter_verification_code")},model:{value:e.changeNumberForm.verifyCode,callback:function(t){e.$set(e.changeNumberForm,"verifyCode",t)},expression:"changeNumberForm.verifyCode"}},[t("template",{slot:"button"},[e.isSending?t("div",{staticClass:"action-sms action-sms--disabled"},[e._v(e._s(e.$t("deleteaccount.re_acquire",[e.s])))]):t("TCaptcha",{attrs:{loading:e.loading},on:{handleSendSMS:e.handleSendSMS}},[t("div",{staticClass:"action-sms"},[e._v(e._s(e.$t("deleteaccount.get_verification_code")))])])],1)],2)],1),t("div",{staticClass:"change-number-bottom"},[t("div",{class:["button",{disabled:!e.isCheckButton}],on:{click:e.clickCommit}},[e._v(e._s(e.$t("deleteaccount.confirm_cancellation")))])])])]:e.showPage?e._e():t("loading-line"),t("countryDialog",{attrs:{title:e.$t("deleteaccount.select_international"),areaList:e.areaList,countryInfo:e.countryInfo},on:{selectCountry:e.selectCountry},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}})],2)},a=[],s=i("bb42"),c=s["a"],r=(i("27fb"),i("2877")),l=Object(r["a"])(c,o,a,!1,null,null,null),u=l.exports;i.p=publicPath,Object(n["a"])(u)},e9b7:function(e,t,i){},eb22:function(e,t,i){e.exports=i.p+"static/img/pay_success.77059d7a.png"}});