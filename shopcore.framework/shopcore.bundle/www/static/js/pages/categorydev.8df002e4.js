(function(t){function e(e){for(var a,s,o=e[0],c=e[1],l=e[2],u=0,f=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={"pages/categorydev":0},r=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;r.push([15,"chunk-vendors","chunk-common"]),n()})({"0290":function(t,e,n){t.exports=n.p+"static/img/category_brand_occupation.0b923737.png"},15:function(t,e,n){t.exports=n("388d")},2205:function(t,e,n){},"388d":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("56d7"),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-wrap"},[e("div",{staticClass:"category-container"},[e("div",{staticClass:"main"},[e("div",{ref:"inputHeightRef",staticClass:"category-input-container"},[e("div",{staticClass:"search-wrapper"},[e("img",{attrs:{src:n("17fe")}}),e("div",{staticClass:"category-input"},[t._v(t._s(t.$t("category.search_hot_items")))])])]),e("div",{staticClass:"category-content"},[e("div",{staticClass:"content-left"},[e("div",{staticClass:"scroll-left"},[e("left-category",{attrs:{tabId:t.leftCategoryIndex,cgList:t.newCgLit,"is-dev":!0}})],1)]),e("div",{staticClass:"content-right"},[e("right-brand",{attrs:{brandInfoItem:t.newCgItemList.list[0],showLarge:t.showLarge,inputHeight:t.inputHeight,"is-dev":!0}})],1)])])])])},r=[],s=n("f40d"),o=s["a"],c=(n("e700"),n("6f03"),n("2877")),l=Object(c["a"])(o,i,r,!1,null,"172e54a5",null),d=l.exports;n.p=publicPath,Object(a["a"])(d)},6394:function(t,e,n){},"6f03":function(t,e,n){"use strict";n("2205")},"7e97":function(t,e,n){},a941:function(t,e,n){"use strict";n("d29b")},d29b:function(t,e,n){},e024:function(t,e,n){"use strict";n("7e97")},e700:function(t,e,n){"use strict";n("6394")},f40d:function(t,e,n){"use strict";(function(t){var a=n("b047"),i=n.n(a),r=(n("d3b7"),n("159b"),n("ac1f"),n("00b4"),n("fb6a"),n("99af"),n("2cac")),s=n("f650"),o=n("fe47"),c=n("3fa5"),l=n("30a9"),d=n("f9c0");e["a"]={name:"Index",components:{ModuleEditor:d["a"],RightBrand:s["a"],LeftCategory:r["a"]},data:function(){return{cgList:[],mdList:[],tabId:0,status:1,mergeList:[],contentHeight:0,scrolltop:0,isIphoneX:!1,mdListMap:{},logo:'this.src="'.concat(n("d210"),'"'),filterBrandList:[],activeIndex:null,isShowBrand:!1,partId:0,styleType:1,showLarge:!1,inputHeight:0,newCgLit:[],newCgItemList:{list:[]},leftCategoryIndex:-1}},mounted:function(){this._getCategoryInfo(),this._initStyle(),c["a"].setTarget(window.parent),c["a"].setMsgHandler(this.msgHandler.bind(this))},beforeDestroy:function(){c["a"].destroy()},methods:{_initStyle:function(){var t=document.documentElement.clientHeight;this.inputHeight=this.$refs.inputHeightRef?this.$refs.inputHeightRef.offsetHeight:0;var e=document.querySelector(".tabbar"),n=e?e.offsetHeight:0;this.contentHeight=t-this.inputHeight-n},_getCategoryInfo:function(e){var n=this,a={sellerId:o["a"].getMchId()},i=t.getQuery(),r=i.categoryId,s=void 0===r?-1:r;t.request({url:"/api/prod/shopcategorylist",data:a,headers:{"accept-version":"3.0.0"}}).then((function(t){if(!t.list||!t.list.length)return n.status=3,void(e&&e());var a=[],i={},r=null,o=t.list||[];t.brandList&&t.brandList[0]&&(n.handleBrandList(t.brandList[0].list),o.unshift(t.brandList[0]),n.isShowBrand=!0),o.forEach((function(t){r={categoryId:t.categoryId,name:t.categoryName},a.push(r),i[t.categoryId]=t.list}));var c=0;-1!==s&&a.forEach((function(t,e){0===c&&t.categoryId==s&&(c=e)})),-1===c&&(c=n.tabId),n.cgList=a,n.mdListMap=i,n.mergeList=o,n.status=2,n.mdList=i[a[c].categoryId]||[],n.partId=t.partId,n.styleType=t.styleType,n.showLarge=t.showLarge||!1,n.tabId=c,n.$nextTick((function(){n._initStyle(),n.getBodyHeight()}))})).catch((function(a){t.showToast({title:a.message||n.$t("category.request_classification_error")}),n.status=3,e&&e()}))},handleBrandList:function(t){if(t){var e=[],n=/[a-zA-Z]/,a=/^[\u2E80-\u9FFF]+$/;t.forEach((function(t){n.test(t.categoryName.slice(0,1))||a.test(t.categoryName.slice(0,1))||e.push(t)}));for(var i=[],r=function(e){var r=String.fromCharCode(65+e),s={};if(s[r]={title:r,items:[]},t.forEach((function(t){var i=t.categoryName.slice(0,1),o="";a.test(i)&&(o=Object(l["a"])(t.categoryName).slice(0,1)),n.test(i)&&(o=t.categoryName.slice(0,1)),o.toUpperCase()===String.fromCharCode(65+e)&&s[r].items.push({categoryId:t.categoryId,categoryName:t.categoryName})})),"undefined"===s[r].items||0===s[r].items.length)return"continue";i.push(s[r])},s=0;s<26;s++)r(s);this.filterBrandList=0!==e.length?[].concat(i,[{title:"#",items:e}]):i}},rightContentClick:function(){c["a"].send("select",{activityId:"",pos:{x:0,y:0}})},handleViewUpdate:function(t){var e=this;this.$nextTick((function(){var n=100;setTimeout((function(){t&&e.getBodyHeight()}),n),e.getBodyHeightDebounce()}))},getBodyHeight:function(){var t=document.querySelector(".page-wrap"),e=t.offsetHeight;e>0&&c["a"].send("set:iframeHeight",{height:e})},getBodyHeightDebounce:i()((function(){this.getBodyHeight()}),2e3),msgHandler:function(t){var e=t.action,n=t.data;switch(e){case"update:all":this.getBrandItem(n);break;default:break}},getBrandItem:function(t){if(this.newCgLit=t,t&&t.length>0)for(var e=0;e<t.length;e++)if(1===t[e].isBrand){this.newCgItemList=t[e],this.leftCategoryIndex=e;break}}}}}).call(this,n("7189")["default"])},f650:function(t,e,n){"use strict";n("b0c0"),n("4e82"),n("fb6a");var a=function(){var t=this,e=t._self._c;return e("div",{class:[{"brand--large":t.showLarge},{"left-wrapper-isBuyerApp":t.isBuyerApp}]},[1===t.brandInfoItem.showPromotePic?e("div",{staticClass:"banner-container"},[e("img",{staticClass:"banner",attrs:{src:t.brandInfoItem.promotePic.picUrl}})]):t._e(),0===t.brandInfoItem.showRule?e("div",{staticClass:"brand-list-type"},[1===t.brandInfoItem.anchorNav?e("div",{staticClass:"right-index-bar"},t._l(t.brandInfoItem.list,(function(n,a){return e("div",{key:a,staticClass:"index-cell",on:{click:function(e){return t.handleTabClick(n,a)}}},[e("span",[t._v(t._s(n.brandName||n.name||""))])])})),0):t._e(),t._l(t.brandInfoItem.list,(function(n,a){return e("div",{key:a,staticClass:"vertical-list",attrs:{id:n.sort}},[e("div",{staticClass:"name-title",attrs:{id:"index".concat(n.name,"name")}},[t._v(t._s(n.name))]),e("div",{class:["category-list",{"category-lis--logo":1===t.brandInfoItem.showBrandIcon}]},t._l(n.list,(function(n,a){return e("div",{key:a,staticClass:"category-item"},[1===t.brandInfoItem.showBrandIcon?e("img",{staticClass:"category__img",attrs:{onerror:t.erroLogo,src:n.pic||"https://staticontent.shop2cn.cn/shop2cn/mp/empty_logo.png"}}):t._e(),e("div",{staticClass:"category__name"},[t._v(t._s(n.brandName||""))])])})),0)])}))],2):e("div",{staticClass:"brand-horizontally-type"},[t.brandInfoItem.list&&t.brandInfoItem.list.length?[1===t.brandInfoItem.anchorNav?e("van-sticky",{staticClass:"sticky-list",attrs:{"offset-top":t.inputHeight}},[e("van-tabs",{staticStyle:{width:"100%"},attrs:{ellipsis:!1,"line-width":"0","line-height":"0"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.brandInfoItem.list,(function(n,a){return e("van-tab",{key:a},[e("div",{attrs:{slot:"title"},on:{click:function(e){return t.handleTabClick(n,a)}},slot:"title"},[e("div",{class:["sticky__item",t.currentTab===a?"sticky__item--active":""]},[e("span",{staticClass:"name"},[t._v(t._s(n.name||"分组名称"))])])])])})),1)],1):t._e(),t._l(t.brandInfoItem.list,(function(a,i){return e("div",{key:i,staticClass:"horizontally-list",attrs:{id:a.sort}},[e("div",{staticClass:"name-title",attrs:{id:"index".concat(a.name,"name")}},[t._v(t._s(a.name||"分组名称"))]),a.list&&a.list.length>0?e("div",{staticClass:"category-list"},t._l(a.list.slice(0,9),(function(n,a){return e("div",{key:a,staticClass:"category-item",on:{click:function(e){return t.goto({name:n.categoryName,brandId:n.categoryId})}}},[e("img",{staticClass:"category__img",attrs:{onerror:t.erroLogo,src:n.pic||"https://staticontent.shop2cn.cn/shop2cn/mp/empty_logo.png"}}),0!==t.brandInfoItem.brandLanguage?e("div",{staticClass:"category__name"},[t._v(t._s(n.brandName||""))]):t._e()])})),0):e("img",{staticClass:"category_brand_occupation",attrs:{src:n("0290")}}),a.list&&a.list.length>8?e("div",{staticClass:"more__brand"},[t._v(" 查看更多品牌 "),e("img",{staticClass:"more__brand__icon",attrs:{src:"https://staticontent.shop2cn.cn/shop2cn/mp/categor_more_brand_icon.png"}})]):t._e()])}))]:[e("div",{staticClass:"name-title"},[t._v("分组名称")]),e("img",{staticClass:"category_brand_occupation",attrs:{src:n("0290")}})]],2)])},i=[],r=n("b047"),s=n.n(r),o=n("2909"),c=(n("bda7"),n("5e46")),l=(n("da3c"),n("0b33")),d=(n("0cc8"),n("3104")),u=(n("a9e3"),n("d3b7"),n("159b"),n("9911"),n("9eb6")),f={name:"RightBrand",components:{"van-sticky":d["a"],"van-tab":l["a"],"van-tabs":c["a"]},props:{brandInfoItem:{type:Object,default:function(){return{}}},inputHeight:{type:Number,default:function(){return{}}},brandType:{type:Number,default:function(){return 1}},brandLogoType:{type:Number,default:function(){return 2}},brandList:{type:Array,default:function(){return[]}},showLarge:{type:Boolean,default:function(){return!1}},isDev:{type:Boolean,default:function(){return!1}}},data:function(){return{rightBrandOffsetTopList:[],currentTab:0,isClickCategoryNav:!1,erroLogo:'this.src="'.concat(n("77e6"),'"'),isBuyerApp:u["a"].isBuyerApp}},mounted:function(){this.getBrandListOffsetTop()},methods:{getBrandListOffsetTop:function(){var t=this;this.rightBrandOffsetTopList=[];var e=document.querySelectorAll(".horizontally-list");e=Object(o["a"])(e),e.forEach((function(e){t.rightBrandOffsetTopList.push(e.offsetTop)}))},goto:function(t){t.link;var e=t.name,n=t.brandId;t.secondCategoryId,t.thirdCategoryId;this.isDev||this.$emit("brandItemClick",{name:e,brandId:n})},handleTabClick:function(t,e){var n=1===this.brandInfoItem.anchorNav?0:50,a=document.getElementById(t.sort).offsetTop-this.inputHeight-n;window.scrollTo({top:a,behavior:"smooth"}),this.isClickCategoryNav=!0},handleScroll:s()((function(){var t=this;if(t.isClickCategoryNav)t.isClickCategoryNav=!1;else{t.isClickCategoryNav=!1;for(var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,n=0;n<t.rightBrandOffsetTopList.length-1;n++)if(t.rightBrandOffsetTopList[n]+42>=e){t.currentTab=n;break}}}),100),rightBarClick:function(t,e){}}},g=f,h=(n("a941"),n("e024"),n("2877")),p=Object(h["a"])(g,a,i,!1,null,"5283d406",null);e["a"]=p.exports}});