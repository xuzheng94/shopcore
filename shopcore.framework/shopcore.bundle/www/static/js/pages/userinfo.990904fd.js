(function(e){function t(t){for(var o,s,a=t[0],u=t[1],l=t[2],f=0,m=[];f<a.length;f++)s=a[f],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&m.push(i[s][0]),i[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);c&&c(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var u=n[a];0!==i[u]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},i={"pages/userinfo":0},r=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var c=u;r.push([130,"chunk-vendors","chunk-common"]),n()})({"0d13":function(e,t,n){},130:function(e,t,n){e.exports=n("e7cd")},"18f2":function(e,t,n){"use strict";n("5420")},5420:function(e,t,n){},"7ef1":function(e,t,n){"use strict";t["a"]={userInfoApi:"/api/usercenter/squserinfo",memberInfoApi:"/api/usercenter/memberinfo"}},9235:function(e,t,n){"use strict";(function(e){n("e17f");var o=n("2241"),i=(n("8a58"),n("e41f")),r=(n("5f5f"),n("f253")),s=(n("66b9"),n("b650")),a=(n("be7f"),n("565f")),u=(n("b64b"),n("4de4"),n("d3b7"),n("b68d")),l=n("21a8"),c=n("7ef1"),f=(n("9225"),n("ed08"));t["a"]={mixins:[u["a"]],components:{Field:a["a"],Button:s["a"],Picker:r["a"],Popup:i["a"],Bottom:l["a"]},data:function(){return{userInfo:{},memberInfo:{},showGenderPicker:!1,columns:[this.$tc("userinfo.gender",1),this.$tc("userinfo.gender",2)],isBuyerApp:e.isBuyerApp||!1}},created:function(){this.init(),e.setNavigationBarTitle({title:this.$t("userinfo.personal_information")})},computed:{enable:function(){var t=this,n=Object.keys(this.memberInfo),o=n.filter((function(n){return!e.isBlank(t.memberInfo[n])}));return o.length>0},inviteTime:function(){var e=this.memberInfo;return e.bindInviteCodeTime?"（".concat(e.bindInviteCodeTime,"）"):""}},methods:{init:function(){var t=this;e.showLoading({title:this.$t("common.loading",["..."])}),e.request(c["a"].userInfoApi).then((function(n){e.hideLoading(),t.memberInfo=n.memberInfo,t.userInfo=n||{},t.memberInfo.sex=t.memberInfo.sex?t.$t("userinfo.".concat(t.memberInfo.sex)):""})).catch((function(n){e.hideLoading(),e.showToast({title:n.message||n.msg||t.$t("userinfo.request_error")})}))},handleSave:function(){var t=this;if(!this.memberInfo.email||f["a"].validateEmail(this.memberInfo.email)){var n={realName:this.memberInfo.realName,sex:this.memberInfo.sex,wechatName:this.memberInfo.wechatName,memberId:this.memberInfo.memberId,email:this.memberInfo.email||""};"Male"!=this.memberInfo.sex&&"Female"!=this.memberInfo.sex||(n.sex="Male"==n.sex?"男":"女"),e.request({url:c["a"].memberInfoApi,method:"post",data:n}).then((function(){e.showToast({title:t.$t("userinfo.save_successfully")});var n=setTimeout((function(){clearTimeout(n),e.navigateBack()}),500)})).catch((function(n){e.showToast({title:n.message||n.msg||t.$t("userinfo.request_error")})}))}else e.showToast({title:this.$t("userinfo.enter_true_email")})},onConfirm:function(e){this.memberInfo.sex=e,this.showGenderPicker=!1},gotoDeleteAccountConfirm:function(){e.navigateTo({url:"/pages/deleteaccountconfirm/main"})},logout:function(){o["a"].confirm({title:this.$t("index.isLogout"),cancelButtonText:this.$t("common.cancel"),confirmButtonText:this.$t("common.confirm")}).then((function(){console.log("----"),e.clearStorage(),setTimeout((function(){wx.miniProgram.reLaunch({})}),200)})).catch((function(){}))}}}}).call(this,n("7189")["default"])},cce2:function(e,t,n){"use strict";n("0d13")},e7cd:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("56d7"),i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper userinfo",style:e.pageThemeStyle},[t("div",{staticClass:"userinfo-avatar"},[t("img",{attrs:{src:e.userInfo.logoUrl,alt:""}})]),t("div",[t("Field",{attrs:{size:"large",label:e.$t("userinfo.name"),maxlength:"10",clearable:"",placeholder:e.$t("userinfo.please_fill_name")},model:{value:e.memberInfo.realName,callback:function(t){e.$set(e.memberInfo,"realName",t)},expression:"memberInfo.realName"}}),t("Field",{attrs:{size:"large",label:e.$tc("userinfo.gender",0),placeholder:e.$t("userinfo.please_fill_gender"),readonly:""},on:{click:function(t){e.showGenderPicker=!0}},model:{value:e.memberInfo.sex,callback:function(t){e.$set(e.memberInfo,"sex",t)},expression:"memberInfo.sex"}},[t("img",{staticClass:"right-icon",attrs:{slot:"right-icon",src:n("ee8e")},slot:"right-icon"})]),e._e(),t("Field",{attrs:{size:"large",label:e.$t("userinfo.phone_number"),maxlength:"20",clearable:"",disabled:"",placeholder:""},model:{value:e.memberInfo.hideMobile,callback:function(t){e.$set(e.memberInfo,"hideMobile",t)},expression:"memberInfo.hideMobile"}}),t("Field",{attrs:{size:"large",label:e.$t("userinfo.email"),maxlength:"20",clearable:"",placeholder:e.$t("userinfo.enter_email")},model:{value:e.memberInfo.email,callback:function(t){e.$set(e.memberInfo,"email",t)},expression:"memberInfo.email"}}),t("div",{staticClass:"field"},[t("span",{staticClass:"field-title"},[e._v(e._s(e.$t("userinfo.registration_date")))]),t("span",{staticClass:"field-content"},[e._v(e._s(e.memberInfo.registerTime||e.memberInfo.createTime||""))])]),e.memberInfo.bindInviteCode?t("div",{staticClass:"field"},[t("span",{staticClass:"field-title"},[e._v(e._s(e.$t("userinfo.binding_invitation")))]),t("span",{staticClass:"field-content"},[e._v(" "+e._s(e.memberInfo.bindInviteCode)+" "),t("span",[e._v(e._s(e.inviteTime))])])]):e._e(),t("div",{staticClass:"field",on:{click:e.gotoDeleteAccountConfirm}},[t("span",{staticClass:"field-title"},[e._v(e._s(e.$t("userinfo.close_account")))]),t("span",{staticClass:"field-content"}),t("img",{staticClass:"right-icon",attrs:{slot:"right-icon",src:n("ee8e")},slot:"right-icon"})])],1),t("Bottom",[t("div",{staticClass:"bottom__wrap"},[t("Button",{attrs:{round:"",block:"",size:"large",disabled:!e.enable},on:{click:e.handleSave}},[e._v(e._s(e.$t("common.save")))])],1)]),t("Popup",{attrs:{round:"",position:"bottom"},model:{value:e.showGenderPicker,callback:function(t){e.showGenderPicker=t},expression:"showGenderPicker"}},[t("Picker",{attrs:{columns:e.columns,"show-toolbar":""},on:{cancel:function(t){e.showGenderPicker=!1},confirm:e.onConfirm}})],1)],1)},r=[],s=n("9235"),a=s["a"],u=(n("cce2"),n("18f2"),n("2877")),l=Object(u["a"])(a,i,r,!1,null,"89e4759c",null),c=l.exports;n.p=publicPath,Object(o["a"])(c)},ee8e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAcCAMAAABf788oAAAA8FBMVEUAAAD///+AgICqqqq/v7/MzMy2trbGxsazs7O5ubnExMS/v7+4uLi/v7+/v7+6urq9vb2/v7+5ubm4uLi6urrBwcG+vr6+vr67u7u7u7u5ubm+vr68vLy7u7u8vLy8vLy8vLy8vLy8vLy7u7u6urq7u7u8vLy7u7u8vLy8vLy7u7u6urq7u7u8vLy8vLy6urq8vLy8vLy7u7u8vLy8vLy7u7u6urq7u7u7u7u8vLy7u7u7u7u8vLy7u7u7u7u8vLy7u7u7u7u7u7u7u7u7u7u7u7u8vLy7u7u7u7u7u7u7u7u6urq7u7u7u7u8vLy7u7ubZ+kkAAAAT3RSTlMAAQIDBAUHCQoLDRASFBgaGxwhJCUlKy8xPD5KTFpcY2tub3V2eH6AgYqTnKSkq66us7S6wcfIyM7U2d7f4ufn6Ovv8PHy8vX2+Pr9/f7+aB6f/gAAAKpJREFUGNN90EVyA0EMQNExM0PMzEyJmWOGf//beOfWlKus3X+lRbc07WOKx65NB/8wMEvoAG2DAMcYaMgV9xSoSvHNgbyU0BruGSk/O7impMRPcE5ISV5hH5OSvsEmIiUHLPxSKsCvhNgF9qKjW3hkVYdX8CyoDi6BsurAHKip9s6AumrPVH8S1wRoqqM5/4CW8d32EdAx6Y/ct4gXHmBolV8oHXt27cu8AMGBIRrckERVAAAAAElFTkSuQmCC"}});