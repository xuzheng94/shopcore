(function(e){function t(t){for(var n,a,c=t[0],r=t[1],s=t[2],d=0,f=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);u&&u(t);while(f.length)f.shift()();return l.push.apply(l,s||[]),o()}function o(){for(var e,t=0;t<l.length;t++){for(var o=l[t],n=!0,c=1;c<o.length;c++){var r=o[c];0!==i[r]&&(n=!1)}n&&(l.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},i={"pages/mycollection":0},l=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=r;l.push([83,"chunk-vendors","chunk-common"]),o()})({"58d2":function(e,t,o){e.exports=o.p+"static/img/collection_list_default.8e9b47fb.png"},83:function(e,t,o){e.exports=o("9b22")},9147:function(e,t,o){},"9b22":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("56d7"),i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-collection-page",style:e.pageThemeStyle},[e.showPage?[t("van-pull-refresh",{attrs:{"animation-duration":"1500","head-height":"60"},on:{refresh:e.pullRefresh},scopedSlots:e._u([{key:"pulling",fn:function(e){return[t("div")]}},{key:"loosing",fn:function(){return[t("pullRefreshLoading",{attrs:{"bg-color":"#f8f8f8"}})]},proxy:!0},{key:"loading",fn:function(){return[t("pullRefreshLoading",{attrs:{"bg-color":"#f8f8f8"}})]},proxy:!0}],null,!1,1883122893),model:{value:e.isRefreshLoading,callback:function(t){e.isRefreshLoading=t},expression:"isRefreshLoading"}},[e.collectionList.length>0?t("div",{staticClass:"my-collection-list"},[t("product-list-single",{attrs:{prodList:e.collectionList,prodBtnType:"col",cardDistance:24,prodSkinData:e.prodSkinData},on:{handleRightBtn:e.cancelCollection}})],1):t("div",{staticClass:"my-collection-list-null"},[t("div",{staticClass:"null_info"},[t("img",{attrs:{src:o("58d2"),alt:""}}),t("p",[e._v(e._s(e.$t("mycollection.collection_goods")))])])])]),e.collectionList.length>0?t("load-more",{attrs:{hasMore:e.loadMore,loading:e.isXhr&&e.pageIndex>0}}):e._e()]:e.showPage?e._e():t("loading-line")],2)},l=[],a=o("e649"),c=a["a"],r=(o("f39b"),o("2877")),s=Object(r["a"])(c,i,l,!1,null,null,null),u=s.exports;o.p=publicPath,Object(n["a"])(u)},e649:function(e,t,o){"use strict";(function(e){var n=o("51f5"),i=o.n(n),l=(o("ab71"),o("58e6")),a=(o("99af"),o("a434"),o("b68d")),c=o("68a7"),r=o("603c"),s=o("44e4"),u=o("c08d"),d=o("bce3");t["a"]={mixins:[r["a"],a["a"]],data:function(){return{showPage:!1,pageIndex:1,loadMore:!0,isXhr:!1,collectionList:[],name:"",isRefreshLoading:!1}},components:{loadingLine:s["a"],loadMore:d["a"],productListSingle:c["a"],"van-pull-refresh":l["a"],pullRefreshLoading:u["a"]},mounted:function(){this.getMyCollectionData(),e.setNavigationBarTitle({title:this.$t("mycollection.my_favorite")})},onReachBottom:function(){this.loadMore&&!this.isXhr&&(this.pageIndex+=1,this.getMyCollectionData())},methods:{pullRefresh:function(){this.pageIndex=1,this.getMyCollectionData()},getMyCollectionData:function(){var t=this;this.loadMore&&!this.isXhr&&(this.isXhr=!0,e.request({url:"/api/social/sqgetcollectlist",method:"POST",data:{pageIndex:this.pageIndex}}).then((function(e){t.showPage=!0,t.isXhr=!1,t.isRefreshLoading=!1,1===t.pageIndex&&(t.collectionList=[]);var o=t.collectionList;t.collectionList=o.concat(e&&e.productList||[]),!o.length||e.productList&&e.productList.length||(t.loadMore=!1)})).catch((function(e){t.isXhr=!1,t.isRefreshLoading=!1,t.showPage=!0,t.loadMore=!1,console.log(e)})))},cancelCollection:function(t){var o=this;e.ylog.send({action_type:"click",pagetype:"product",module_name:"uncollection"});var n={productId:t.id};t.sellerId&&(n.mchId=t.sellerId),e.request({url:"/api/social/sqcancelcollect",method:"POST",data:n}).then((function(n){if(n.success){var l=i()(o.collectionList,{id:t.id});l>=0&&(o.collectionList.splice(l,1),e.showToast({title:o.$t("mycollection.cancel_succeeded"),className:"member-error-msg"}))}else e.showToast({title:o.$t("mycollection.cancel_failure"),className:"member-error-msg",duration:3e3})})).catch((function(e){console.log(e)}))}}}}).call(this,o("7189")["default"])},f39b:function(e,t,o){"use strict";o("9147")}});