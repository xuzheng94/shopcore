(function(t){function i(i){for(var s,o,r=i[0],c=i[1],l=i[2],p=0,u=[];p<r.length;p++)o=r[p],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&u.push(n[o][0]),n[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(i);while(u.length)u.shift()();return a.push.apply(a,l||[]),e()}function e(){for(var t,i=0;i<a.length;i++){for(var e=a[i],s=!0,r=1;r<e.length;r++){var c=e[r];0!==n[c]&&(s=!1)}s&&(a.splice(i--,1),t=o(o.s=e[0]))}return t}var s={},n={"pages/prizerecord":0},a=[];function o(i){if(s[i])return s[i].exports;var e=s[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.e=function(){return Promise.resolve()},o.m=t,o.c=s,o.d=function(t,i,e){o.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,i){if(1&i&&(t=o(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)o.d(e,s,function(i){return t[i]}.bind(null,s));return e},o.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(i,"a",i),i},o.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=i,r=r.slice();for(var l=0;l<r.length;l++)i(r[l]);var d=c;a.push([94,"chunk-vendors","chunk-common"]),e()})({"0100":function(t,i,e){},"0238":function(t,i,e){},"421a":function(t,i,e){"use strict";e("0238")},"627c":function(t,i,e){"use strict";e("0100")},"8c94":function(t,i,e){"use strict";var s=function(){var t=this,i=t._self._c;return i("div",{on:{click:t.close}},[i("van-popup",{on:{click:function(t){t.stopPropagation()}},model:{value:t.vis,callback:function(i){t.vis=i},expression:"vis"}},[i("div",{staticClass:"prizeDialog"},[i("van-icon",{staticClass:"close",attrs:{name:"cross"},on:{click:t.close}}),i("div",{staticClass:"p_top"},[i("p",{staticClass:"title"},[t._v(t._s(t.info.awardName))]),i("img",{staticClass:"m24",attrs:{src:t.info.awardPicUrl,alt:""}})]),i("div",{staticClass:"info"},[i("div",[i("span",{staticClass:"f1"},[t._v(t._s(t.$t("prizerecord.linkman")))]),i("span",{staticClass:"f2"},[t._v(t._s(t.info.logisticsName))])]),i("div",{staticClass:"mt16"},[i("span",{staticClass:"f1"},[t._v(t._s(t.$t("prizerecord.phone")))]),i("span",{staticClass:"f2"},[t._v(t._s(t.info.logisticsMobile))])]),i("div",{staticClass:"mt16"},[i("span",{staticClass:"f1"},[t._v(t._s(t.$t("prizerecord.shipping_address")))]),i("span",{staticClass:"f2"},[t._v(t._s(t.info.logisticsAddress))])])]),i("div",{staticClass:"btn"},[i("van-button",{attrs:{round:"",color:"#F23340"},on:{click:t.close}},[t._v(t._s(t.$t("common.return")))])],1)],1)])],1)},n=[],a=(e("66b9"),e("b650")),o=(e("c3a6"),e("ad06")),r=(e("8a58"),e("e41f")),c=e("2e6d"),l={props:{info:{type:Object}},components:{"van-popup":r["a"],"van-icon":o["a"],"van-button":a["a"],coupons:c["a"]},mounted:function(){},data:function(){return{vis:!0}},methods:{close:function(){this.$emit("close")}}},d=l,p=(e("627c"),e("2877")),u=Object(p["a"])(d,s,n,!1,null,null,null);i["a"]=u.exports},94:function(t,i,e){t.exports=e("e01f")},b5ab:function(t,i,e){"use strict";(function(t){e("ab71");var s=e("58e6"),n=(e("2994"),e("2bdd")),a=(e("ac1f"),e("5319"),e("99af"),e("a434"),e("44e4")),o=e("5fc0"),r=e("8c94"),c=e("dbed"),l=e("ed08"),d=e("cc6f"),p=e("fe47");i["a"]={name:"index",data:function(){return{showPage:!1,prizeVis:!1,addressVis:!1,loading:!1,isLoading:!1,finished:!1,info:{},page:0,size:20,dataList:[],lotteryId:null,isWinningInfoDialog:!1,prize:{}}},components:{loadingLine:a["a"],prizeDialog:r["a"],prizeAddress:o["a"],winningInfoDialog:c["a"],"van-list":n["a"],"van-pull-refresh":s["a"]},created:function(){t.setNavigationBarTitle({title:this.$t("prizerecord.winning_list")}),this.sqhistory()},methods:{logistics:function(i){var e=t.fmtUrlHost(i||""),s=t.auth.getValue("accessToken");e=e.replace(/^http:\/\//,"https://"),e.indexOf("accessToken")<0&&(e="".concat(e,"&AccessToken=").concat(s,"&mchId=").concat(p["a"].getMchId())),l["a"].isSellerApp&&(e=e.replace("userType=2","userType=1")),e&&t.navigateTo({url:e})},goLogistics:function(){},sqhistory:function(i,e){var s=this;i&&(this.page=0,this.dataList=[]);var n=this.size,a={pageIndex:e?this.page:this.page+=1,pageSize:n};t.request({url:d["a"].sqhistory,data:a}).then((function(t){var i=t.list,a=t.totalCount;a?(s.showPage=!0,s.isLoading=!1,s.loading=!1,s.finished=!(a>s.page*n),e?(s.dataList.splice((s.page-1)*n,n),s.dataList=s.dataList.concat(i)):s.dataList=s.dataList.concat(i)):s.showPage=!1})).catch((function(i){return s.showPage=!1,t.showToast({title:s.$t("prizerecord.system_busy")})}))},addressClose:function(t){this.addressVis=!1,t&&this.sqhistory(0,1)},addressConfirm:function(t){console.log(t)},checkDetail:function(i){var e=this;t.request({url:d["a"].sqlogistics,data:{lotteryId:i}}).then((function(t){e.prizeVis=!0,e.info=t})).catch((function(i){t.showToast({title:e.$t("prizerecord.system_busy")})}))},showWinningInfoDialog:function(t){this.prize=t,this.isWinningInfoDialog=!0},winningInfoDialogClose:function(){this.isWinningInfoDialog=!1}}}}).call(this,e("7189")["default"])},cc6f:function(t,i,e){"use strict";i["a"]={sqhistory:"/api/social/sqhistory",sqaddlogistics:"/api/social/sqaddlogistics",sqlogistics:"/api/social/sqlogistics"}},d018:function(t,i,e){t.exports=e.p+"static/img/prizeNull.4ef6d767.png"},e01f:function(t,i,e){"use strict";e.r(i);e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("56d7"),n=function(){var t=this,i=t._self._c;return i("div",{staticClass:"prize-record"},[t.showPage?i("div",[i("div",{staticClass:"luckHistory"},[i("div",{staticClass:"listHeader flexStyle"},[i("div",[t._v(t._s(t.$t("prizerecord.time")))]),i("div",[t._v(t._s(t.$t("prizerecord.type")))]),i("div",[t._v(t._s(t.$t("prizerecord.state")))]),i("div",[t._v(t._s(t.$t("prizerecord.operation")))])]),i("van-list",{attrs:{finished:t.finished,"finished-text":""},on:{load:t.sqhistory},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},[i("van-pull-refresh",{on:{refresh:function(i){return t.sqhistory(1)}},model:{value:t.isLoading,callback:function(i){t.isLoading=i},expression:"isLoading"}},t._l(t.dataList,(function(e,s){return i("div",{key:s,staticClass:"listContent flexStyle"},[i("div",{staticClass:"f1"},[t._v(t._s(e.lotteryTime))]),i("div",{staticClass:"f1"},[t._v(t._s(3===e.awardType?e.awardName:t.$t("prizerecord.coupon")))]),e.refundedOrder?i("div",{staticClass:"f1"},[i("p",[t._v(" "+t._s(t.$t("prizerecord.winning_is_invalid")))]),i("p",[t._v(" "+t._s(t.$t("prizerecord.order_refunded")))])]):[3===e.awardType?[1===e.deliveryPattern?i("div",{staticClass:"f1"},[t._v(" "+t._s(3===e.logisticsStatus?t.$tc("prizerecord.deliver_goods",1):t.$tc("prizerecord.deliver_goods",2))+" ")]):t._e(),2===e.deliveryPattern?i("div",{staticClass:"f1"},[t._v(" "+t._s(1===e.deliveryStatus?t.$t("prizerecord.picked_up"):t.$t("prizerecord.pending_delivery"))+" ")]):t._e()]:i("div",{staticClass:"f1"},[t._v(t._s(t.$t("prizerecord.sent")))])],i("div",{staticClass:"f2"},[3!==e.awardType||e.refundedOrder?i("p",{staticClass:"f1"},[t._v("--")]):[1===e.deliveryPattern?[1===e.logisticsStatus?i("p",{on:{click:function(i){t.lotteryId=e.lotteryId,t.addressVis=!0}}},[t._v(" "+t._s(t.$t("prizerecord.complete_address"))+" ")]):t._e(),3===e.logisticsStatus?i("p",{on:{click:function(i){return t.checkDetail(e.lotteryId)}}},[t._v(t._s(t.$t("prizerecord.examine")))]):t._e()]:t._e(),2===e.deliveryPattern?[1===e.deliveryStatus?i("p",[t._v(" -- ")]):i("p",{on:{click:function(i){return t.showWinningInfoDialog(e)}}},[t._v(" 中奖信息 ")])]:t._e()]],2)],2)})),0)],1)],1),t.isWinningInfoDialog?i("winningInfoDialog",{attrs:{info:t.prize},on:{close:t.winningInfoDialogClose}}):t._e(),t.addressVis?i("prize-address",{attrs:{lotteryId:t.lotteryId},on:{confirm:t.addressConfirm,close:t.addressClose}}):t._e(),t.prizeVis?i("prize-dialog",{attrs:{info:t.info},on:{close:function(i){t.prizeVis=!1}}}):t._e()],1):i("div",[i("div",{staticClass:"null"},[i("img",{attrs:{src:e("d018"),alt:""}}),i("p",[t._v(t._s(t.$t("prizerecord.temporarily_winning")))])])])])},a=[],o=e("b5ab"),r=o["a"],c=(e("421a"),e("2877")),l=Object(c["a"])(r,n,a,!1,null,null,null),d=l.exports;e.p=publicPath,Object(s["a"])(d)}});