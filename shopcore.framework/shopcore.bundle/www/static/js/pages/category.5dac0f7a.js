(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],u=0,h=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(h.length)h.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,o=1;o<i.length;o++){var c=i[o];0!==a[c]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},a={"pages/category":0},n=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(){return Promise.resolve()},r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;n.push([14,"chunk-vendors","chunk-common"]),i()})({"0c59":function(t,e,i){"use strict";i("4147")},14:function(t,e,i){t.exports=i("5cdb")},4147:function(t,e,i){},"5cdb":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("56d7"),a=(i("b0c0"),i("4e82"),i("9911"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"category-container",style:t.pageThemeStyle},[2===t.status?e("div",{staticClass:"main"},[e("div",{ref:"inputHeight",staticClass:"category-input-container",on:{click:function(e){return t.gotoSearch({isJumpDefault:!0})}}},[e("div",{staticClass:"search-wrapper"},[e("img",{attrs:{src:i("17fe")}}),e("div",{staticClass:"category-input"},[t._v(t._s(t.$t("category.search_hot_items")))])])]),e("div",{staticClass:"category-content"},[e("div",{staticClass:"content-left",style:{height:"".concat(t.contentHeight,"px")}},[e("div",{class:["scroll-left",{"left-wrapper-isBuyerApp":t.isBuyerApp}]},[e("left-category",{attrs:{tabId:t.tabId,cgList:t.cgList},on:{leftCategoryClick:t.leftCategoryClick}})],1)]),e("div",{staticClass:"content-right"},[e("div",{class:["right-main",{"left-wrapper-isBuyerApp":t.isBuyerApp}]},[t.isShowBrand&&0!==t.tabId||!t.isShowBrand?e("div",[t.mdList.list&&t.mdList.list.length>0?e("div",[e("div",{class:["right-card",{"right-card--large":t.showLarge}]},[t.mdList.banner&&t.mdList.banner.picUrl?e("div",{class:["banner-container",{"banner-container-large":t.showLarge}],on:{click:function(e){return t.bannerClick(t.mdList.banner)}}},[e("img",{staticClass:"banner",attrs:{src:t.mdList.banner.picUrl}})]):t._e(),t.mdList.list[0].showRule>=0&&t.mdList.list[0].brandLanguage>=0?e("div",[1===t.mdList.list[0].showPromotePic?e("div",{class:["banner-container",{"banner-container-large":t.showLarge}],on:{click:function(e){return t.bannerClick(t.mdList.list[0].promotePic)}}},[e("img",{staticClass:"banner",attrs:{src:t.mdList.list[0].promotePic.picUrl}})]):t._e(),1===t.mdList.list[0].showRule?[1===t.mdList.list[0].anchorNav?e("van-sticky",{staticClass:"sticky-list",attrs:{"offset-top":t.inputHeight}},[t.mdList.list[0]&&t.mdList.list[0].list?e("van-tabs",{staticStyle:{width:"100%"},attrs:{ellipsis:!1,"line-width":"0","line-height":"0"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.mdList.list[0].list,(function(i,s){return e("van-tab",{key:s},[e("div",{attrs:{slot:"title"},on:{click:function(e){return t.handleTabClick(i,s)}},slot:"title"},[e("div",{class:["sticky__item",t.currentTab===s?"sticky__item--active":""]},[t._v(" "+t._s(i.name)+" ")])])])})),1):t._e()],1):t._e(),t._l(t.mdList.list[0].list,(function(i,s){return e("div",{key:s,staticClass:"type2_cell",attrs:{id:i.sort}},[e("div",{staticClass:"type2_title"},[t._v(t._s(i.name))]),e("div",{staticClass:"type3_box"},t._l(i.newList,(function(i,s){return e("div",{key:s,staticClass:"goods-item",on:{click:function(e){return t.goto({name:i.brandName,brandId:i.brandId})}}},[e("img",{staticClass:"goods-item-top",attrs:{onerror:t.erroLogo,src:i.pic||"../../assets/images/category/empty-logo.png"}}),t.mdList.list&&t.mdList.list.length&&0!==t.mdList.list[0].brandLanguage?e("div",{staticClass:"goods-item-bottom"},[t._v(" "+t._s(i.brandName||i.name||"")+" ")]):t._e()])})),0),i.newList.length!==i.list.length?e("div",{staticClass:"more__brand",on:{click:function(e){return t.showMoreBrand(s)}}},[t._v(" 查看更多品牌 "),e("img",{staticClass:"more__brand__icon",attrs:{src:"https://staticontent.shop2cn.cn/shop2cn/mp/categor_more_brand_icon.png"}})]):t._e()])}))]:[e("div",{class:["brand-list",{"item__info--logo":1===t.mdList.list[0].showBrandIcon}]},t._l(t.mdList.list[0].list,(function(i,s){return e("div",{key:s,staticClass:"brand-list__item",attrs:{id:i.name}},[e("div",{staticClass:"brand__title"},[t._v(t._s(i.name))]),t._l(i.list,(function(i,s){return e("div",{key:s,staticClass:"brand__item",on:{click:function(e){return t.goto({name:i.brandName,brandId:i.brandId})}}},[e("img",{staticClass:"brand__img",attrs:{onerror:t.erroLogo,src:i.pic}}),e("div",{staticClass:"brand__name"},[t._v(" "+t._s(i.brandName||i.name||""))])])}))],2)})),0),e("div",{staticClass:"right-index-bar"},t._l(t.mdList.list[0].list,(function(i,s){return e("div",{key:s,class:["index-cell",{"active-index":s===t.activeIndex}],on:{click:function(e){return t.showAllBrand(i,s)}}},[e("span",[t._v(t._s(i.brandName||i.name||""))])])})),0)]],2):e("div",[2!==t.styleType&&1===t.isShowAnchorNav?e("van-sticky",{staticClass:"sticky-list",attrs:{"offset-top":t.inputHeight}},[e("van-tabs",{staticStyle:{width:"100%"},attrs:{ellipsis:!1,"line-width":"0","line-height":"0"},model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.mdList.list,(function(i,s){return e("van-tab",{key:s},[e("div",{attrs:{slot:"title"},on:{click:function(e){return t.handleTabClick(i,s)}},slot:"title"},[e("div",{class:["sticky__item",t.currentTab===s?"sticky__item--active":""]},[t._v(" "+t._s(i.categoryName||i.name)+" ")])])])})),1)],1):t._e(),t._l(t.mdList.list,(function(i,s){return e("div",{key:s,staticClass:"type2_cell",attrs:{id:i.categoryId||i.id}},[2!==t.styleType?e("div",{staticClass:"type2_title"},[t._v(" "+t._s(i.categoryName||i.name)+" ")]):t._e(),e("div",{staticClass:"type3_box"},t._l(i.list,(function(s,a){return e("div",{key:a,staticClass:"goods-item",on:{click:function(e){return t.goto({link:s.link,name:s.categoryName||i.name,secondCategoryId:i.categoryId||i.id,thirdCategoryId:s.categoryId||i.id})}}},[e("img",{staticClass:"goods-item-top",attrs:{onerror:t.logo,src:s.pic||"../../assets/images/category/empty.png"}}),e("div",{staticClass:"goods-item-bottom"},[t._v(t._s(s.categoryName||s.name||""))])])})),0)])}))],2)])]):t._e(),t.mdList.list&&!t.mdList.list.length?e("div",{staticClass:"empty"},[e("img",{attrs:{src:i("bc56")}}),e("p",[t._v(t._s(t.$t("category.no_goods")))])]):t._e()]):t._e()])])])]):t._e(),1===t.status?e("div",{staticClass:"load-err"},[e("div",{staticClass:"load-err-des"},[t._v(t._s(t.$t("common.loading",["..."])))])]):t._e(),3===t.status?e("div",{staticClass:"empty"},[e("img",{attrs:{src:i("bc56")}}),e("p",[t._v(t._s(t.$t("category.no_goods")))])]):t._e(),e("tabnav",{ref:"tabnav"})],1)}),n=[],r=i("5d91"),o=r["a"],c=(i("0c59"),i("8299"),i("2877")),l=Object(c["a"])(o,a,n,!1,null,"fc6ce6ac",null),d=l.exports;i.p=publicPath,Object(s["a"])(d)},"5d91":function(t,e,i){"use strict";(function(t){var s=i("b047"),a=i.n(s),n=i("2909"),r=i("c7eb"),o=i("1da1"),c=(i("bda71"),i("5e46")),l=(i("da3c"),i("0b33")),d=(i("0cc8"),i("3104")),u=(i("b0c0"),i("d3b7"),i("159b"),i("ac1f"),i("00b4"),i("fb6a"),i("99af"),i("4e82"),i("9911"),i("a9e3"),i("e9c4"),i("b68d")),h=i("bcb3"),f=i("191e"),g=i("fe47"),m=i("1adf"),p=i("30a9"),v=i("a8f5"),b=i("2cac"),y=i("9eb6");function _(t){return null===t||void 0===t}e["a"]={name:"Category",components:{LeftCategory:b["a"],tabnav:h["a"],"van-sticky":d["a"],"van-tab":l["a"],"van-tabs":c["a"]},mixins:[f["a"],m["a"],u["a"]],data:function(){return{isBuyerApp:y["a"].isBuyerApp,cgList:[],mdList:{},tabId:0,status:1,contentHeight:0,isIphoneX:!1,logo:'this.src="'.concat(i("d210"),'"'),filterBrandList:[],activeIndex:0,isShowBrand:!1,partId:0,styleType:1,showLarge:!1,erroLogo:'this.src="'.concat(i("77e6"),'"'),inputHeight:0,currentTab:0,isClickCategoryNav:!1,rightBrandOffsetTopList:[],isShowAnchorNav:0,brandItemOffsetTopList:[]}},created:function(){t.setNavigationBarTitle({title:this.$t("category.classification")})},mounted:function(){this.setIphoneInfo(),this._initData(),window.addEventListener("scroll",this.handleScroll)},destroyed:function(){document.removeEventListener("scroll",this.handleScroll)},methods:{showAllBrand:function(t,e){var i=document.getElementById(t.name).offsetTop-this.inputHeight;window.scrollTo({top:i,behavior:"smooth"})},handleBrandList:function(t){if(t){var e=[],i=/[a-zA-Z]/,s=/^[\u2E80-\u9FFF]+$/;t.forEach((function(t){i.test(t.categoryName.slice(0,1))||s.test(t.categoryName.slice(0,1))||e.push(t)}));for(var a=[],n=function(e){var n=String.fromCharCode(65+e),r={};if(r[n]={title:n,items:[]},t.forEach((function(t){var a=t.categoryName.slice(0,1),o="";s.test(a)&&(o=Object(p["a"])(t.categoryName).slice(0,1)),i.test(a)&&(o=t.categoryName.slice(0,1)),o.toUpperCase()===String.fromCharCode(65+e)&&r[n].items.push({categoryId:t.categoryId,categoryName:t.categoryName})})),"undefined"===r[n].items||0===r[n].items.length)return"continue";a.push(r[n])},r=0;r<26;r++)n(r);this.filterBrandList=0!==e.length?[].concat(a,[{title:"#",items:e}]):a}},setIphoneInfo:function(){var t=window.screen,e=t.height,i=t.width;375===i&&812===e&&(this.isIphoneX=!0),414===i&&896===e&&(this.isIphoneX=!0)},_initStyle:function(){var t=document.documentElement.clientHeight;this.inputHeight=this.$refs.inputHeight?this.$refs.inputHeight.offsetHeight:0;var e=document.querySelector(".tabbar"),i=e?e.offsetHeight:0;this.contentHeight=t-this.inputHeight-i},_initData:function(t){var e=this;return Object(o["a"])(Object(r["a"])().mark((function i(){return Object(r["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e._getCategoryInfo(t);case 2:return i.next=4,e.getAllBrandOffsetTop();case 4:case"end":return i.stop()}}),i)})))()},_getCategoryInfo:function(e){var i=this,s={sellerId:g["a"].getMchId()};t.request({url:"/api/prod/shopcategorylist",data:s,headers:{"accept-version":"3.0.0"}}).then((function(t){if(!t.list||!t.list.length)return i.status=3,void(e&&e());t&&t.list&&t.list.length&&t.list.forEach((function(t){t.list&&t.list.length&&1===t.list[0].showRule&&t.list[0].anchorNav>=0&&t.list[0].list&&t.list[0].list.length&&t.list[0].list.forEach((function(t){t.list&&t.list.length?i.$set(t,"newList",t.list.slice(0,9)):(i.$set(t,"newList",[]),i.$set(t,"list",[]))}))})),i.cgList=t.list,i.status=2,i.mdList=t.list[0],i.partId=t.partId,i.styleType=t.styleType,i.showLarge=t.showLarge||!1,i.isShowAnchorNav=t.anchorNav||0,i.tabId=0,"function"===typeof e&&e(),i.$nextTick((function(){i.getAllBrandOffsetTop(),i._initStyle()}))})).catch((function(s){t.showToast({title:s.message||i.$t("category.request_classification_error")}),i.status=3,e&&e()}))},handleTabClick:function(t,e){var i=document.getElementById(t.categoryId||t.id||t.sort).offsetTop-this.inputHeight-52;window.scrollTo({top:i,behavior:"smooth"}),this.isClickCategoryNav=!0},bannerClick:function(t){Object(v["b"])(t)},goto:function(t){var e=t.link,i=void 0===e?{}:e,s=t.name,a=t.brandId,n=t.secondCategoryId,r=t.thirdCategoryId,o=this.styleType;if(_(a))if(1!==o){var c=i.linkType;100!==c?Object(v["b"])(i):this.gotoSearch({isJumpDefault:!1,title:s,secondCategoryId:n,thirdCategoryId:r})}else this.gotoSearch({isJumpDefault:!0,title:s,secondCategoryId:n,thirdCategoryId:r});else this.gotoSearch({isJumpDefault:!0,title:s,brandId:a})},gotoSearch:function(e){var i=e.isJumpDefault,s=void 0===i||i,a=e.title,n=void 0===a?"":a,r=e.brandId,o=e.secondCategoryId,c=e.thirdCategoryId,l=s?"/pages/search/main":"/pages/search/main?partId=".concat(this.partId),d=s?"?":"&",u=this.cgList[this.tabId]||{},h=Number(u.categoryId);if(isNaN(h)||_(r))if(isNaN(h)||_(o)||_(c))t.navigateTo({url:l});else{var f=JSON.stringify({firstCategoryId:h,secondCategoryId:o,thirdCategoryId:c,title:n});t.navigateTo({url:"".concat(l).concat(d,"item=").concat(encodeURIComponent(f))})}else{var g=JSON.stringify({firstCategoryId:h,brandId:r,title:n});t.navigateTo({url:"".concat(l).concat(d,"item=").concat(encodeURIComponent(g))})}},leftCategoryClick:function(t){var e=this,i=(t.channelid,t.index);this.tabId!==i&&(this.tabId=i,this.activeIndex=0,this.currentTab=0,this.mdList=this.cgList[i],this.mdList.list||this.$set(this.mdList,"list",[]),window.scrollTo({top:0}),this.$nextTick((function(){e.getAllBrandOffsetTop(),e._initStyle()})))},getAllBrandOffsetTop:function(){var t=this;this.rightBrandOffsetTopList=[];var e=document.querySelectorAll(".type2_cell");e=Object(n["a"])(e),e.forEach((function(e){t.rightBrandOffsetTopList.push(e.offsetTop)})),this.brandItemOffsetTopList=[];var i=document.querySelectorAll(".brand-list__item");i=Object(n["a"])(i),i.forEach((function(e){t.brandItemOffsetTopList.push(e.offsetTop)}))},handleScroll:a()((function(){var t=this,e=0,i=[],s=0;if(t.mdList.list&&t.mdList.list.length>0&&0===t.mdList.list[0].showRule?(s=1,i=t.brandItemOffsetTopList||[]):i=t.rightBrandOffsetTopList||[],t.isClickCategoryNav)t.isClickCategoryNav=!1;else{t.isClickCategoryNav=!1;for(var a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,n=0;n<i.length-1;n++)if(a<Math.abs(i[n]-120)&&a>=Math.abs(i[n-1]-120)){e=n-1;break}0===e&&(e=a>Math.abs(i[i.length-2]-120)&&a<Math.abs(i[i.length-1]-120)?i.length-2:a>Math.abs(i[i.length-1]-120)?i.length-1:0),1===s?t.activeIndex=e:t.currentTab=e}}),30),showMoreBrand:function(t){var e=this;this.mdList&&this.mdList.list&&this.mdList.list.length&&this.mdList.list[0].list&&this.mdList.list[0].list.length&&(this.$set(this.mdList.list[0].list[t],"newList",this.mdList.list[0].list[t].list.slice(0,this.mdList.list[0].list[t].newList.length+27)),setTimeout((function(){e.getAllBrandOffsetTop()}),100))}}}}).call(this,i("7189")["default"])},8299:function(t,e,i){"use strict";i("a3ce")},a3ce:function(t,e,i){}});