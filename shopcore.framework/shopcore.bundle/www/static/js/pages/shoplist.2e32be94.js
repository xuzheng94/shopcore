(function(t){function o(o){for(var e,a,l=o[0],r=o[1],c=o[2],p=0,d=[];p<l.length;p++)a=l[p],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);u&&u(o);while(d.length)d.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,o=0;o<n.length;o++){for(var i=n[o],e=!0,l=1;l<i.length;l++){var r=i[l];0!==s[r]&&(e=!1)}e&&(n.splice(o--,1),t=a(a.s=i[0]))}return t}var e={},s={"pages/shoplist":0},n=[];function a(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=e,a.d=function(t,o,i){a.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,o){if(1&o&&(t=a(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var e in t)a.d(i,e,function(o){return t[o]}.bind(null,e));return i},a.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(o,"a",o),o},a.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},a.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=o,l=l.slice();for(var c=0;c<l.length;c++)o(l[c]);var u=r;n.push([117,"chunk-vendors","chunk-common"]),i()})({117:function(t,o,i){t.exports=i("3a7a")},"3a7a":function(t,o,i){"use strict";i.r(o);i("e260"),i("e6cf"),i("cca6"),i("a79d");var e=i("56d7"),s=function(){var t=this,o=t._self._c;return o("div",{staticClass:"location"},[o("div",{staticClass:"current-area"},[o("div",{staticClass:"current-area__position"},[o("div",{staticClass:"position-text"},[t._v(t._s(t.$t("shoplist.current_location")))]),o("div",{staticClass:"position-city"},[t._v(" "+t._s(0!==t.longitude?t.address:t.$t("shoplist.location_failed"))+" ")])]),o("div",{staticClass:"current-area__Reposition",on:{click:function(o){return t.locationTap()}}},[o("span",{staticClass:"iconfont icon-dwei"}),o("span",{staticClass:"Reposition-text"},[t._v(t._s(t.$t("shoplist.Reposition")))])])]),o("div",{staticClass:"shop-list"},t._l(t.multipleShop,(function(i){return o("div",{key:i.shopId,staticClass:"shop-item clearfix",on:{click:function(o){return t.changeShop(i)}}},[o("div",{staticClass:"shop-item__position"},[o("div",{staticClass:"postion-top"},[o("span",{staticClass:"iconfont icon-dingwei"}),o("span",{staticClass:"postion-top__name"},[t._v(t._s(i.shopTitle))])]),o("div",{staticClass:"postion-bottom clearfix ellipsis"},[i.distanceDesc?o("span",{staticClass:"positon-bottom__range"},[t._v(t._s(i.distanceDesc))]):t._e(),o("span",{staticClass:"postion-bottom__area"},[t._v(t._s(i.detailAddress))])])]),o("div",{staticClass:"shop-item__to"},[o("span",{staticClass:"go"},[t._v(t._s(t.$t("shoplist.go_now")))]),o("span",{staticClass:"iconfont icon-jiantou"})])])})),0)])},n=[],a=i("65ea"),l=a["a"],r=(i("a17d"),i("2877")),c=Object(r["a"])(l,s,n,!1,null,"33f7a2a0",null),u=c.exports;i.p=publicPath,Object(e["a"])(u)},"65ea":function(t,o,i){"use strict";(function(t){i("ac1f"),i("841c"),i("a9e3"),i("e9c4"),i("99af");var e=i("191e"),s=i("ed08"),n=i("fe47");o["a"]={data:function(){return{multipleShop:[],currentShop:{},address:"",type:1,longitude:0,latitude:0,isWechat:!0}},mixins:[e["a"]],created:function(){var t=s["a"].parseLocator(window.location.search);this.type=t.type,localStorage.getItem("_location")&&(this.longitude=Number(JSON.parse(localStorage.getItem("_location")).longitude)||0,this.latitude=Number(JSON.parse(localStorage.getItem("_location")).latitude)||0),0!==this.latitude&&this.getLocationCityInfo(),this.getshoplistbymultiplestores()},mounted:function(){this.isWechat=t.isWechat,t.setNavigationBarTitle({title:this.$t("shoplist.shoplist")})},methods:{changeShop:function(o){t.ylog.send({action_type:"click",module_name:"changeMultipleShop",sellerid:o.shopId,seller_name:o.shopTitle}),t.isBuyerApp?(wx.setMchId(o.shopId),wx.miniProgram.reLaunch({})):(n["a"].setLocalMchId(o.shopId),t.redirectTo({url:"/pages/showskin/main"}))},locationTap:function(){var o=this;t.isBuyerApp?wx.getLocation({success:function(t){o.longitude=t.longitude,o.latitude=t.latitude,localStorage.setItem("_location",JSON.stringify(t)),o.getLocationCityInfo(),o.getshoplistbymultiplestores()},fail:function(t){alert("定位失败，请确认定位权限是否打开")}}):this.isWechat?wx.getLocation({type:"wgs84",success:function(t){o.latitude=t.latitude,o.longitude=t.longitude,localStorage.setItem("_location",JSON.stringify(t)),o.getLocationCityInfo(),o.getshoplistbymultiplestores()}}):navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition,this.showError):alert("该浏览器不支持定位")},getLocationCityInfo:function(){var o=this;t.request({url:"/shop/api/getLocationInfo?location=".concat(this.latitude,",").concat(this.longitude),data:{}}).then((function(t){o.address=t.result.address||""})).catch((function(i){t.showToast({title:i.message||o.$t("addaddress.positioning_choose_manually")})}))},showPosition:function(t){this.longitude=t.coords.longitude,this.latitude=t.coords.latitude;var o={longitude:t.coords.longitude,latitude:t.coords.latitude};localStorage.setItem("_location",JSON.stringify(o)),this.getLocationCityInfo(),this.getshoplistbymultiplestores()},showError:function(t){this.getshoplistbymultiplestores()},getshoplistbymultiplestores:function(){var o=this,i={};0!==this.longitude&&(i={longitude:this.longitude,latitude:this.latitude}),t.request({url:"/api/prod/getshoplistbymultiplestores",params:i}).then((function(t){var i=t.currentShop,e=t.multipleShop;o.multipleShop=e,o.currentShop=i}))}}}}).call(this,i("7189")["default"])},a17d:function(t,o,i){"use strict";i("f652")},f652:function(t,o,i){}});