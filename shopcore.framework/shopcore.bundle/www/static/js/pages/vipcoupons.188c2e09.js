(function(t){function o(o){for(var e,u,c=o[0],s=o[1],r=o[2],p=0,d=[];p<c.length;p++)u=c[p],Object.prototype.hasOwnProperty.call(i,u)&&i[u]&&d.push(i[u][0]),i[u]=0;for(e in s)Object.prototype.hasOwnProperty.call(s,e)&&(t[e]=s[e]);l&&l(o);while(d.length)d.shift()();return a.push.apply(a,r||[]),n()}function n(){for(var t,o=0;o<a.length;o++){for(var n=a[o],e=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(e=!1)}e&&(a.splice(o--,1),t=u(u.s=n[0]))}return t}var e={},i={"pages/vipcoupons":0},a=[];function u(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=t,u.c=e,u.d=function(t,o,n){u.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,o){if(1&o&&(t=u(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var e in t)u.d(n,e,function(o){return t[o]}.bind(null,e));return n},u.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(o,"a",o),o},u.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},u.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=o,c=c.slice();for(var r=0;r<c.length;r++)o(c[r]);var l=s;a.push([132,"chunk-vendors","chunk-common"]),n()})({"03ee":function(t,o,n){"use strict";n.r(o);n("e260"),n("e6cf"),n("cca6"),n("a79d");var e=n("56d7"),i=function(){var t=this,o=t._self._c;return o("div",{staticClass:"coupon-wrap",style:t.pageThemeStyle},[o("div",{staticClass:"tabs"},t._l(t.coupons,(function(n){return o("div",{key:"tab".concat(n.type),class:{selected:n.type===t.currentType},on:{click:function(o){return t.switchTab(n.type)}}},[o("span",[t._v(t._s(n.text))]),o("span",{staticClass:"total"},[t._v(t._s(n.total))])])})),0),t.coupon&&t.coupon.list&&t.coupon.list.length>0?t._l(t.coupon.list,(function(n,e){return o("div",{key:e,staticClass:"coupon-card-wrap"},[o("coupon-card",{attrs:{coupon:n,active:t.activestatus,showRules:""}})],1)})):t._e(),t.coupon.loading||0!==t.coupon.list.length?t.isPullDown&&!t.coupon.loadMore?o("div",{staticClass:"end"},[t._v(" "+t._s(t.$t("vipcoupons.above_vipcoupon_text",[t.coupon.text]))+" ")]):t._e():o("div",{staticClass:"empty"},[o("img",{attrs:{src:n("3e33"),alt:""}}),o("p",[t._v(t._s(t.$t("vipcoupons.no_expired_qualification",{0:t.coupon.text})))])])],2)},a=[],u=n("344c"),c=u["a"],s=(n("c802"),n("2877")),r=Object(s["a"])(c,i,a,!1,null,"bafad038",null),l=r.exports;n.p=publicPath,Object(e["a"])(l)},132:function(t,o,n){t.exports=n("03ee")},"344c":function(t,o,n){"use strict";(function(t){var e=n("2909"),i=(n("7db0"),n("d3b7"),n("159b"),n("c740"),n("d81d"),n("99af"),n("ac1f"),n("5319"),n("5b81"),n("603c")),a=n("b68d"),u=n("698b"),c=n("789c"),s=n("fe47");o["a"]={components:{couponCard:u["a"]},mixins:[i["a"],a["a"]],data:function(){return{activestatus:!0,isCdf:!0,currentType:0,isPullDown:!1,coupons:[{type:0,text:this.$tc("coupons.coupon_status",0),total:0,list:[],pageIndex:0,loading:!1,loadMore:!0},{type:2,text:this.$tc("coupons.coupon_status",1),total:0,list:[],pageIndex:0,loading:!1,loadMore:!0},{type:1,text:this.$tc("coupons.coupon_status",2),total:0,list:[],pageIndex:0,loading:!1,loadMore:!0,isHostver:0}]}},onReachBottom:function(){this.isPullDown=!0,this.fetchCouponList()},computed:{coupon:function(){var t=this.coupons,o=this.currentType,n=t.find((function(t){return t.type===o}));return n}},mounted:function(){t.setNavigationBarTitle({title:this.$t("vipcoupons.my_coupons")}),this.initData(),this.isCdf=s["a"].isCdf()},methods:{initData:function(){var t=this;this.coupons.forEach((function(o){t.fetchCouponList(o.type)}))},switchTab:function(t){t!==this.currentType&&(document.documentElement.scrollTop=document.body.scrollTop=0,this.currentType=t,this.isPullDown=!1),this.activestatus=0===t},fetchCouponList:function(o){var n=this,i=o||this.currentType,a=this.coupons.findIndex((function(t){return t.type===i})),u=this.coupons[a];if(!u.loading&&u.loadMore){var c={pageIndex:u.pageIndex+1,pageSize:20,tableType:i};u.loading=!0,t.request({url:"/api/usercenter/getqualificationslist",data:c,method:"post"}).then((function(t){if(u.loading=!1,t){var o=t.equityInfoList||[];o.length>0&&o.map((function(o){return 0==i?(o.vipCouponsStatus=0,u.total=t.unUsedTotal||0):1==i?(o.vipCouponsStatus=1,u.total=t.usedTotal||0):2==i?(o.vipCouponsStatus=2,u.total=t.expiredTotal||0):u.total=0,o}));var a=n.convertQualification(o);u.list=[].concat(Object(e["a"])(u.list),Object(e["a"])(a)),u.pageIndex=c.pageIndex,u.loadMore=u.list.length<u.total}})).catch((function(){u.loading=!1}))}},convertQualification:function(o){return t.isBlank(o)?[]:o.map((function(t){var o=new c["a"]({sellerId:t.equityNo||"",name:t.equityName||"",equityDesc:t.equityDesc||"",timeLimit:(t.validStart&&t.validStart.substring(0,10)||"").replaceAll("-",".")+"-"+(t.validEnd&&t.validEnd.substring(0,10)||"").replaceAll("-","."),subTitle:t.productNames||"",couponType:99,couponSource:99,vipCouponsStatus:t.vipCouponsStatus||0});return o}))}}}}).call(this,n("7189")["default"])},"53d3":function(t,o,n){},c802:function(t,o,n){"use strict";n("53d3")}});