(function(e){function t(t){for(var o,r,s=t[0],c=t[1],l=t[2],p=0,u=[];p<s.length;p++)r=s[p],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(u.length)u.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],o=!0,r=1;r<a.length;r++){var s=a[r];0!==n[s]&&(o=!1)}o&&(i.splice(t--,1),e=c(c.s=a[0]))}return e}var o={},r={"pages/showskin":0},n={"pages/showskin":0},i=[];function s(e){return c.p+"static/js/"+({"brand-wall":"brand-wall","coupon-center-relevance~coupon-relevance~search-relevance":"coupon-center-relevance~coupon-relevance~search-relevance","product-relevance~search-relevance":"product-relevance~search-relevance","search-relevance":"search-relevance","coupon-center-relevance~coupon-relevance~share-modal":"coupon-center-relevance~coupon-relevance~share-modal","coupon-center-relevance":"coupon-center-relevance","coupon-relevance":"coupon-relevance","share-modal":"share-modal","coupon-fission~live-home~product-hot~product-member~product-new~product-newmember~product-spec~shop-~2af75650":"coupon-fission~live-home~product-hot~product-member~product-new~product-newmember~product-spec~shop-~2af75650","coupon-fission":"coupon-fission","live-home":"live-home","shop-video":"shop-video","fly-banner":"fly-banner","img-text":"img-text","live-play":"live-play","live-preview":"live-preview","live-replay":"live-replay","live-subscribe":"live-subscribe","one-img-text":"one-img-text","product-all~product-category~product-hot~product-member~product-new~product-newmember~product-releva~ab71b53b":"product-all~product-category~product-hot~product-member~product-new~product-newmember~product-releva~ab71b53b","product-all~product-category~product-hot~product-member~product-new~product-newmember~product-releva~4d83c133":"product-all~product-category~product-hot~product-member~product-new~product-newmember~product-releva~4d83c133","product-category~tuan-buy":"product-category~tuan-buy","tuan-buy":"tuan-buy","product-hot~product-member~product-new~product-newmember~product-relevance~product-spec~shop-mustbuy~31482127":"product-hot~product-member~product-new~product-newmember~product-relevance~product-spec~shop-mustbuy~31482127","product-hot":"product-hot","product-member":"product-member","product-new":"product-new","product-newmember":"product-newmember","product-spec":"product-spec","shop-mustbuy":"shop-mustbuy","shop-presale":"shop-presale","shop-promotion":"shop-promotion","shop-seckill":"shop-seckill","shop-privilege":"shop-privilege","product-all~shop-nav":"product-all~shop-nav","product-all":"product-all","product-category":"product-category","product-relevance":"product-relevance","product-topic":"product-topic","shop-nav":"shop-nav","product-brand":"product-brand","product-marketing":"product-marketing","search-bar":"search-bar","shop-banner~turn-banner":"shop-banner~turn-banner","shop-banner":"shop-banner","turn-banner":"turn-banner","shop-coupon":"shop-coupon","shop-noticebar":"shop-noticebar","shop-puzzle":"shop-puzzle","shop-sale":"shop-sale","shop-title":"shop-title",space:"space"}[e]||e)+"."+{"brand-wall":"81746e70","coupon-center-relevance~coupon-relevance~search-relevance":"f1c34ac8","product-relevance~search-relevance":"0d4dd320","search-relevance":"433e74c9","coupon-center-relevance~coupon-relevance~share-modal":"4cf22f4a","coupon-center-relevance":"a299bb0b","coupon-relevance":"d9d2305d","share-modal":"8a8b3689","coupon-fission~live-home~product-hot~product-member~product-new~product-newmember~product-spec~shop-~2af75650":"1215e42b","coupon-fission":"9ffa3d32","live-home":"948b55fd","shop-video":"d0506387","fly-banner":"8efda554","img-text":"2b8c3e92","live-play":"72d7ee72","live-preview":"440963b8","live-replay":"404c7e3c","live-subscribe":"8d8e565b","one-img-text":"3fad927a","product-all~product-category~product-hot~product-member~product-new~product-newmember~product-releva~ab71b53b":"cd7b5775","product-all~product-category~product-hot~product-member~product-new~product-newmember~product-releva~4d83c133":"be5dcfef","product-category~tuan-buy":"db1ddf97","tuan-buy":"e1a1669d","product-hot~product-member~product-new~product-newmember~product-relevance~product-spec~shop-mustbuy~31482127":"680af181","product-hot":"4f43b32e","product-member":"17ca97ea","product-new":"007a2b64","product-newmember":"4c1882a2","product-spec":"72eadedd","shop-mustbuy":"62f3115b","shop-presale":"c5fde225","shop-promotion":"fcade842","shop-seckill":"cd2a2834","shop-privilege":"36604948","product-all~shop-nav":"ef4a2736","product-all":"7619e5e5","product-category":"0a372a57","product-relevance":"349f44fc","product-topic":"ac434ca7","shop-nav":"8411da2a","product-brand":"24240d6b","product-marketing":"4692d16b","search-bar":"8727ffe4","shop-banner~turn-banner":"d7b6efef","shop-banner":"6c7ecb4d","turn-banner":"61a7b012","shop-coupon":"aea44b70","shop-noticebar":"854d5bf7","shop-puzzle":"e9ff14eb","shop-sale":"8d2704a3","shop-title":"3eaaacc9",space:"4bf9c43e"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"brand-wall":1,"coupon-center-relevance~coupon-relevance~search-relevance":1,"product-relevance~search-relevance":1,"search-relevance":1,"coupon-center-relevance~coupon-relevance~share-modal":1,"coupon-center-relevance":1,"coupon-relevance":1,"share-modal":1,"coupon-fission~live-home~product-hot~product-member~product-new~product-newmember~product-spec~shop-~2af75650":1,"coupon-fission":1,"live-home":1,"shop-video":1,"fly-banner":1,"img-text":1,"live-play":1,"live-preview":1,"live-replay":1,"live-subscribe":1,"one-img-text":1,"product-all~product-category~product-hot~product-member~product-new~product-newmember~product-releva~ab71b53b":1,"product-all~product-category~product-hot~product-member~product-new~product-newmember~product-releva~4d83c133":1,"tuan-buy":1,"product-hot~product-member~product-new~product-newmember~product-relevance~product-spec~shop-mustbuy~31482127":1,"product-hot":1,"product-member":1,"product-new":1,"product-newmember":1,"product-spec":1,"shop-mustbuy":1,"shop-presale":1,"shop-promotion":1,"shop-seckill":1,"shop-privilege":1,"product-all~shop-nav":1,"product-all":1,"product-category":1,"product-relevance":1,"product-topic":1,"shop-nav":1,"product-brand":1,"product-marketing":1,"search-bar":1,"shop-banner":1,"turn-banner":1,"shop-coupon":1,"shop-noticebar":1,"shop-puzzle":1,"shop-sale":1,"shop-title":1,space:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise((function(t,a){for(var o="static/css/"+{"brand-wall":"882d2b071e","coupon-center-relevance~coupon-relevance~search-relevance":"6b58b241d4","product-relevance~search-relevance":"d1df4b937d","search-relevance":"a1ba616906","coupon-center-relevance~coupon-relevance~share-modal":"b107826838","coupon-center-relevance":"48c500cc58","coupon-relevance":"1d85cdc312","share-modal":"9e6ae59b3f","coupon-fission~live-home~product-hot~product-member~product-new~product-newmember~product-spec~shop-~2af75650":"e5e959c166","coupon-fission":"9009073556","live-home":"13a3696224","shop-video":"0630cef0c3","fly-banner":"9d8721e6f6","img-text":"6a776bf85d","live-play":"a68485dea6","live-preview":"fb7710dfcd","live-replay":"1e877aef4b","live-subscribe":"08c8acca98","one-img-text":"37667db2e8","product-all~product-category~product-hot~product-member~product-new~product-newmember~product-releva~ab71b53b":"39fae890c9","product-all~product-category~product-hot~product-member~product-new~product-newmember~product-releva~4d83c133":"b341049ff1","product-category~tuan-buy":"31d6cfe0d1","tuan-buy":"61abedaf5f","product-hot~product-member~product-new~product-newmember~product-relevance~product-spec~shop-mustbuy~31482127":"59931291d3","product-hot":"283fe87df9","product-member":"5497beac48","product-new":"a19ee226b9","product-newmember":"dc85617255","product-spec":"c8e2ca6658","shop-mustbuy":"72a38b3661","shop-presale":"ab48027a1d","shop-promotion":"962159f3e3","shop-seckill":"06a97ee509","shop-privilege":"6b229afa1c","product-all~shop-nav":"59a9de7db1","product-all":"bd69678fa7","product-category":"028c21e9fb","product-relevance":"5e7f86eb42","product-topic":"c2d93b158a","shop-nav":"039177c190","product-brand":"3c601bf1bc","product-marketing":"b9be98295f","search-bar":"0fcd546294","shop-banner~turn-banner":"31d6cfe0d1","shop-banner":"2b09d54548","turn-banner":"cdbe2fb346","shop-coupon":"5b999435b0","shop-noticebar":"27788d0b12","shop-puzzle":"b26567d3bb","shop-sale":"68560e7bdd","shop-title":"d08b25fc5e",space:"4639f1d333"}[e]+".css",n=c.p+o,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var l=i[s],p=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(p===o||p===n))return t()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){l=u[s],p=l.getAttribute("data-href");if(p===o||p===n)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||n,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete r[e],d.parentNode.removeChild(d),a(i)},d.href=n;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){r[e]=0})));var o=n[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise((function(t,a){o=n[e]=[t,a]}));t.push(o[2]=i);var l,p=document.createElement("script");p.charset="utf-8",p.timeout=120,c.nc&&p.setAttribute("nonce",c.nc),p.src=s(e);var u=new Error;l=function(t){p.onerror=p.onload=null,clearTimeout(d);var a=n[e];if(0!==a){if(a){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",u.name="ChunkLoadError",u.type=o,u.request=r,a[1](u)}n[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:p})}),12e4);p.onerror=p.onload=l,document.head.appendChild(p)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(a,o,function(t){return e[t]}.bind(null,o));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],p=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=p;i.push([120,"chunk-vendors","chunk-common"]),a()})({"0130":function(e,t,a){"use strict";(function(e){var o=a("5530"),r=(a("8a58"),a("e41f")),n=(a("e17f"),a("2241")),i=(a("ab71"),a("58e6")),s=(a("e9c4"),a("4de4"),a("d3b7"),a("159b"),a("ac1f"),a("841c"),a("a9e3"),a("b0c0"),a("99af"),a("7db0"),a("1276"),a("bcb3")),c=a("fe47"),l=a("8c0b"),p=a("191e"),u=a("603c"),d=a("b68d"),h=a("4696"),m=a("9a65"),g=a("9031"),f=a("3841"),v=a("c08d"),b=a("d72f"),y=a("8a8a"),w=a("ed08"),_=a("a8f5"),S=a("4846");function k(e,t){try{window.sessionStorage.setItem(e,JSON.stringify(t))}catch(a){console.info(a)}}function I(e){try{var t=window.sessionStorage.getItem(e);return t?JSON.parse(t):null}catch(a){return console.info(a),null}}t["a"]={name:"Showskin",components:{skinwrap:f["default"],tabnav:s["a"],previewTips:h["a"],shopSuspension:g["a"],"van-pull-refresh":i["a"],pullRefreshLoading:v["a"],navigationBar:b["a"],"van-dialog":n["a"].Component,checkShop:m["a"],Popup:r["a"]},mixins:[p["a"],u["a"],d["a"]],data:function(){return{isLoading:!1,pageStatus:1,pageData:{},parts:[],pageStyleMode:null,eType:"",mchId:"",emptyMsg:"",isCloseShop:!1,alreadyShowTip:!1,pageId:0,pageName:"",sellerInfo:{},isPreview:0,isWechat:!0,contactUs:{},gifImgUrl:"",homeRes:{},navBarObj:{},partnerInfo:{},hideNavBar:!0,isBuyerApp:w["a"].isBuyerApp,showAgreementDialog:!1,agreementList:[],clientSource:3,agreementPopShow:!1,changeAgreement:[],protocolList:[],multipleShop:[],showCancelDeal:!1,agreementDocument:[],agreementTitle:"",allAgreementList:[],refreshTime:"",stickyData:{}}},computed:{baseInfo:function(){var e=this.pageData;return Object(o["a"])(Object(o["a"])({},e),{},{headerTitleType:e.headerPicUrl?"pic":"text"})},isImmersed:function(){return"immersed"===this.pageData.headerBgType},wrapperStyle:function(){return this.moduleStyle(this.pageData)},ylogParams:function(){return{pageid:this.pageId||0,pagename:this.pageName||"页面(".concat(this.pageId||0,")")}},placeBottom:function(){var e=168;w["a"].isIphoneX()&&(e+=50);var t=this.stickyData;if(!Object(w["c"])(t)&&!Object(w["c"])(t.stickyArr)){var a=t.stickyArr.filter((function(e){return"bottom"==e.position}));Object(w["c"])(a)||a.forEach((function(t){t.height&&(e+=2*t.height)}))}return e},wechat:function(){var e=this.sellerInfo.customerServiceId,t=void 0===e?"":e;return t}},created:function(){var t=this;e.onShow((function(){t.sellerInfo&&1==t.sellerInfo.shopType&&e.navigateTo({url:"/pages/shoplist/main?type=2"}),t.checkRefreshTime()})),this.initData()},mounted:function(){this.isWechat=e.isWechat},beforeDestroy:function(){this.event=null},methods:{initData:function(){var t=this,a=w["a"].parseLocator(window.location.search);if(c["a"].init(a,(function(a,o){t.mchId=a,t.eType=o,t.getExtraData();var r=S["a"].getStorageSync("isFirstOpenHome")||0;!r&&e.isBuyerApp?t.getAgreementlist():e.auth.islogin()?e.auth.checkBindMobile().then((function(o){if(!o.needBindMobile){var r="";r=e.isBuyerApp?I("agreementPopShow"):I("agreementPopShow__".concat(a)),r||t.getVersionList()}})):e.removeStorageSync("versionList__".concat(a))})),this.event=new y["a"],this.event.on("wxshare",this.setWxShare.bind(this)),e.isBuyerApp)this.isPreview=!1;else{var o=1===Number(a.preview)?1:0;this.isPreview=o}},pullRefresh:function(){e.hideLoading(),e.showLoading(),this.initData()},getAgreementlist:function(){var t=this;e.request({url:"/api/social/agreementlist",data:{pageType:1,timestamp:(new Date).getTime()}}).then((function(e){e&&e.agreementList&&e.agreementList.length>0&&(t.agreementList=e.agreementList,t.showAgreementDialog=!0,console.log("------aggrement list:",t.agreementList))}))},setWxShare:function(){var t=this.sellerInfo,a=this.pageData,o=a.shareTitle,r=a.shareContent,n=a.sharePicUrl;(o||t.name)&&(n||t.avatar)&&e.wxShare({title:o||t.name||this.$t("showskin.overseas_shops"),desc:r||"",imgUrl:n||t.avatar})},fetchPageData:function(t){if(window._global&&window._global.pageInfo)return Promise.resolve(window._global.pageInfo);var a=w["a"].parseLocator(window.location.search),o={MerchantId:t};return 1===Number(a.preview)&&(o.Preview=1,a.pageId&&(o.pageId=a.pageId)),e.request({url:"/api/prod/sqshop",params:o,headers:{"accept-version":"2.0.0"}})},getPageData:function(){var t=this,a=this.mchId;if(!a)return this.emptyMsg=this.$t("showskin.hani_failed"),void e.showToast({title:this.emptyMsg});this.fetchPageData(this.mchId).then((function(a){if(e.hideLoading(),a.code||a.msg)return t.emptyMsg=a.msg||a.message||t.$t("showskin.data_loading_failure"),void e.showToast({title:t.emptyMsg});a.parts&&a.parts.length?(t.pageId=a.pageId,t.pageData=a,e.isBuyerApp?t.parts=a.parts.filter((function(e){return"coupon-fission"!==e.skinCode})):t.parts=a.parts,t.pageStyleMode=a.pageStyleMode||1,t.pageStatus=2,t.homeRes=a,t.clientSource=a.clientSource||3,t.setRefreshTime(),t.handleData(a),t.event&&t.event.emit("wxshare"),t.isLoading=!1):e.showToast({title:"empty parts"})})).catch((function(){e.hideLoading(),t.isLoading=!1,t.emptyMsg=t.$t("showskin.hani_failed"),e.showToast({title:t.emptyMsg})}))},handleData:function(t){var a={};if(a.headerStyleType=t.headerStyleType||"custom",a.midPic=t.headerPicUrl||"",a.bgPic=t.headerBgPic,a.headerLinkData=t.headerLinkData||{},a.bgColor=t.headerBgColor||"#ffffff",a.titleColor=t.headerTextColor||"#000000","immersed"==t.headerBgType){var o=t.headerScrollPic&&t.headerScrollPic.picUrl?1:2;a.immersiveObj={type:o,headerDefaultPic:t.headerDefaultPic||"",headerScrollPic:t.headerScrollPic},a.titleColor="#000000",a.bgColor="#ffffff",a.bgPic=""}else a.immersiveObj=null;a.frontColor=t.headerBgPic||a.immersiveObj?"#ffffff":a.titleColor,a.title=t.name||this.$t("showskindev.home"),this.navBarObj=a,t.name&&(this.pageName=t.name,document.title=t.name);var r=t.parts.filter((function(e){return"search-bar"===e.skinCode}));r.length&&e.setStorage({key:"searchType",data:r[0].partProps&&r[0].partProps.type||1})},updateHideNavBar:function(e){this.hideNavBar=e},getExtraData:function(){var t=this;e.request({url:"/api/prod/sqshopextra"}).then((function(a){var o=a.sellerInfo||{};if(t.sellerInfo=o,t.isCloseShop=3===o.status,t.contactUs=o.contactUs||{},t.partnerInfo=a.partnerInfo||{},t.showTipDialog(2===o.status?o.exchangeDesc:""),o&&o.id&&o.id!=t.mchId&&(e.isBuyerApp?wx.setMchId(id):c["a"].setLocalMchId(id)),t.multipleShop=[],o&&o.shopType&&0!==o.shopType){if(1===o.shopType)return void t.locationTap();t.getshoplistbymultiplestores()}t.getPageData(),t.event&&t.event.emit("wxshare")})).catch((function(a){console.log(a),e.hideLoading(),t.isLoading=!1}))},locationTap:function(){var t=this;e.isBuyerApp?wx.getLocation({success:function(e){t.longitude=e.longitude,t.latitude=e.latitude,localStorage.setItem("_location",JSON.stringify(e)),t.getshoplistbymultiplestores(e.latitude,e.longitude)},fail:function(t){e.navigateTo({url:"/pages/shoplist/main?type=2"})}}):this.isWechat?wx.getLocation({type:"wgs84",success:function(e){localStorage.setItem("_location",JSON.stringify(e)),t.getshoplistbymultiplestores(e.latitude,e.longitude)},fail:function(){e.redirectTo({url:"/pages/shoplist/main?type=2"})}}):navigator.geolocation?navigator.geolocation.getCurrentPosition(this.showPosition,this.showError):alert("该浏览器不支持定位")},showPosition:function(e){var t={longitude:e.coords.longitude,latitude:e.coords.latitude};localStorage.setItem("_location",JSON.stringify(t)),this.getshoplistbymultiplestores(e.coords.longitude,e.coords.latitude)},showError:function(t){e.redirectTo({url:"/pages/shoplist/main?type=2"})},getshoplistbymultiplestores:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r={};0!==a&&(r={longitude:a,latitude:o}),e.request({url:"/api/prod/getshoplistbymultiplestores",params:r}).then((function(o){var r=o.currentShop,n=o.multipleShop;if(t.multipleShop=n,0!==a){var i=0===r.shopType?r.shopId:n[0].shopId;window.scrollTo(0,0),e.isBuyerApp?(wx.setMchId(i),wx.miniProgram.reLaunch({})):(c["a"].setLocalMchId(i),e.redirectTo({url:"/pages/showskin/main"}))}}))},showTipDialog:function(t){var a=this;t&&!this.alreadyShowTip&&e.showModal({content:t,confirmText:this.$t("showskin.see"),showCancel:!1,success:function(e){e.confirm&&(a.alreadyShowTip=!0)}})},moduleStyle:function(t){var a={},o="";if(t&&t.bgPicUrl){var r=this.handleImgUrl(t.bgPicUrl),n=r.gifImgUrl,i=r.norImgUrl;i&&(a.backgroundImage="url('".concat(i,"')")),n&&(o=n)}return t&&(a.backgroundColor=t.bgColor||"#fff"),e.isBuyerApp&&(a.paddingBottom="0 !important"),this.gifImgUrl=o,a},handleImgUrl:function(t){var a="",o="",r=e.parseImgUrl(t),n=r.imgUrl,i=r.maskUrl;return o=n,i&&(a=i),{gifImgUrl:a,norImgUrl:o}},handleChangeParts:function(e){var t=e.newParts,a=e.res;this.parts=t,a&&(a._isHome&&(a=this.homeRes),this.pageId=a.pageId,this.pageData=a,this.pageStyleMode=a.pageStyleMode||1)},toPrivaceContent:function(t,a){console.log("----------",t,a);var o="/pages/customprotocol/main?id=".concat(t,"&title=").concat(encodeURIComponent(a));e.navigateTo({url:o})},beforeClose:function(e,t){"confirm"===e?S["a"].setStorageSync("isFirstOpenHome",1):this.showCancelDeal=!0,t()},beforeCancelClose:function(e,t){"confirm"===e?this.showAgreementDialog=!0:wx.exitApp(),t()},agreementPopAgree:function(){e.isBuyerApp?(e.setStorageSync("versionList",this.protocolList),k("agreementPopShow",!1)):(e.setStorageSync("versionList__".concat(this.mchId),this.protocolList),k("agreementPopShow__".concat(this.mchId),!1)),this.agreementPopShow=!1,Object(l["a"])(!0)},agreementPoPppose:function(){this.agreementPopShow=!1,e.isBuyerApp?k("agreementPopShow",!0):k("agreementPopShow__".concat(this.mchId),!0),Object(l["a"])(!1)},getVersionList:function(){var t=this;e.request({url:"/api/social/agreementversionlist",method:"GET",data:{}}).then((function(a){if(a){if(w["a"].isBlank(a))return;var o="";if(o=e.isBuyerApp?e.getStorageSync("versionList"):e.getStorageSync("versionList__".concat(t.mchId)),t.protocolList=a,w["a"].isBlank(o))e.isBuyerApp?e.setStorageSync("versionList",a):e.setStorageSync("versionList__".concat(t.mchId),a);else{var r=t.judgeDifference(o,a);r.length&&(t.changeAgreement=r,t.getAgreementUpdateTips())}}}))},judgeDifference:function(e,t){for(var a=[],o=function(o){var r=t[o],n=e.find((function(e){return e.agreementId===r.agreementId}));n?r.version!==n.version&&a.push(r):a.push(r)},r=0;r<t.length;r++)o(r);return a},getAgreementUpdateTips:function(){var t=this;e.request({url:"/api/social/agreementupdatetips",method:"GET",data:{}}).then((function(e){e&&e.updateTipsDetail&&e.updateTipsDetail.length&&(t.agreementDocument=t.getAgreementNewTips(e.updateTipsDetail),t.agreementPopShow=!0,t.agreementTitle=e.updateTipsTitle||"",t.allAgreementList=e.agreementList||[])}))},getAgreementNewTips:function(e){var t=[];e.forEach((function(e){t.push({name:e,type:!1})}));var a=[];return t.forEach((function(e){var t=[];-1!=e.name.indexOf("</a>")?(t=e.name.split("</a>"),t.forEach((function(e,t){0==t?a.push({name:e,type:!0}):""!=e&&a.push({name:e,type:!1})}))):a.push(e)})),a},findPrompt:function(e){var t=this.allAgreementList.find((function(t){return t.id==e})),a="";return t&&(a="《".concat(t.name,"》")),a},checkAgreement:function(e){var t=this.allAgreementList.find((function(t){return t.id==e.name})),a={agreementId:t.id||"",agreementName:t.name||""};Object(_["b"])({linkType:51,linkVal:a.agreementId,linkText:a.agreementName})},setRefreshTime:function(){var e=(new Date).getTime();this.refreshTime=e},checkRefreshTime:function(){var e=18e5,t=(new Date).getTime();this.refreshTime&&t-this.refreshTime>e&&(console.log("----home trig refresh"),window.scrollTo({top:0,behavior:"smooth"}),this.initData())},getStickyData:function(e){Object(w["c"])(e)||Object(w["c"])(e.stickyArr)||(this.stickyData=e)}}}}).call(this,a("7189")["default"])},"0903":function(e,t,a){},120:function(e,t,a){e.exports=a("7c8a")},"127b":function(e,t,a){"use strict";a("0903")},"3e9e":function(e,t,a){},"534f":function(e,t,a){},"5b7a":function(e,t,a){"use strict";a("3e9e")},"6d17":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAAHfgQuIAAAAAXNSR0IArs4c6QAAAT1JREFUaAXtmdEKwzAIRcv+bm996/+z3xhsvTBB2vhgMK6mNzDI0hj1mGnSLUtU+1gLnR48rJmt8ZN0a1Lg2GatZT6wBK42DgdcNN0C8NiloYXo/wu0rJphrIsshNxbP0/otZv37g0OBIsK97pMuUQC664LG3R4k0zd9bvzWDefIsQI2Iaj05iRdKCwO/noxTx9KvbQ4lwSIIHCBFB8n1n2S25NqfiiLKWCUFnIHiLGEIxYJP3Elnbw1YioVNMI798TLy48KU3wptTDFI+ohARIgARIgASGE0D5lBsDjrvTlNGjY/IiNO1gMip0lmMYL93oWLXwMWKM2IUIoHbJKxtJ9+WzouaL2qWL9ZROwuFpE4uOJh39RfoIpfR3bt3S4WsYf+uITnMf1IFFHYVj+KT9casNYJ8ESIAEwgl8Acr1vq6lXJHJAAAAAElFTkSuQmCC"},"7c8a":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("56d7"),r=(a("b0c0"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper",style:e.pageThemeStyle},[e.isPreview?t("preview-tips"):e._e(),1===e.pageStatus?t("van-pull-refresh",{attrs:{"animation-duration":"1500","head-height":"60"},on:{refresh:e.pullRefresh},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[1===e.pageStatus?t("div",{staticClass:"placeholder"}):e._e()]):e._e(),2!==e.pageStatus||e.isCloseShop?e._e():t("div",{staticClass:"showskin",style:e.wrapperStyle},[e.gifImgUrl?t("div",{staticClass:"showskin-mask",style:{backgroundImage:"url('".concat(e.gifImgUrl,"')")}}):e._e(),e.pageData.headerBgPic&&!e.isBuyerApp?t("div",{staticClass:"headerBgDiv",attrs:{id:"navigationBar"},on:{click:e.handleHeaderClick}},[t("img",{staticClass:"headerBgPic",attrs:{src:e.pageData.headerBgPic}})]):e._e(),e.isBuyerApp?t("navigation-bar",{attrs:{id:"navigationBar",leftImg:e.navBarObj.leftPic,bgImg:e.navBarObj.bgPic,headerStyleType:e.navBarObj.headerStyleType,headerLinkData:e.navBarObj.headerLinkData,centerImg:e.navBarObj.midPic,isPreview:e.isPreview,title:e.navBarObj.title,headerBgType:e.pageData.headerBgType,backgroundColor:e.navBarObj.bgColor,titleColor:e.navBarObj.titleColor,partnerInfo:e.partnerInfo,sellerInfo:e.sellerInfo,immersiveObj:e.navBarObj.immersiveObj},on:{bindupdateHideNavBar:e.updateHideNavBar}}):e._e(),e.multipleShop&&e.multipleShop.length>=1?t("checkShop",{attrs:{sellerInfo:e.sellerInfo,isBuyerApp:e.isBuyerApp,isImmersed:"immersed"==e.pageData.headerBgType}}):e._e(),t("van-pull-refresh",{attrs:{"animation-duration":"1500","head-height":"60"},on:{refresh:e.pullRefresh},scopedSlots:e._u([{key:"pulling",fn:function(e){return[t("div")]}},{key:"loosing",fn:function(){return[t("pullRefreshLoading",{attrs:{"bg-color":e.pageData.bgColor||"#fff"}})]},proxy:!0},{key:"loading",fn:function(){return[t("pullRefreshLoading",{attrs:{"bg-color":e.pageData.bgColor||"#fff"}})]},proxy:!0}],null,!1,3898066733),model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[t("div",{staticClass:"van-pull-refresh-div"},[t("skinwrap",{attrs:{pageId:e.pageId,pageName:e.pageName,parts:e.parts,tempCode:e.pageData.tempCode,pageStyleMode:e.pageStyleMode,isPreview:e.isPreview,sellerInfo:e.sellerInfo,luxuryStyle:e.luxuryStyle},on:{onChangeParts:e.handleChangeParts,getStickyData:e.getStickyData}})],1)]),2===e.pageStatus&&e.isCloseShop?t("div",{staticClass:"empty_home"},[t("img",{staticClass:"closeshop-image",attrs:{src:e.$t("showskin.img_ic_close_shop"),alt:""}})]):e._e(),3===e.pageStatus?t("div",{staticClass:"empty_home"},[t("img",{staticClass:"empty-image",attrs:{src:a("4f3c")}}),t("div",{staticClass:"empty_msg"},[e._v(e._s(e.emptyMsg))])]):e._e()],1),t("shop-suspension",{attrs:{ylogParams:e.ylogParams,hasKefu:"",source:"1",wechat:e.wechat,pageId:e.pageId,contactUs:e.contactUs,luxuryStyle:e.luxuryStyle,type:"home",placeBottom:e.placeBottom}}),t("van-dialog",{staticClass:"agreement-dialog",attrs:{"before-close":e.beforeClose,"confirm-button-color":"var(--main-color, #f23340)",showCancelButton:"","confirm-button-text":e.$t("showskin.tongyi"),"cancel-button-text":e.$t("showskin.bu_tong_yi")},scopedSlots:e._u([{key:"title",fn:function(a){return[t("div",{staticClass:"dialog-title"},[e._v(e._s(e.$t("showskin.aggree_title")))])]}}]),model:{value:e.showAgreementDialog,callback:function(t){e.showAgreementDialog=t},expression:"showAgreementDialog"}},[t("div",{staticClass:"agreement-dialog-content"},[e._v(" "+e._s(e.$t("showskin.aggree_content_a"))+" "),e._l(e.agreementList,(function(a,o){return[o>0?[e._v("、")]:e._e(),t("span",{key:a.agreementId,staticClass:"content-color",on:{click:function(t){return e.toPrivaceContent(a.agreementId,a.agreementName)}}},[e._v("《"+e._s(a.agreementName)+"》")])]})),e._v(" "+e._s(e.$t("showskin.aggree_content_b"))+" ")],2),t("div",{staticClass:"agreement-dialog-content"},[e._v(e._s(e.$t("showskin.aggree_content_c")))])]),t("van-dialog",{staticClass:"agreement-dialog",attrs:{"before-close":e.beforeCancelClose,"confirm-button-color":"var(--main-color, #f23340)",showCancelButton:"","confirm-button-text":e.$t("showskin.return_continue"),"cancel-button-text":e.$t("showskin.he_disagrees")},scopedSlots:e._u([{key:"title",fn:function(a){return[t("div",{staticClass:"dialog-title"},[e._v(e._s(e.$t("showskin.need_agree_privacy")))])]}}]),model:{value:e.showCancelDeal,callback:function(t){e.showCancelDeal=t},expression:"showCancelDeal"}},[t("div",{staticClass:"cancel-dialog-content"},[e._v(" "+e._s(e.$t("showskin.not_agree_privacy_agreement"))+" ")])]),t("tabnav",{ref:"tabnav"}),t("Popup",{staticClass:"agreement-pop",attrs:{value:e.agreementPopShow,round:"","close-on-click-overlay":!1}},[t("div",{staticClass:"agreement-pop__adaptive"},[t("div",{staticClass:"agreement-pop__title"},[e._v(e._s(e.agreementTitle||e.$t("showskin.zhong_yao_ti_shi")))]),t("div",{staticClass:"agreement-pop__content"},[e._l(e.agreementDocument,(function(a,o){return[a.type||"/n"===a.name?a.type||"/n"!=a.name?t("span",{key:a.name+o,on:{click:function(t){return t.stopPropagation(),e.checkAgreement(a)}}},[e._v(e._s(e.findPrompt(a.name)))]):t("span",{key:a.name+o,domProps:{innerHTML:e._s("<br/>")}}):[e._v(e._s(a.name))]]}))],2),t("div",{staticClass:"agreement-pop__agree",on:{click:e.agreementPopAgree}},[e._v(e._s(e.$t("showskin.tong_yi_bing_ji_xu")))]),t("div",{staticClass:"agreement-pop__oppose",on:{click:e.agreementPoPppose}},[e._v(e._s(e.$t("showskin.bu_tong_yi")))])])])],1)}),n=[],i=a("0130"),s=i["a"],c=(a("5b7a"),a("2877")),l=Object(c["a"])(s,r,n,!1,null,"b44bfe92",null),p=l.exports;a.p=publicPath,Object(o["a"])(p)},"7dfd":function(e,t,a){"use strict";a("fe96")},"9a65":function(e,t,a){"use strict";a("b0c0");var o=function(){var e=this,t=e._self._c;return 1!==e.sellerInfo.shopType?t("div",{class:["domen-store clearfix",e.isBuyerApp&&e.isImmersed?"immerse-style":""]},[t("div",{staticClass:"domen-store__shop"},[t("img",{staticClass:"shop-logo",attrs:{src:e.sellerInfo.avatar}}),t("div",{staticClass:"shop-name"},[e._v(e._s(e.sellerInfo.name))])]),t("div",{staticClass:"domen-store__check",on:{click:function(t){return e.checkShop()}}},[t("span",{staticClass:"check-text"},[e._v(e._s(e.$t("shoplist.check")))]),t("span",{staticClass:"check-icon iconfont icon-qiehuan"})])]):e._e()},r=[],n=a("c243"),i=n["a"],s=(a("d14b"),a("2877")),c=Object(s["a"])(i,o,r,!1,null,"711f35e8",null);t["a"]=c.exports},b517:function(e,t,a){"use strict";var o=function(){var e=this,t=e._self._c;return t("div",{class:["wrap","".concat(e.cusWrap)]},[t("img",{staticClass:"bg-img",attrs:{src:e.picUrl,alt:""}}),e.hotAreas&&e.hotAreas.length?t("div",{staticClass:"hot-areas",style:{width:"".concat(e.hotAreasWidth,"rem")},on:{click:function(t){return t.stopPropagation(),e.handleDefaultTap.apply(null,arguments)}}},[e._l(e.hotAreas,(function(a,o){return[t("div",{key:o,staticClass:"areas__item",style:{top:"".concat(a.areaY*e.hotAreasWidth,"rem"),left:"".concat(a.areaX*e.hotAreasWidth,"rem"),width:"".concat(a.areaWidth*e.hotAreasWidth,"rem"),height:"".concat(a.areaHeight*e.hotAreasWidth,"rem")},on:{click:function(t){return t.stopPropagation(),e.handleClick(a)}}})]}))],2):e._e(),e._t("default")],2)},r=[],n=a("fe47");function i(e){return e/32}var s={name:"",props:{picUrl:{type:String},cusWrap:{type:String,default:""},hotAreas:{type:Array},imUserInfo:{type:Object},imCustomerInfo:{type:String},sellerInfo:{type:Object}},computed:{hotAreasWidth:function(){var e=750;return i(e)}},data:function(){return{isCdf:n["a"].isCdfi()}},methods:{handleClick:function(e){this.$emit("handleClick",e)},handleDefaultTap:function(){this.$emit("handleDefaultTap")}}},c=s,l=(a("7dfd"),a("2877")),p=Object(l["a"])(c,o,r,!1,null,"19cfa7b2",null);t["a"]=p.exports},c243:function(e,t,a){"use strict";(function(e){t["a"]={props:{sellerInfo:{type:Object},isBuyerApp:{type:Boolean},isImmersed:{type:Boolean}},data:function(){return{}},methods:{checkShop:function(){e.navigateTo({url:"/pages/shoplist/main?type=1"})}}}}).call(this,a("7189")["default"])},d14b:function(e,t,a){"use strict";a("534f")},d72f:function(e,t,a){"use strict";a("b0c0");var o=function(){var e=this,t=e._self._c;return t("div",{ref:"navigationBarheighr",staticClass:"navigation-bar"},[t("div",[e.immersiveObj?e._e():t("div",{staticClass:"empty_custom"}),t("div",{class:["custom",{"custom-height":e.isBuyerApp}],style:e.immersiveObj&&e.hideNavBar?"background: transparent":"background: ".concat(e.backgroundColor)},[e.immersiveObj?t("div",{staticClass:"bg"},[e.hideNavBar&&e.immersiveObj&&e.immersiveObj.headerDefaultPic&&e.immersiveObj.headerDefaultPic.picUrl?t("hot-areas-img",{attrs:{picUrl:e.immersiveObj.headerDefaultPic.picUrl,imUserInfo:e.imUserInfo,imCustomerInfo:e.imCustomerInfo,sellerInfo:e.sellerInfo,hotAreas:e.immersiveObj.headerDefaultPic.hotAreas},on:{handleClick:e.handleClick,handleDefaultTap:e.toSearch}},[e.showBack?t("div",{staticClass:"back-btn",on:{click:e.onBack}},[t("img",{staticClass:"back-btn-img",attrs:{src:a("da12"),alt:""}})]):e._e()]):e._e(),e.immersiveObj&&e.immersiveObj.headerScrollPic&&e.immersiveObj.headerScrollPic.picUrl?t("hot-areas-img",{attrs:{picUrl:e.immersiveObj.headerScrollPic.picUrl,hotAreas:e.immersiveObj.headerScrollPic.hotAreas,"cus-wrap":e.hideNavBar?"img-hidden":""},on:{handleClick:e.handleClick,handleDefaultTap:e.toSearch}},[e.showBack?t("div",{staticClass:"back-btn"},[t("img",{staticClass:"back-btn-img",attrs:{src:a("6d17"),alt:""}})]):e._e()]):e._e()],1):t("div",{staticClass:"bg"},[t("img",{staticClass:"bg-img",attrs:{src:e.bgImg,alt:""}})]),!e.immersiveObj||e.immersiveObj&&2==e.immersiveObj.type&&!e.hideNavBar?t("div",{staticClass:"custom-container",on:{click:e.clickHeaderLinkData}},[e.showHome?t("div",{staticClass:"left-wrap"},[e.showBack?t("img",{staticClass:"left-img",attrs:{src:a("6d17"),alt:""}}):e._e(),e.showBack?t("div",{staticClass:"line"}):e._e(),t("img",{staticClass:"left-img",attrs:{src:e.homeIcon||"../../assets/images/navigationBar/item_home.png",alt:""}})]):e.showBack?t("div",{staticClass:"back-btn"},["#fff"===e.titleColor||"#ffffff"===e.titleColor||"white"===e.titleColor?t("img",{staticClass:"back-btn-img",attrs:{src:a("da12"),alt:""}}):t("img",{staticClass:"back-btn-img",attrs:{src:a("6d17"),alt:""}})]):e._e(),!e.bgImg&&e.centerImg?t("div",{staticClass:"center-image"},[t("img",{staticClass:"img-title",attrs:{src:e.centerImg,alt:""}})]):"custom"===e.headerStyleType&&e.bgImg?e._e():[t("span",{staticClass:"custom__title",style:{color:"".concat(e.titleColor)}},[e._v(e._s(e.title))])]],2):e._e()]),!e.partnerInfo||!e.partnerInfo.name&&!e.partnerInfo.avatar||e.immersiveObj&&e.hideNavBar?e._e():t("div",{staticClass:"custom partner-wrap"},[t("img",{staticClass:"partner-img",style:e.showBack?"margin-left: 2.5rem;":"",attrs:{src:e.partnerInfo.avatar,alt:""}}),t("div",{staticClass:"partner-content"},[t("span",{staticClass:"partner-name"},[e._v(e._s(e.partnerInfo.name))]),t("span",[e._v("向你推荐了超值商品")])])])])])},r=[],n=a("f961"),i=n["a"],s=(a("127b"),a("2877")),c=Object(s["a"])(i,o,r,!1,null,null,null);t["a"]=c.exports},da12:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAAHfgQuIAAAAAXNSR0IArs4c6QAAAXhJREFUaAXtmt0OgjAMhYk+nXfeaeLj+xomeg4/SS8KpmYrbJ4lCo613fkGHQyHoUh5o7iOvAMnt6VX6Vl77UrVId7N9bV6wG19wEoKCNEMG1B0KIJHaX8HXq96qPtG1r0oZ6N7CACNUPwLac3TZBM3esLwteZ0s56GjRpv6tLBYxDAuXXF51m9NwgypnZsWWLXXaR3dD6GmL76CMQxWko9RRYzojHxsPyWuayzyD4DjmEVOIJNbUVABNojgFTHu8NLSs9Nbk2Z8fMSuVFWf7pSsCJnazcY3adSIDrPmB5FcH1zApw5N762IwpqaRTf/1u81+IoPYcGb/350OuA6kRABERABESgPQLz9Lk85eFnwkJyBiZHGMVRaM6NSS2RG8JylpUlLEhAIxYEtntzjdjuQ/BDBzBqXIe1hem+7axoOUAM3yLayZpi+xJJwRDFdTAJtaPf9L5GtKdEpGv0j7Juf8uqSEbjP6awzXtx23T6VudFQASaIPABtO11LjMAyKwAAAAASUVORK5CYII="},f961:function(e,t,a){"use strict";(function(e){var o=a("5530"),r=(a("ac1f"),a("5319"),a("b517")),n=(a("fe47"),a("a8f5")),i=a("9eb6");t["a"]={name:"",props:{checkBack:{type:Boolean,default:!1},title:{type:String,default:"店铺"},headerStyleType:{type:String},headerBgType:{type:String},backgroundColor:{type:String,default:"#ffffff"},titleColor:{type:String,default:"#000"},needBackFn:{type:Boolean,default:!1},styles:{type:String,default:""},centerImg:{type:String,default:""},leftImg:{type:String,default:""},bgImg:{type:String,default:""},headerLinkData:{type:Object,default:{}},partnerInfo:{type:Object},immersiveObj:{type:Object},imUserInfo:{type:Object},imCustomerInfo:{type:String},sellerInfo:{type:Object},source:{type:String},homeIcon:{type:String}},watch:{source:function(e){e&&"detail"==e&&(this.showHome=!0,this.showBack=!0)}},data:function(){return{showHome:!1,showBack:!1,hideNavBar:!0,topHeight:0,isBuyerApp:i["a"].isBuyerApp,envHeight:0}},mounted:function(){var t=this;e.$eventbus.off("shopBanner:height"),e.$eventbus.on("shopBanner:height",(function(e){t.topHeight=e||0})),window.addEventListener("scroll",this.handleScroll);var a=getComputedStyle(document.documentElement).getPropertyValue("--page-safe-area-inset-top")||"0px";this.envHeight=+a.replace(/[^0-9]/gi,"");var o=this.$refs.navigationBarheighr.offsetHeight;console.log("navigationBarHeight",o)},components:{hotAreasImg:r["a"]},methods:{handleScroll:function(){var e=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;this.immersiveObj&&(0!=e?e>=this.topHeight-88?this.hideNavBar&&(this.hideNavBar=!1):this.hideNavBar||(this.hideNavBar=!0):this.hideNavBar=!0)},handleClick:function(t){var a=this;if(console.log("banner",t),23===t.linkType)return e.ylog.send({action_type:"service",sub_module_name:"service",target:"service",target_type:"联系客服"}),e.store.getAppImUrl()?void e.navigateTo({url:e.store.getAppImUrl()}):void e.showModal({title:this.$t("skins.uestions_we_chat"),content:this.sellerInfo.customerServiceId,confirmText:this.$t("skins.one_copy"),success:function(t){t.confirm&&e.setClipboardData({data:String(a.sellerInfo.customerServiceId)}).then((function(){e.showToast({title:a.$t("skins.we_chat_copied")})})).catch((function(){e.showToast({title:a.$t("skins.we_chat_copy_failed")})}))}});Object(n["b"])(t,this.ylogParams)},toSearch:function(){e.ylog.send(Object(o["a"])({action_type:"click",sub_module_name:"more",target_type:15},this.ylogParams)),e.navigateTo({url:"/pages/search/main?sourcePage=default"})},clickHeaderLinkData:function(){this.headerLinkData&&Object(n["b"])(this.headerLinkData)},onBack:function(){},getContentHeihgt:function(e){return console.log("getContentHeihgt",e),e.scrollHeight?"".concat(e.scrollHeight,"px"):""}}}}).call(this,a("7189")["default"])},fe96:function(e,t,a){}});