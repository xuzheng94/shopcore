(function(e){function t(t){for(var a,o,s=t[0],d=t[1],l=t[2],p=0,u=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&u.push(n[o][0]),n[o]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);c&&c(t);while(u.length)u.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,s=1;s<r.length;s++){var d=r[s];0!==n[d]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={"pages/helppay":0},i=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=d;i.push([50,"chunk-vendors","chunk-common"]),r()})({"1eee":function(e,t,r){"use strict";r("5cdd")},"4cfc":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("56d7"),n=(r("b0c0"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"help-pay-page",style:e.pageThemeStyle},[e.showPage?[t("van-pull-refresh",{attrs:{"head-height":"60"},on:{refresh:e.pullRefresh},scopedSlots:e._u([{key:"pulling",fn:function(e){return[t("div")]}},{key:"loosing",fn:function(){return[t("pullRefreshLoading",{attrs:{"bg-color":"#f8f8f8"}})]},proxy:!0},{key:"loading",fn:function(){return[t("pullRefreshLoading",{attrs:{"bg-color":"#f8f8f8"}})]},proxy:!0}],null,!1,1883122893),model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[t("div",{staticClass:"help-pay-dev"},[t("other-pay",{attrs:{"user-info":e.userInfo,"helper-info":e.helperInfo,"order-info":e.orderInfo,"pay-status":e.payStatus,"server-time":e.serverTime}}),1==e.payStatus&&1==e.orderInfo.shenqiIdcardRequirement?t("div",{staticClass:"help-pay-info"},[t("div",{staticClass:"pickup-title-div"},[t("div",{staticClass:"pickup-title"},[t("span",{staticClass:"title-line"}),t("span",{staticClass:"title-text"},[e._v(e._s(e.$t("helppay.payment_information")))])]),t("div",{staticClass:"need-id-card-tip-simple"},[e._v(e._s(e.$t("helppay.customs_encryption")))])]),t("div",{staticClass:"need-id-card-container-input"},[t("div",{staticClass:"idCard-item"},[t("van-field",{attrs:{label:e.$t("helppay.pay_name"),placeholder:e.$t("helppay.please_payout_name")},model:{value:e.payer.name,callback:function(t){e.$set(e.payer,"name",t)},expression:"payer.name"}})],1),t("div",{staticClass:"idCard-item"},[t("van-field",{attrs:{label:e.$t("helppay.identification_number"),placeholder:e.$t("helppay.please_id_number")},model:{value:e.payer.idCardNo,callback:function(t){e.$set(e.payer,"idCardNo",t)},expression:"payer.idCardNo"}})],1)])]):e._e()],1)]),1==e.payStatus?t("div",{staticClass:"help-pay-submit-application"},[t("div",{class:["submit-button",{"no-submit-button":!e.isSubmitButton}],on:{click:e.wechatpay}},[e._v(e._s(e.$t("helppay.we_chat_payment")))])]):e._e()]:e.showPage?e._e():t("loading-line")],2)}),i=[],o=r("9c30"),s=o["a"],d=(r("1eee"),r("2877")),l=Object(d["a"])(s,n,i,!1,null,null,null),c=l.exports;r.p=publicPath,Object(a["a"])(c)},50:function(e,t,r){e.exports=r("4cfc")},"5cdd":function(e,t,r){},"9c30":function(e,t,r){"use strict";(function(e){r("be7f");var a=r("565f"),n=(r("ab71"),r("58e6")),i=(r("b0c0"),r("ac1f"),r("841c"),r("99af"),r("a9e3"),r("603c")),o=r("44e4"),s=r("ed08"),d=r("c08d"),l=r("b68d"),c=r("8652"),p=r("3bb4"),u=r.n(p),f=r("2f1f");t["a"]={name:"helppay",components:{loadingLine:o["a"],"van-pull-refresh":n["a"],"van-field":a["a"],pullRefreshLoading:d["a"],otherPay:f["a"]},mixins:[i["a"],l["a"]],computed:{isSubmitButton:function(){return 1!==this.orderInfo.shenqiIdcardRequirement||!!this.payer.name&&!!this.payer.idCardNo},payStatus:function(){var e=0;return this.orderInfo.stateCode?(e=this.orderInfo.stateCode===u.a.OrderState.pendingPay?1:this.orderInfo.stateCode===u.a.OrderState.canceledByTimeOut?100:this.orderInfo.stateCode===u.a.OrderState.canceledByService||this.orderInfo.stateCode===u.a.OrderState.canceledBySystem||this.orderInfo.stateCode===u.a.OrderState.canceledByBuyer||this.orderInfo.stateCode===u.a.OrderState.canceledBySeller?1213:9999,e):e}},data:function(){return{showPage:!1,isLoading:!1,isXhr:!1,orderid:"",orderUserId:"",userInfo:{},helperInfo:{},orderInfo:{},payer:{name:"",idCardNo:""},serverTime:0}},mounted:function(){var t=s["a"].parseLocator(window.location.search,"lower");t.orderid&&(this.orderid=t.orderid),t.orderuserid&&(this.orderUserId=t.orderuserid),e.auth.islogin()?this.getHelpPayInfo():(this.showPage=!0,e.auth.tologin()),e.setNavigationBarTitle({title:this.$t("helppay.payment_details")})},methods:{getHelpPayInfo:function(){var t,r=this;t=this.orderUserId?"/api/ordercenter/sqhelperorderinfo?orderid=".concat(this.orderid,"&orderUserId=").concat(this.orderUserId):"/api/ordercenter/sqhelperorderinfo?orderid=".concat(this.orderid),e.request({url:t,method:"get"}).then((function(e){r.orderInfo=e.order||{},r.helperInfo=e.helper||{},r.userInfo=e.userInfo||{},r.serverTime=e.serverTime||Number(Date.now()),r.showPage=!0,r.isLoading=!1})).catch((function(t){e.showToast({title:t.message||t.msg||""})}))},pullRefresh:function(){this.getHelpPayInfo()},toPay:function(e){var t={orderId:this.orderid,payTypes:["wechatPay"],orderUserId:this.orderUserId};e&&(t.helpPayIdCardId=e),Object(c["b"])(t)},wechatpay:function(){var t=this;if(!this.isXhr)if(this.isSubmitButton||1!=this.orderInfo.shenqiIdcardRequirement)if(1==this.orderInfo.shenqiIdcardRequirement){var r={name:this.payer.name,idCardNo:this.payer.idCardNo};this.isXhr=!0,e.request({method:"post",url:"/api/ordercenter/helperpayerinfo",data:r}).then((function(e){t.isXhr=!1,e&&e.idcardId&&t.toPay(e.idcardId)})).catch((function(r){t.isXhr=!1,e.showToast({title:r.msg||r.message||t.$t("helppay.payer_failure")})}))}else this.toPay();else e.showToast({title:this.$t("helppay.please_information")})}}}}).call(this,r("7189")["default"])}});