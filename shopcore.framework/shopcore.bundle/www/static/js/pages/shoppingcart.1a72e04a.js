(function(t){function e(e){for(var s,a,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);p&&p(e);while(d.length)d.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,r=1;r<i.length;r++){var c=i[r];0!==o[c]&&(s=!1)}s&&(n.splice(e--,1),t=a(a.s=i[0]))}return t}var s={},o={"pages/shoppingcart":0},n=[];function a(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=s,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var p=c;n.push([118,"chunk-vendors","chunk-common"]),i()})({"03a3":function(t,e,i){t.exports=i.p+"static/img/cart_empty_v2.0b1c6956.png"},118:function(t,e,i){t.exports=i("30b1")},"16c0":function(t,e,i){},"1e03":function(t,e,i){"use strict";i("a4d3"),i("e01a");var s=function(){var t=this,e=t._self._c;return t.redeemData&&t.redeemData.length?e("div",{staticClass:"bg"},t._l(t.redeemData,(function(s){return e("div",{key:s.id,staticClass:"container"},[e("div",{staticClass:"info"},[e("div",{staticClass:"top"},[e("div",{staticClass:"content"},[s.promotionInfo&&1==s.promotionInfo.hgTag?e("span",{staticClass:"icon"},[t._v("换购")]):s.promotionInfo&&2==s.promotionInfo.hgTag?e("span",{staticClass:"icon"},[t._v("赠品")]):t._e(),e("span",{staticClass:"title"},[t._v(t._s(s.promotionInfo.title))])]),e("div",{staticClass:"content"},[s.promotionInfo.needBuyMore?e("span",{staticClass:"operate",on:{click:function(e){return t.ontap({catchtype:"redeem",id:s.promotionInfo.id})}}},[t._v("查看更多")]):s.prodList&&s.prodList.length>0?e("span",{staticClass:"operate",on:{click:function(e){return t.ontap({catchtype:"redeem",id:s.promotionInfo.id})}}},[t._v(t._s(t.$t("shoppingcart.reselect")))]):e("span",{staticClass:"operate",on:{click:function(e){return t.ontap({catchtype:"redeem",id:s.promotionInfo.id})}}},[t._v("立即挑选")]),e("img",{staticClass:"arrow",attrs:{src:i("b3ae")}})])])]),s.prodList?e("div",{staticClass:"product-container"},[t._l(s.prodList,(function(i){return[e("van-swipe-cell",{key:i.id,scopedSlots:t._u([{key:"right",fn:function(){return[e("van-button",{staticStyle:{height:"100%"},attrs:{square:"",type:"danger",text:t.$t("common.delete")},on:{click:function(e){return t.buttontap(i.scId)}}})]},proxy:!0}],null,!0)},[e("div",{staticClass:"item",on:{click:function(e){return t.ontap({catchtype:"redeem_prod",prod:i,id:i.id})}}},[e("img",{staticClass:"pic",attrs:{src:i.pic}}),e("div",{staticClass:"content"},[e("div",{staticClass:"title-container"},[s.promotionInfo&&1==s.promotionInfo.hgTag?e("span",{staticClass:"icon"},[t._v("换购")]):s.promotionInfo&&2==s.promotionInfo.hgTag?e("span",{staticClass:"icon"},[t._v("赠品")]):t._e(),e("span",{staticClass:"title"},[t._v(t._s(i.description))])]),e("span",{staticClass:"catalog"},[t._v(t._s(i.skuInfo))]),e("div",{staticClass:"bottom"},[e("div",{staticClass:"price-container"},[s.promotionInfo&&1==s.promotionInfo.hgTag?e("div",{staticClass:"tip"},[t._v("换购价")]):s.promotionInfo&&2==s.promotionInfo.hgTag?e("div",{staticClass:"tip"},[t._v("赠品价")]):t._e(),t.isJPY(i.symbol)?t._e():e("div",{staticClass:"symbol"},[t._v(t._s(i.symbol))]),e("div",{staticClass:"amount"},[t._v(t._s(i.price))]),t.isJPY(i.symbol)?e("div",{staticClass:"symbol"},[t._v(t._s(i.symbol))]):t._e(),i.originalPrice&&i.originalPrice>i.price?e("div",{staticClass:"original"},[t._v(t._s(t.isJPY(i.symbol)?"":i.symbol)+t._s(i.originalPrice)+t._s(t.isJPY(i.symbol)?i.symbol:""))]):t._e()]),e("div",{staticClass:"count"},[e("span",{staticClass:"count-icon"},[t._v("x")]),e("span",{staticClass:"count-num"},[t._v(t._s(i.purchaseNum))])])])])])])]}))],2):t._e()])})),0):t._e()},o=[],n=(i("66b9"),i("b650")),a=(i("4467"),i("c36e")),r=i("1041"),c={mixins:[r["a"]],components:{"van-swipe-cell":a["a"],"van-button":n["a"]},props:{redeemData:{type:Array}},data:function(){return{}},methods:{buttontap:function(t){this.$emit("ontap",{catchtype:"slideToDelete",scId:t})},ontap:function(t){var e=t.catchtype,i=t.prod,s=t.id;this.$emit("ontap",{catchtype:e,prod:i,id:s})}}},l=c,p=(i("71e5"),i("2877")),u=Object(p["a"])(l,s,o,!1,null,"7dc3ef25",null);e["a"]=u.exports},"30b1":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("56d7"),o=(i("b0c0"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"cart",style:t.pageThemeStyle},[e("van-pull-refresh",{attrs:{"animation-duration":"1500","head-height":"60",disabled:!t.isDisabledLoading},on:{refresh:t.pullRefresh},scopedSlots:t._u([{key:"pulling",fn:function(t){return[e("div")]}},{key:"loosing",fn:function(){return[e("pullRefreshLoading",{attrs:{"bg-color":"#f8f8f8"}})]},proxy:!0},{key:"loading",fn:function(){return[e("pullRefreshLoading",{attrs:{"bg-color":"#f8f8f8"}})]},proxy:!0}]),model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[e("div",{staticClass:"van-pull-refresh-div"},[t.nationTypeTip&&!t.isEdit?e("div",{staticClass:"domestic-tip"},[e("img",{staticStyle:{width:"0.75rem",height:"0.75rem","margin-right":"0.25rem"},attrs:{src:i("6999")}}),e("span",{staticStyle:{flex:"1"}},[t._v(t._s(t.nationTypeTip))])]):t._e(),t.isLogin&&!t.isEmpty&&t.sellerInfo&&t.sellerInfo.id?e("div",{class:{"top-container-done":t.isEdit,"top-container-edit":!t.isEdit}},[e("img",{staticClass:"seller-image",attrs:{src:t.sellerInfo.avatar}}),e("div",{staticClass:"seller-info",style:t.isCountry?"justify-content: space-between;":"justify-content: center;"},[e("span",[t._v(t._s(t.sellerInfo.name))]),t.isCountry?e("p",{staticClass:"seller-info-country"},[e("img",{attrs:{src:t.sellerInfo.flag}}),e("span",[t._v(t._s(t.sellerInfo.country))])]):t._e()]),t.isValidListEmpty?t._e():e("span",{staticClass:"edit-label",on:{click:function(e){return t.handleTap("edit")}}},[t._v(t._s(t.isEdit?t.$t("shoppingcart.accomplish"):t.$t("shoppingcart.manage")))])]):t._e(),!t.isLogin||t.isEmpty?e("empty",{attrs:{image:t.cartUrl,descriptionColor:t.isLogin?"":"#090A0E",description:t.isLogin?t.$t("shoppingcart.sad_cart"):t.$t("shoppingcart.sorry_login"),description2:t.isLogin?t.$t("shoppingcart.favorite_items"):"",top:t.isLogin?"":"45%"}},[t.isLogin?t._e():e("p",{staticClass:"bind-mobile-label",on:{click:function(e){return t.handleTap("login")}}},[t._v(t._s(t.$t("shoppingcart.login_immediately")))])]):t._e(),!t.isEmpty&&t.isLogin?e("div",{class:["container",{"container--paddingBottom":t.serviceFee||t.cartCouponEntranceInfo.showCouponWindow}],style:{"padding-top":t.mt}},[t._l(t.list,(function(i,s){return e("div",{key:s,staticClass:"cart-container"},[e("redeem",{attrs:{redeemData:i.hgGroup},on:{ontap:t.handleComponentsTap}}),e("cart-product-group",{attrs:{isSelect:i.isSelect,sellerInfo:i.sellerInfo,promotionGroup:i.promotionGroup,memberGrade:t.memberGrade,isEdit:t.isEdit,originData:t.list,id:s,showProdTag:t.showProdTag},on:{handleComponentsTap:t.handleComponentsTap,getPurchaseNum:t.getPurchaseNum,inputConfirm:t.inputConfirm,onCheckAll:t.onCheckDomesticAll}})],1)})),t.invalidProdList.length>0?e("div",{staticClass:"invalid-prod-list-container"},[e("div",{staticClass:"invalid-prod-list-tip-container"},[e("p",{staticClass:"invalidprod-num"},[t._v(" "+t._s(t.$t("shoppingcart.invalid_goods",[t.invalidProdList.length])))]),e("span",{staticClass:"invalidprod-clear",on:{click:function(e){return t.handleTap("deleteInvalid")}}},[t._v(t._s(t.$t("shoppingcart.empty_invalid_goods")))])]),t._l(t.invalidProdList,(function(i,s){return e("div",{key:s,staticClass:"invalid-prod-container"},[e("cart-product",{attrs:{id:s,prodItem:i,notAllowSel:!1,invalid:!0,clickParam:{type:"invalidProd"}},on:{handleComponentsTap:t.handleComponentsTap}}),e("div",{staticClass:"bdor"})],1)}))],2):t._e(),e("div",{staticClass:"multiple-cart-container"},t._l(t.multipleStoresCart.list,(function(i,s){return e("div",{key:s,staticClass:"multiple-cart-list"},[i.sellerInfo?e("div",{staticClass:"multiple-sellerInfo"},[e("div",{staticClass:"multiple-seller-info"},[e("img",{staticClass:"seller__image",attrs:{src:i.sellerInfo.avatar}}),e("div",{staticClass:"seller__name"},[t._v(t._s(i.sellerInfo.name))])]),e("div",{staticClass:"seller__change",on:{click:function(e){return t.changeMultipleStore(i.sellerInfo)}}},[t._v("切换至门店"),e("span",{staticClass:"iconfont icon-qiehuan"})])]):t._e(),i.prodList&&i.prodList.length?t._l(i.prodList,(function(t,i){return e("div",{key:"prodItem"+i,staticClass:"multiple-prod-list"},[e("cart-product",{attrs:{prodItem:t,id:i,notAllowSel:!1,useType:1}})],1)})):t._e()],2)})),0)],2):t._e(),t.isLogin&&t.list.length&&!t.isEmpty?e("div",{class:["bottom-container",{"is-guide-seller-app":t.isGuideSellerApp||t.isBuyerApp}]},[e("div",{staticClass:"coupon-entrance-bg"},[t.cartCouponEntranceInfo.showCouponWindow?e("div",{staticClass:"coupon-entrance"},[e("div",{staticClass:"entrance-info"},[e("div",{staticClass:"coupon-info"},[e("span",{class:["icon","iconfont","icon-".concat(t.$t("shoppingcart.img_coupon"))]}),e("div",{staticClass:"line"}),e("div",{staticClass:"coupon__desc"},[t._v(t._s(t.cartCouponEntranceInfo.couponDiscountDesc))])]),e("div",{staticClass:"coupon__tip"},[t._v(t._s(t.$t("shoppingcart.coupon_entrance_tip")))])]),e("div",{staticClass:"coupon__receive",on:{click:t.changeShoppingCartCouponDialogStatus}},[e("div",{staticClass:"coupon__text"},[t._v(t._s(t.$t("shoppingcart.coupon")))]),e("span",{staticClass:"iconfont icon-yjiantou"})])]):t._e()]),e("div",{staticClass:"container__select"},[e("div",{staticClass:"select-container",on:{click:function(e){return t.handleTap("selectAll")}}},[t.selectAll?e("div",{staticClass:"select-all-iconfont"},[e("span",{staticClass:"iconfont icon-gouxuan"})]):e("img",{staticClass:"select-all-image",attrs:{src:i("f4ad")}}),e("span",{staticClass:"select-all-text"},[t._v(t._s(t.$t("shoppingcart.check_all")))])]),e("div",{staticClass:"container-select-right"},[e("div",{staticClass:"bottom-middle-container-div"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isEdit,expression:"!isEdit"}],staticClass:"bottom-middle-container"},[t.showBottomTip?e("div",{staticClass:"show-bottom-tip"},[t._v("不含税、运费")]):t._e(),e("div",{staticClass:"bottom-price-container"},[e("span",{staticClass:"show-bottom-tip-all"},[t._v("总价：")]),t.isJPY(t.symbol)?t._e():e("span",{staticClass:"price-all-big-symbol"},[t._v(t._s(t.symbol||"¥"))]),e("span",{staticClass:"price-all-big"},[t._v(t._s(t.totalPrice))]),t.isJPY(t.symbol)?e("span",{staticClass:"price-all-big-symbol"},[t._v(t._s(t.symbol))]):t._e()])]),e("div",{staticClass:"freight-tip-container"},[t.discountAmount>0?e("div",{staticClass:"freight-tip"},[t._v("活动已减"),t.isJPY(t.symbol)?t._e():e("span",[t._v(t._s(t.symbol||"¥"))]),t._v(t._s(t.discountAmount)),t.isJPY(t.symbol)?e("span",[t._v(t._s(t.symbol))]):t._e()]):t._e()])]),t.isEdit?e("p",{staticClass:"settle godel",on:{click:function(e){return t.handleTap("deleteBatch")}}},[t._v(t._s(t.$t("common.delete")))]):e("p",{staticClass:"settle gocheck",on:{click:function(e){return t.handleTap("settleAccount")}}},[t._v(" 去结算"),t.selProdCount>0?e("span",[t._v("("+t._s(t.selProdCount)+")")]):t._e()])])])]):t._e()],1)]),t.skus&&t.skuDefault.showSkuPop?e("select-sku",{attrs:{skus:t.skus,skuDefault:t.skuDefault,isFromTuan:!1,productDetailInfo:t.productDetailInfo},on:{skuConfirmCB:t.skuConfirmCB,showSkuFunc:t.showSkuFunc}}):t._e(),t.shoppingCartCouponDialogShow?e("shoppingcart-coupon",{on:{changeShoppingCartCouponDialogStatus:t.changeShoppingCartCouponDialogStatus}}):t._e(),e("tabnav",{ref:"tabnav"}),t.watermarkText?e("watermark",{attrs:{watermarkText:t.watermarkText}}):t._e()],1)}),n=[],a=i("ced1"),r=a["a"],c=(i("6bc9"),i("d96b"),i("2877")),l=Object(c["a"])(r,o,n,!1,null,"6db5f532",null),p=l.exports;i.p=publicPath,Object(s["a"])(p)},"33c1":function(t,e,i){"use strict";i("568d")},"353b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAYAAAHEyk5mAAAAAXNSR0IArs4c6QAAAFVJREFUCB1j+P/y3X8GEMEIZjEwfGP4/+rdYxDn/6v3CxiAACYDYgN5jIksEBaQFBPkZmRk/IaqAi7LcI2BhTWUUZj3GtDMj55Qc6/+f/k+FqEGwgIAfCgwo3jqhxQAAAAASUVORK5CYII="},"3f06":function(t,e,i){"use strict";i("a4d3"),i("e01a");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cart-item-box"},[e("van-swipe-cell",{scopedSlots:t._u([1!==t.useType?{key:"right",fn:function(){return[e("div",{staticClass:"delete-product-btn",on:{click:function(e){return e.stopPropagation(),t.handleTap({type:"delete",prodIndex:t.prodIndex})}}},[e("div",{staticClass:"text"},[t._v(t._s(t.$t("common.delete")))])])]},proxy:!0}:null],null,!0)},[e("div",{staticClass:"cart-product-item-container",on:{click:function(e){return t.handleTap({type:"prod",prodIndex:t.prodIndex})}}},[6===t.prodItem.state?e("div",{staticClass:"left-icon-container"},[e("p",{staticClass:"p1"},[t._v(t._s(t.$t("shoppingcart.preheat")))])]):t.notAllowSel?e("div",{staticClass:"seller-checkbox",on:{click:function(e){return e.stopPropagation(),t.handleTap({type:"selectProd",prodIndex:t.prodIndex})}}},[void 0!==t.prodItem.isEnable&&!1===t.prodItem.isEnable?e("div",[e("div",{staticClass:"seller-checkbox-img disable_select"})]):e("div",[t.prodItem.isSelect?e("div",{staticClass:"seller-checkbox-iconfont"},[e("span",{staticClass:"iconfont icon-gouxuan"})]):t.prodItem.selectReady||2==t.prodItem.type||3==t.prodItem.type&&t.isEdit?e("img",{staticClass:"seller-checkbox-img",attrs:{src:i("6234")}}):e("img",{staticClass:"seller-checkbox-img",attrs:{src:i("f4ad")}})])]):1===t.useType?e("div",{staticClass:"seller-checkbox"},[e("img",{staticClass:"seller-checkbox-img",attrs:{src:i("6234")}})]):e("div",{staticClass:"left-icon-container"},[e("p",{staticClass:"invalid-txt"},[t._v(t._s(t.$t("shoppingcart.lose_efficacy")))])]),e("div",{staticClass:"cart-product-item-icon-container"},[e("img",{staticClass:"cart-product-item-icon-image",attrs:{src:t.prodItem.pic}}),e("div",{staticClass:"cart-product-image-shadow"})]),e("div",{staticClass:"cart-product-item-info-container"},[e("div",{staticClass:"cart-product-item-info-container-top"},[e("div",{ref:"prodTitleRef"+t.prodItem.activityId,staticClass:"title-container"},[e("span",{staticClass:"seller-name-text product-title",style:{color:t.invalid?"#999":"#090A0E"}},[t._v(" "+t._s(t.prodItem.description)+" ")])]),t.prodItem.skuInfo&&t.prodItem.skuInfo.length?e("div",{staticClass:"edit-top-container"},[t.prodItem.skuInfo.length?e("div",{staticClass:"edit-top-sku-container",on:{click:function(e){return e.stopPropagation(),t.handleTap({type:"sku",prodIndex:t.prodIndex})}}},[e("span",{staticClass:"edit-sku-text",staticStyle:{width:"100%"}},[t._v(t._s(t.prodItem.skuInfo))]),e("img",{staticClass:"edit-top-sku-arrow img1",attrs:{src:i("7165")}})]):t._e()]):t._e(),t.invalid?t._e():e("div",{staticClass:"tag-container"},[t.prodItem.inQualificationsGroup?e("div",{staticClass:"tag-new tag-qualify"},[t._v(t._s(t.$t("shoppingcart.qualify_exclusive")))]):t._e(),1==t.prodItem.priceType?e("div",{staticClass:"tag-new"},[t._v(t._s(t.$t("shoppingcart.new_exclusive")))]):t._e(),2==t.prodItem.type||3==t.prodItem.type||9==t.prodItem.activityType?e("div",{staticClass:"presale-tag"},[t._v(t._s(t.$t("shoppingcart.presell")))]):t._e(),22==t.prodItem.activityType?e("div",{ref:"purchaseTagRef"+t.prodItem.activityId,staticClass:"tradingspecial-tag purchase-tag",on:{click:function(e){return e.stopPropagation(),t.purchaseTagClick(t.prodItem)}}},[t._v(t._s(t.$t("shoppingcart.cart_label_purchase"))),e("img",{attrs:{src:"https://staticontent.shop2cn.cn/shop2cn/mp/images/shoppingcart/tradingspecial_tag_icon.png"}})]):t._e(),21==t.prodItem.activityType||24==t.prodItem.activityType?e("div",{ref:"purchaseTagRef"+t.prodItem.activityId,staticClass:"tradingspecial-tag special-tag",on:{click:function(e){return e.stopPropagation(),t.purchaseTagClick(t.prodItem)}}},[t._v(t._s(t.$t("shoppingcart.cart_label_special"))),e("img",{attrs:{src:"https://staticontent.shop2cn.cn/shop2cn/mp/images/shoppingcart/tradingspecial_tag_icon.png"}})]):t._e(),6==t.prodItem.activityType?e("div",{staticClass:"tradingspecial-tag live-tag"},[e("img",{attrs:{src:"https://staticontent.shop2cn.cn/shop2cn/mp/images/shoppingcart/live_tag_icon.png"}}),t._v(t._s(t.$t("shoppingcart.cart_label_live")))]):t._e(),25==t.prodItem.activityType?e("label",{staticClass:"tag-new tag-lot"},[t._v(t._s(t.$t("shoppingcart.cart_label_lot_draw")))]):t._e(),t.showTaxTag(t.prodItem.tariffType,1)?e("div",{staticClass:"price-tax"},[t._v(t._s(t.getTaxText(t.prodItem.tariffType)))]):t._e(),t.prodItem.stockDesc?e("div",{staticClass:"tag-stock"},[t._v(t._s(t.prodItem.stockDesc))]):t._e()]),t.prodItem.hgActivityTitle?e("div",{staticClass:"activity-container"},[e("p",{staticClass:"text"},[t._v(t._s(t.prodItem.hgActivityTitle))])]):t._e(),t.invalid||!t.prodItem.saveMoneyDesc&&!t.prodItem.activityTimeDesc?t._e():e("div",{staticClass:"save-money-container"},[e("div",{staticClass:"saveMoneyDesc-tag"},[t.prodItem.saveMoneyDesc?e("span",[t._v(t._s(t.prodItem.saveMoneyDesc))]):t._e(),t.prodItem.saveMoneyDesc&&t.prodItem.activityTimeDesc?e("div",{staticClass:"sep"}):t._e(),e("span",[t._v(t._s(t.prodItem.activityTimeDesc))])]),e("img",{staticClass:"triangle-bottom",attrs:{src:i("353b")}})])]),e("div",{staticClass:"cart-product-item-price-container"},[e("div",{staticClass:"seller-price-container"},[t.invalid?e("div",[22===t.prodItem.activityType?[1===t.prodItem.state?e("span",{staticClass:"span1",staticStyle:{color:"#FF4C29"}},[t._v(t._s(t.$t("shoppingcart.invalid_prod_purchase_sellout")))]):7===t.prodItem.state?e("span",{staticClass:"span1",staticStyle:{color:"#FF4C29"}},[t._v(t._s(t.$t("shoppingcart.invalid_prod_purchase_over")))]):t._e()]:21===t.prodItem.activityType||24===t.prodItem.activityType?[1===t.prodItem.state?e("span",{staticClass:"span1",staticStyle:{color:"#FF4C29"}},[t._v(t._s(t.$t("shoppingcart.invalid_prod_special_sellout")))]):7===t.prodItem.state?e("span",{staticClass:"span1",staticStyle:{color:"#FF4C29"}},[t._v(t._s(t.$t("shoppingcart.invalid_prod_special_over")))]):t._e()]:6===t.prodItem.activityType?[1===t.prodItem.state?e("span",{staticClass:"span1",staticStyle:{color:"#FF4C29"}},[t._v(t._s(t.$t("shoppingcart.invalid_prod_live_sellout")))]):7===t.prodItem.state?e("span",{staticClass:"span1",staticStyle:{color:"#FF4C29"}},[t._v(t._s(t.$t("shoppingcart.invalid_prod_live_over")))]):t._e()]:t.prodItem.showSaleout?e("span",{staticClass:"span1",staticStyle:{color:"#FF4C29"}},[t._v(t._s(t.$t("shoppingcart.sold_out")))]):1===t.prodItem.state?e("span",{staticClass:"span1",staticStyle:{color:"#FF4C29"}},[t._v(t._s(t.$t("shoppingcart.merchandise_sold_out")))]):e("span",{staticClass:"span1"},[t._v(t._s(t.$t("shoppingcart.goods_purchase")))]),6!==t.prodItem.activityType&&21!==t.prodItem.activityType&&22!==t.prodItem.activityType&&24!==t.prodItem.activityType||1!==t.prodItem.state&&7!==t.prodItem.state?t._e():e("div",{staticClass:"original__buy",on:{click:function(e){return e.stopPropagation(),t.handleTap({type:"prodNormal",prodIndex:t.prodIndex})}}},[t._v(t._s(t.$t("shoppingcart.original_buy")))])],2):e("div",{staticClass:"price-vip-div"},[e("div",{staticClass:"price-div"},[t.isJPY(t.prodItem.symbol)?t._e():e("span",{staticClass:"price-foreign",style:{color:t.invalid?"#999999":"var(--main-color, #f23340)"}},[t._v(t._s(t.prodItem.symbol?t.prodItem.symbol:"¥"))]),e("span",{staticClass:"span2",style:{color:t.invalid?"#999999":"var(--main-color, #f23340)"}},[t._v(t._s(t.prodItem.price))]),t.isJPY(t.prodItem.symbol)?e("span",{staticClass:"price-foreign",style:{color:t.invalid?"#999999":"var(--main-color, #f23340)"}},[t._v(t._s(t.prodItem.symbol))]):t._e(),2==t.prodItem.priceType?[t.memberGrade&&1===t.memberGrade.labelType?e("div",{staticClass:"memberGrade-icon--label"},[e("member-label",{attrs:{memberGrade:t.memberGrade,memberLabelSize:3}})],1):t.memberGrade.logoUrl?e("img",{staticClass:"memberGrade-icon",attrs:{src:t.memberGrade.logoUrl,alt:""}}):t._e()]:t._e()],2)])]),1!==t.useType?[t.invalid?t._e():e("div",{staticClass:"bottom-right-container"},[e("div",{staticClass:"edit-bottom-count-container small",on:{click:function(e){return e.stopPropagation(),t.noop.apply(null,arguments)}}},[e("p",{staticClass:"edit-bottom-count-reduce",class:{"edit-bottom-count-unable":1==t.prodItem.purchaseNum||2==t.prodItem.type||3==t.prodItem.type},on:{click:function(e){return e.stopPropagation(),t.handleTap({type:"reduce",prodIndex:t.prodIndex,purchaseNum:t.prodItem.purchaseNum})}}},[t._v("-")]),e("input",{staticClass:"edit-bottom-count-number",attrs:{type:"number",min:"1",disabled:3==t.prodItem.type||2==t.prodItem.type},domProps:{value:t.prodItem.purchaseNum},on:{input:t.getPurchaseNum,blur:t.syncPurchaseNum}}),e("p",{class:["edit-bottom-count-add",{"edit-count-small-unable":2==t.prodItem.type||3==t.prodItem.type}],on:{click:function(e){return e.stopPropagation(),t.handleTap({type:"add",prodIndex:t.prodIndex,purchaseNum:t.prodItem.purchaseNum})}}},[t._v("+")])])])]:t._e()],2),(t.prodItem.duty||t.prodItem.minOrderNum>0)&&!t.invalid?e("div",{staticClass:"duty-limit-container"},[e("div",{staticClass:"duty-label"},[t.prodItem.duty?e("span",[t._v(t._s(t.$t("shoppingcart.expected_tax",[t.getPriceDesc(t.prodItem.symbol,t.prodItem.duty)])))]):t._e()]),t.prodItem.minOrderNum>0?e("div",{staticClass:"limit-container"},[t.prodItem.minOrderNum>0?e("span",{staticClass:"min-num"},[t._v(" "+t._s(t.$t("shoppingcart.since_purchase",[t.prodItem.minOrderNum]))+" "),t.prodItem.limitedNumber>0?e("span",{staticClass:"min-num"},[t._v("，"+t._s(t.$t("shoppingcart.purchase_limitation",[t.prodItem.limitedNumber])))]):t._e()]):t._e()]):t._e()]):t._e()])])]),t.prodItem.eachPromotionProdList?e("div",{staticClass:"each-promotion-div"},t._l(t.prodItem.eachPromotionProdList,(function(i,s){return e("redeem-item",{key:s,staticClass:"each-promotion",attrs:{hgTag:i.hgTag,maxCount:i.num,countEditable:!0,prod:i,originData:t.originData},on:{handleRedeemTaps:t.onComponentsTap,editRedeemPurchaseNum:t.editRedeemPurchaseNum}})})),1):t._e(),e("div",{staticClass:"line-bottom"}),t.purchaseBoxStatus?e("div",{staticClass:"purchase-box",on:{click:t.closePurchaseBox}},[e("div",{staticClass:"purchase-name",style:[{top:t.purchaseBoxStyle.top+"px"},{left:t.purchaseBoxStyle.left+"px"}]},[t._m(0),e("div",{staticClass:"name__text"},[t._v(t._s(t.prodItem.activityName))])])]):t._e()],1)},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"arrow__top"},[e("img",{attrs:{src:"https://staticontent.shop2cn.cn/shop2cn/mp/images/shoppingcart/shoppingcart_arrow.png"}})])}],n=(i("4467"),i("c36e")),a=(i("a9e3"),i("1041")),r=i("303a"),c=i("d4af"),l={mixins:[a["a"]],name:"cart-product",components:{MemberLabel:c["a"],"van-swipe-cell":n["a"],redeemItem:r["a"]},props:{prodItem:Object,originData:Array,prodIndex:Array,isEdit:{type:Boolean,default:!1},showProdTag:{type:Boolean,default:!1},notAllowSel:{type:Boolean,default:!0},purchaseNum:{type:Number,default:0},invalid:{type:Boolean,default:!1},id:null,memberGrade:{type:Object,value:{}},useType:{type:Number,default:0}},data:function(){return{purchaseBoxStatus:!1,purchaseBoxTimer:null,purchaseBoxStyle:{left:0,top:0}}},methods:{noop:function(){},handleTap:function(t){var e=t.type,i=t.prodIndex,s=t.purchaseNum,o=t.id,n=this.id,a={purchaseNum:s,prodIndex:i,catchtype:e,prodItem:this.prodItem};n>=0&&"number"===typeof n&&(a.id=n),"redeem_collect"===e&&(a.id=o),this.invalid&&(a.bindtype="invalidProd"),this.$emit("handleComponentsTap",a)},getRightNum:function(t){var e=parseInt(t,10)||1;return(isNaN(e)||e<=0)&&(e=1),e},syncPurchaseNum:function(t){var e=this.getRightNum(t.target.value);String(this.prodItem.purchaseNum)!==t.target.value&&this.$emit("getPurchaseNum",{prodIndex:this.prodIndex,prodItem:this.prodItem,purchaseNum:e})},getPurchaseNum:function(t){""!==t.target.value&&this.syncPurchaseNum(t)},onComponentsTap:function(t){t.catchtype="selectRedeemProd",this.$emit("handleComponentsTap",t)},editRedeemPurchaseNum:function(t){t.catchtype="editRedeemPurchaseNum",this.$emit("handleComponentsTap",t)},purchaseTagClick:function(t){var e=this;console.log(t);var i="purchaseTagRef"+t.activityId,s=this.$refs[i].getBoundingClientRect(),o="prodTitleRef"+t.activityId,n=this.$refs[o].getBoundingClientRect(),a=n.height+s.height+12;t.skuInfo&&t.skuInfo.length?a+=44:a+=16,this.purchaseBoxStyle.left=s.x+s.width/2,this.purchaseBoxStyle.top=a,this.purchaseBoxStatus=!0,this.purchaseBoxTimer=setTimeout((function(){e.purchaseBoxStatus=!1}),3e3)},closePurchaseBox:function(){clearTimeout(this.purchaseBoxTimer),this.purchaseBoxStatus=!1}}},p=l,u=(i("8259"),i("4cdb"),i("2877")),d=Object(u["a"])(p,s,o,!1,null,"0a8d743e",null);e["a"]=d.exports},"45fc":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[e("coupon-dialog",{attrs:{show:!0,title:t.$t("shoppingcart.coupon"),"score-style":"shoppingcartStyle"},on:{input:t.input}},[e("div",{staticClass:"dialog-container"},[t.cartCouponInfo.availableCouponList.length&&t.cartCouponInfo.canReceiveCouponList.length?e("div",{staticClass:"switch-tab"},[e("div",{class:["tab__item",{"tab__item--active":0===t.switchTabIndex}],on:{click:t.switchTabClick}},[t._v(" "+t._s(t.$t("shoppingcart.have_received"))+" "),e("span",{staticClass:"active__line"})]),e("div",{class:["tab__item",{"tab__item--active":1===t.switchTabIndex}],on:{click:t.switchTabClick}},[t._v(" "+t._s(t.$t("shoppingcart.can_received"))+" "),e("span",{staticClass:"active__line"})])]):t._e(),0===t.switchTabIndex?e("div",{staticClass:"comp-container"},[e("div",{staticClass:"comp-scroll"},[e("div",{staticClass:"title-info"},[e("div",{staticClass:"title__text"},[t._v(t._s(t.$t("shoppingcart.have_received_text")))]),e("div",{staticClass:"title__desc"},[t._v(t._s(t.$t("shoppingcart.have_received_desc")))])]),e("div",{staticClass:"coupon-list"},t._l(t.cartCouponInfo.availableCouponList,(function(i,s){return e("div",{key:s,staticClass:"coupon-item"},[e("div",{staticClass:"coupon-container"},[e("coupon-card",{attrs:{coupon:i,showReceive:!0,active:!0,shoppingCartReceive:2,cardType:"shoppingcart"},on:{getCoupon:t.getCoupon}})],1),e("div",{staticClass:"prod-container"},[e("div",{staticClass:"select-info"},[e("div",{staticClass:"coupon-prod-tip"},[[t._v(t._s(t.$t("shoppingcart.coupon_prod_tip1",[i.satisfyProductCount]))+" ")],[t.isJPY(i.symbol)?t._e():[t._v(t._s(i.symbol||"¥"))],[t._v(t._s(i.satisfyProductTotalAmount))],t.isJPY(i.symbol)?[t._v(t._s(i.symbol))]:t._e()],i.shareFullReduction&&i.fullReductionAmount>=0&&null!=i.fullReductionAmount?[[t._v(" (")],[t._v(t._s(t.$t("shoppingcart.coupon_prod_tip2")))],t.isJPY(i.symbol)?t._e():[t._v(t._s(i.symbol||"¥"))],[t._v(t._s(i.fullReductionAmount))],t.isJPY(i.symbol)?[t._v(t._s(i.symbol))]:t._e(),[t._v(")")]]:t._e(),[t._v("，")],i.diffMinOrderAmount>0?[[t._v(t._s(t.$t("shoppingcart.coupon_prod_tip3"))+" ")],t.isJPY(i.symbol)?t._e():e("span",{staticClass:"tip__color"},[t._v(t._s(i.symbol||"¥"))]),e("span",{staticClass:"tip__color"},[t._v(t._s(i.diffMinOrderAmount))]),t.isJPY(i.symbol)?e("span",{staticClass:"tip__color"},[t._v(t._s(i.symbol))]):t._e(),[t._v(t._s(t.$t("shoppingcart.coupon_prod_tip4")))]]:[t._v(t._s(t.$t("shoppingcart.coupon_prod_tip5")))]],2),e("div",{staticClass:"coupon-prod-option"},[i.diffMinOrderAmount>0?e("div",{staticClass:"option__btn",on:{click:function(e){return t.toProdList(i)}}},[t._v(t._s(t.$t("shoppingcart.coupon_option_make"))+" ")]):e("div",{staticClass:"option__text",on:{click:function(e){return t.toProdList(i)}}},[t._v(t._s(t.$t("shoppingcart.coupon_option_stroll"))),e("span",{staticClass:"iconfont icon-youjiantou"})])])]),e("div",{staticClass:"prod-list"},t._l(i.prodList,(function(s,o){return e("div",{key:o,staticClass:"prod-item"},[e("img",{staticClass:"prod__img",attrs:{src:s.pic}}),e("div",{staticClass:"prod__price"},[t.isJPY(i.symbol)?t._e():e("span",{staticClass:"price__symbol"},[t._v(t._s(i.symbol||"¥"))]),e("span",{staticClass:"price__text"},[t._v(t._s(s.price))]),t.isJPY(i.symbol)?e("span",{staticClass:"price__symbol"},[t._v(t._s(i.symbol))]):t._e()]),e("div",{staticClass:"prod__num"},[t._v("x"+t._s(s.num))])])})),0)]),e("div",{staticClass:"coupon-radio coupon-radio--left"}),e("div",{staticClass:"coupon-radio coupon-radio--right"})])})),0)])]):t._e(),1===t.switchTabIndex?e("div",{staticClass:"comp-container"},[e("div",{staticClass:"comp-scroll"},[t.cartCouponInfo.canReceiveCouponList&&t.cartCouponInfo.canReceiveCouponList.length?e("div",{staticClass:"title-info"},[e("div",{staticClass:"title__text"},[t._v(t._s(t.$t("shoppingcart.can_received_text")))]),e("div",{staticClass:"title__desc"},[t._v(t._s(t.$t("shoppingcart.can_received_desc")))])]):t._e(),t.cartCouponInfo.canReceiveCouponList&&t.cartCouponInfo.canReceiveCouponList.length?e("div",{staticClass:"coupon-list"},t._l(t.cartCouponInfo.canReceiveCouponList,(function(i,s){return e("div",{key:s,staticClass:"coupon-item"},[e("div",{staticClass:"coupon-container"},[e("coupon-card",{attrs:{coupon:i,showReceive:!0,active:!0,shoppingCartReceive:1,cardType:"shoppingcart"},on:{getCoupon:t.getCoupon}})],1),e("div",{staticClass:"prod-container"},[e("div",{staticClass:"select-info"},[e("div",{staticClass:"coupon-prod-tip"},[[t._v(t._s(t.$t("shoppingcart.coupon_prod_tip1",[i.satisfyProductCount]))+" ")],[t.isJPY(i.symbol)?t._e():[t._v(t._s(i.symbol||"¥"))],[t._v(t._s(i.satisfyProductTotalAmount))],t.isJPY(i.symbol)?[t._v(t._s(i.symbol))]:t._e()],i.shareFullReduction&&i.fullReductionAmount>=0&&null!=i.fullReductionAmount?[[t._v(" (")],[t._v(t._s(t.$t("shoppingcart.coupon_prod_tip2")))],t.isJPY(i.symbol)?t._e():[t._v(t._s(i.symbol||"¥"))],[t._v(t._s(i.fullReductionAmount))],t.isJPY(i.symbol)?[t._v(t._s(i.symbol))]:t._e(),[t._v(")")]]:t._e(),[t._v("，")],i.diffMinOrderAmount>0?[[t._v(t._s(t.$t("shoppingcart.coupon_prod_tip3"))+" ")],t.isJPY(i.symbol)?t._e():e("span",{staticClass:"tip__color"},[t._v(t._s(i.symbol||"¥"))]),e("span",{staticClass:"tip__color"},[t._v(t._s(i.diffMinOrderAmount))]),t.isJPY(i.symbol)?e("span",{staticClass:"tip__color"},[t._v(t._s(i.symbol))]):t._e(),[t._v(t._s(t.$t("shoppingcart.coupon_prod_tip4")))]]:[t._v(t._s(t.$t("shoppingcart.coupon_prod_tip5")))]],2),0==i.unReceiveCount?e("div",{staticClass:"coupon-prod-option"},[i.diffMinOrderAmount>0?e("div",{staticClass:"option__btn",on:{click:function(e){return t.toProdList(i)}}},[t._v(t._s(t.$t("shoppingcart.coupon_option_make"))+" ")]):e("div",{staticClass:"option__text",on:{click:function(e){return t.toProdList(i)}}},[t._v(t._s(t.$t("shoppingcart.coupon_option_stroll"))),e("span",{staticClass:"iconfont icon-youjiantou"})])]):t._e()]),e("div",{staticClass:"prod-list"},t._l(i.prodList,(function(s,o){return e("div",{key:o,staticClass:"prod-item"},[e("img",{staticClass:"prod__img",attrs:{src:s.pic}}),e("div",{staticClass:"prod__price"},[t.isJPY(i.symbol)?t._e():e("span",{staticClass:"price__symbol"},[t._v(t._s(i.symbol||"¥"))]),e("span",{staticClass:"price__text"},[t._v(t._s(s.price))]),t.isJPY(i.symbol)?e("span",{staticClass:"price__symbol"},[t._v(t._s(i.symbol))]):t._e()]),e("div",{staticClass:"prod__num"},[t._v("x"+t._s(s.num))])])})),0)]),e("div",{staticClass:"coupon-radio coupon-radio--left"}),e("div",{staticClass:"coupon-radio coupon-radio--right"})])})),0):e("div",{staticClass:"empty-box"},[e("img",{staticClass:"empty-img",attrs:{src:i("3e33")}}),e("div",{staticClass:"empty-text"},[t._v(t._s(t.$t("shoppingcart.no_coupons")))])])])]):t._e()])])],1)},o=[],n=i("9dd3"),a=n["a"],r=(i("8227"),i("2877")),c=Object(r["a"])(a,s,o,!1,null,"0e169ae9",null);e["a"]=c.exports},4946:function(t,e,i){},"4cdb":function(t,e,i){"use strict";i("fa9f5")},"568d":function(t,e,i){},"618f":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"carts"},t._l([1,2,3],(function(s,o){return e("div",{key:o,style:{"margin-bottom":t.getMatchList(s,t.promotionGroup).length>0?"0.75rem":0}},t._l(t.getMatchList(s,t.promotionGroup),(function(o,n){return e("div",{key:o.promotionGroup,staticClass:"cart-container",style:[{background:o.promotionInfo?t.promotion_backcolor:t.normal_backcolor}]},[0==n&&t.showHeader(t.promotionGroup)?e("div",{staticClass:"domestic-container",on:{click:function(e){t.onCheck({nationType:s,checked:!t.checkedAll(s,t.promotionGroup)})}}},[t.checkedAll(s,t.promotionGroup)?e("span",{staticClass:"check-img iconfont icon-gouxuan"}):e("img",{staticClass:"check-img",attrs:{src:i("f4ad")}}),1==s?e("span",{staticClass:"text"},[t._v(t._s(t.$t("shoppingcart.cross_border_goods")))]):2==s?e("span",{staticClass:"text"},[t._v(t._s(t.$t("shoppingcart.domestic_goods")))]):3==s?e("span",{staticClass:"text"},[t._v(t._s(t.$t("shoppingcart.foreign_goods")))]):t._e()]):t._e(),o.promotionInfo&&o.prodList.length?e("div",{staticClass:"cart-container-promotion-top"},[6==o.promotionInfo.type?e("span",{staticClass:"tag"},[t._v("N元任选")]):o.promotionInfo.typeName.length?e("span",{staticClass:"cart-container-promotion-tag"},[t._v("满"+t._s(o.promotionInfo.typeName))]):t._e(),e("div",{staticClass:"span1"},[e("p",[t._v(t._s(o.promotionInfo.title))]),o.promotionInfo.title2?e("p",[t._v(t._s(o.promotionInfo.title2))]):t._e()]),t.isEdit?t._e():e("div",{staticClass:"cart-container-promotion-goto",on:{click:function(e){return t.gotoPromotion(o.promotionInfo)}}},[t._v(t._s(o.promotionInfo.needBuyMore?t.$t("shoppingcart.gather_together"):t.$t("shoppingcart.view_activities"))+" >")])]):t._e(),t._l(o.prodList,(function(i,s){return e("div",{key:i.border,staticClass:"cart-container border-bottom"},[e("cart-product",{attrs:{prodItem:i,isAllSelect:t.isSelect,originData:t.originData,memberGrade:t.memberGrade,prodIndex:[n,s],isEdit:t.isEdit,showProdTag:t.showProdTag},on:{getPurchaseNum:t.getPurchaseNum,inputConfirm:t.inputConfirm,handleComponentsTap:t.handleComponentsTap}})],1)})),o&&o.promotionInfo&&o.promotionInfo.desc?e("div",{staticClass:"cart-container-promotion-bottom"},[e("div",{staticClass:"cart-container-promotion-bottom-line"}),e("span",{staticClass:"span2"},[t._v(t._s(o.promotionInfo.desc))]),e("div",{staticClass:"cart-container-promotion-bottom-line"})]):t._e()],2)})),0)})),0)},o=[],n=i("e7b1"),a=n["a"],r=(i("bd2b"),i("2877")),c=Object(r["a"])(a,s,o,!1,null,"c6adc15e",null);e["a"]=c.exports},"6bc9":function(t,e,i){"use strict";i("f865")},7165:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAAA4ElEQVQ4Ed1Suw3CMBCN4wVoyBJmA2gYgQ2QZU/lKEUGoKOmgQ1gCdjAUmTumZzlBIJEgZA4KdznPZ3uPVwUeTRNM0+9cM6dpZTrNEExoAyQQVPX9ZEHVO9jjYX0BQY+ywJ0rEC21i6QcU7XdVe6s4oEDBE9UQHQWt8e0+//Quwrj9iQkmKLi3MSjg0hzHBeVJHLIvIBAEsu0UASpGFTDqL+h4guwDOyZUmCLniIU/9j7xZcUkKIkzFmlR5DDo4XvcPSArZzTO7naryU+U8LGGjbtvLe79DTa9hMyWL+7/IdRYp6wyZjjxwAAAAASUVORK5CYII="},"71e5":function(t,e,i){"use strict";i("f4e6")},7726:function(t,e,i){},8227:function(t,e,i){"use strict";i("aa223")},8259:function(t,e,i){"use strict";i("7726")},"9dd3":function(t,e,i){"use strict";(function(t){i("99af"),i("d3b7"),i("159b"),i("d81d"),i("a4d3"),i("e01a"),i("c740");var s=i("64cf"),o=i("698b"),n=i("1041"),a=i("789c");function r(e){var i=t.parseDate(e),s=i.getFullYear(),o=fixedZero(i.getMonth()+1),n=fixedZero(i.getDate());return"".concat(s,".").concat(o,".").concat(n)}e["a"]={components:{CouponCard:o["a"],CouponDialog:s["a"]},mixins:[n["a"]],props:{},data:function(){return{switchTabIndex:0,cartCouponInfo:{cartCatalogList:[],availableCouponList:[],canReceiveCouponList:[]},isOnlyCanReceiveTab:!1}},mounted:function(){this.getCartCouponInfo()},methods:{getCartCouponInfo:function(){var e=this;this.switchTabIndex=0,this.isOnlyCanReceiveTab=!1,t.request({url:"/api/trading/cartcouponmakeorder",method:"get"}).then((function(t){if(t){e.cartCouponInfo=t||{},e.cartCouponInfo.cartCatalogList=t.cartCatalogList||[];var i=[];t.availableCouponList&&t.availableCouponList.length&&(i=e.convertCoupons(t.availableCouponList)),e.cartCouponInfo.availableCouponList=i;var s=[];if(t.canReceiveCouponList&&t.canReceiveCouponList.length&&(s=e.convertCoupons(t.canReceiveCouponList)),e.cartCouponInfo.canReceiveCouponList=s,e.cartCouponInfo.availableCouponList.length||(e.switchTabIndex=1,e.isOnlyCanReceiveTab=!0),0===e.cartCouponInfo.canReceiveCouponList.length&&0===e.cartCouponInfo.availableCouponList.length)return e.input(),!1;e.setProdData()}})).catch((function(i){t.showToast({title:i.message||i.msg||e.$t("shoppingcart.failed_cart")})}))},setProdData:function(){var t=this;this.cartCouponInfo.availableCouponList.forEach((function(e){t.$set(e,"prodList",[]),e.scIdList&&e.scIdList.length&&e.scIdList.forEach((function(i){t.cartCouponInfo.cartCatalogList.forEach((function(t){i===t.scId&&e.prodList.push(t)}))}))})),this.cartCouponInfo.canReceiveCouponList.forEach((function(e){t.$set(e,"prodList",[]),e.scIdList&&e.scIdList.length&&e.scIdList.forEach((function(i){t.cartCouponInfo.cartCatalogList.forEach((function(t){i===t.scId&&e.prodList.push(t)}))}))}))},input:function(){this.$emit("changeShoppingCartCouponDialogStatus","close")},switchTabClick:function(){0===this.switchTabIndex?this.switchTabIndex=1:this.switchTabIndex=0},toProdList:function(e){var i=e.prodList&&e.prodList[0]&&e.prodList[0].nationType;t.navigateTo({url:"/pages/couponmergeitem/main?couponBatchCode=".concat(e.batchCode,"&nationType=").concat(i)})},convertCoupons:function(e){var i=this;return t.isBlank(e)?[]:e.map((function(t){var e=new a["a"]({sellerId:i.sellerId,code:t.id,symbol:i.isShareCouponDetail?t.currencySymbol:t.symbol,amount:i.isShareCouponDetail?t.couponValue:t.amount,desc:t.description,name:i.isShareCouponDetail?t.couponName:t.title,timeLimit:i.isShareCouponDetail?1===t.effectiveType?t.timeDesc:"".concat(r(t.validStart),"-").concat(r(t.validEnd)):t.timeDesc||"".concat(r(t.startTime),"-").concat(r(t.expireTime)),status:i.convertStatus(t),unReceiveCount:t.unReceiveCount,subTitle:t.subTitle,userTypeInfo:t.userTypeInfo,couponType:t.couponType,discountValue:i.isShareCouponDetail?t.couponValue:t.discountValue,batchCode:t.batchCode,satisfyProductCount:t.satisfyProductCount,satisfyProductTotalAmount:t.satisfyProductTotalAmount,reachThreshold:t.reachThreshold,diffMinOrderAmount:t.diffMinOrderAmount,fullReductionAmount:t.fullReductionAmount,continueReceive:t.continueReceive,scIdList:t.scIdList,shareFullReduction:t.shareFullReduction,available:t.available});return e}))},convertStatus:function(t){try{if(t.maxUseTimePerUser-t.unReceiveCount>0)return a["b"].RECEIVED}catch(e){}return a["b"].UNRECEIVED},getCoupon:function(e){var i=this;t.auth.islogin()?(t.showLoading({title:this.$t("common.loading",["..."])}),e.unReceiveCount<=0?t.showToast({title:this.$t("components.coupon.number_receipts")}):t.request({method:"POST",url:"/api/usercenter/sqreceivecoupon",data:{batchCode:e.id}}).then((function(s){var o=s.result;t.hideLoading(),o?(i.getCouponSuccess(e),t.showToast({title:i.$t("components.coupon.congratulations_grabbed")})):t.showToast({title:i.$t("components.coupon.receive_failure")})})).catch((function(e){console.log(e),t.hideLoading(),t.showToast({title:e.message||i.$t("components.coupon.receive_failure")})}))):t.auth.tologin()},getCouponSuccess:function(t){if(1===this.switchTabIndex){var e=this.cartCouponInfo.canReceiveCouponList.findIndex((function(e){return e.batchCode===t.id}));this.cartCouponInfo.canReceiveCouponList[e].state=1,"number"===typeof this.cartCouponInfo.canReceiveCouponList[e].unReceiveCount&&(this.cartCouponInfo.canReceiveCouponList[e].unReceiveCount=this.cartCouponInfo.canReceiveCouponList[e].unReceiveCount-1)}else{var i=this.cartCouponInfo.availableCouponList.findIndex((function(e){return e.batchCode===t.id}));this.cartCouponInfo.availableCouponList[i].state=1,"number"===typeof this.cartCouponInfo.availableCouponList[i].unReceiveCount&&(this.cartCouponInfo.availableCouponList[i].unReceiveCount=this.cartCouponInfo.availableCouponList[i].unReceiveCount-1)}}}}}).call(this,i("7189")["default"])},aa223:function(t,e,i){},bd2b:function(t,e,i){"use strict";i("16c0")},ced1:function(t,e,i){"use strict";(function(t){var s=i("5530"),o=i("2909"),n=(i("e17f"),i("2241")),a=(i("ab71"),i("58e6")),r=(i("ac1f"),i("841c"),i("a9e3"),i("fb6a"),i("99af"),i("d3b7"),i("159b"),i("e9c4"),i("a15b"),i("4de4"),i("a434"),i("6062"),i("3ca3"),i("ddb0"),i("13d5"),i("d81d"),i("c740"),i("b0c0"),i("bcb3")),c=i("1041"),l=i("1adf"),p=i("191e"),u=i("c08d"),d=i("fe47"),h=i("3f06"),m=i("1e03"),f=i("618f"),v=i("fec4"),g=i("d138"),_=i("ed08"),C=i("b68d"),y=i("45fc"),I=i("8efd");e["a"]={name:"Cart",components:{ShoppingcartCoupon:y["a"],"cart-product":h["a"],"cart-product-group":f["a"],"select-sku":v["a"],redeem:m["a"],tabnav:r["a"],"van-pull-refresh":a["a"],pullRefreshLoading:u["a"],empty:g["a"],watermark:I["a"]},mixins:[p["a"],c["a"],l["a"],C["a"]],data:function(){return{isLoading:!1,isDisabledLoading:t.auth.islogin(),isLogin:!1,showPage:!1,list:[],virtualSelectList:[],invalidProdList:[],relatedList:{},guessList:{},totalNum:0,totalPrice:0,selectAll:!1,selectList:[],isEdit:!1,coupons:[],sellerId:0,couponHidden:!0,prodCurrent:{},skus:{},skuDefault:{showSkuPop:!1,skuType:4,pic:"",price:"",selectId:"",foreign:!1,symbol:""},indexCurrent:{seller:0,promotion:0,prodList:0},relatedPageNum:1,guessPageNum:1,hasMore:!0,loading:!1,discountAmount:0,selProdCount:0,isEmpty:!1,firstLoad:!0,isValidListEmpty:!0,sellerInfo:{},symbol:"¥",duty:"0",showProdTag:!1,totalPriceDes:this.$t("shoppingcart.total_price"),serviceFee:"",miniNumProdList:[],toastShowing:!1,nationTypeTip:"",memberGrade:{},showBottomTip:!1,isGuideSellerApp:_["a"].isGuideSellerApp||!1,isClickEdit:"",loadingShowing:!1,isBuyerApp:!1,multipleStoresCart:{list:[]},productDetailInfo:{},userInfo:{},cartCouponEntranceInfo:{showCouponWindow:!1,couponDiscountDesc:""},shoppingCartCouponDialogShow:!1,watermarkText:""}},computed:{mt:function(){return this.isEdit?"52px":"0"},isCountry:function(){return this.sellerInfo.country&&this.sellerInfo.country.length>0&&"中国大陆"!==this.sellerInfo.country},cartUrl:function(){return i("03a3")}},mounted:function(){var e=this,i=_["a"].parseUrl(window.location.search,"lower");this.isBuyerApp=!!Number(i.isbuyerapp),t.setNavigationBarTitle({title:this.$t("shoppingcart.shopping_cart")}),t.auth.authBindMobile({lazy:!0}).then((function(){e.init()})).catch((function(){e.showPage=!0}))},created:function(){var e=this;t.onShow((function(){e.init()}))},methods:{init:function(){this.isLogin=t.auth.islogin(),this.isLogin?(this.requestCartList(this.firstLoad),this.getMultipleStoresCartList(),this.getUserInfo()):this.showPage=!0},pullRefresh:function(){this.init()},showLoading:function(e){t.showLoading({title:e||""}),this.loadingShowing=!0},hideLoading:function(){t.hideLoading(),this.loadingShowing=!1},requestCartList:function(e){var i=this;this.showProdTag=!1,e&&t.showLoading({title:this.$t("common.loading",["..."])}),this.loadingShowing&&this.hideLoading(),t.request({url:"/api/trading/sqscart?groupByPromotion=true",method:"get"}).then((function(s){if(e&&t.hideLoading(),i.userInfo&&s.showInbuyWatermark){var o=i.userInfo.nickname||"";o=o.slice(0,8)||"",i.watermarkText="内购严禁转发 ID".concat(t.auth.getValue("userId")," ").concat(o)}if(i.isLoading=!1,i.firstLoad=!1,i.showPage=!0,Object(_["c"])(s))i.requestRelated();else{var n=s.list&&s.list[0]&&s.list[0].sellerInfo||{};i.virtualSelectList=[];var a=i.keepProdSelectStatus(i.initListSelect(s.list));i.list=a,i.matchPromotionProductToScartProduct(),i.handleCheck(),i.invalidProdList=s.invalidProdList,i.totalNum=s.totalNum,i.sellerInfo=n,i.memberGrade=s&&s.memberGrade||{},i.cartCouponEntranceInfo.showCouponWindow=s.showCouponWindow||!1,i.cartCouponEntranceInfo.couponDiscountDesc=s.couponDiscountDesc||"",i.figureIsEmpty(),i.checkProductListTariffType(s),i.setSelectList(),i.checkSelectAll(),i.checkIsDomesticMultiple();var r=s.list&&s.list[0]&&s.list[0].message||"";r.length>0&&i.showToast({title:r})}})).catch((function(s){e&&t.hideLoading(),i.isLoading=!1,i.showPage=!0,i.showToast({title:s.message||s.msg||i.$t("shoppingcart.failed_cart")})}))},checkProductListTariffType:function(t){for(var e=0;e<t.list.length;e++)for(var i=t.list[e].promotionGroup,s=0;s<i.length;s++)for(var o=i[s].prodList,n=0;n<o.length;n++){var a=o[n];if(3!=a.tariffType)return void(this.showBottomTip=!0)}},initListSelect:function(t){for(var e=0;e<t.length;e++){var i=t[e];i.isSelect=!1;for(var s=0;s<i.promotionGroup.length;s++)for(var o=i.promotionGroup[s],n=0;n<o.prodList.length;n++){var a=o.prodList[n];a.isSelect=a.checked}}return t},requestCartAddProd:function(e){var i=this;"edit"!=this.isClickEdit&&t.showLoading({title:"loading..."});e=this.setupSelectReqParam();t.request({url:"/api/trading/sqscartprodtotalprice",method:"post",data:e}).then((function(s){i.totalPrice=s.price,i.discountAmount=s.discountAmount,i.list=i.list,i.selProdCount=e.prods.length,i.symbol=s.symbol,i.duty=s.duty||0,i.serviceFee=s.serviceFee||"",t.hideLoading()})).catch((function(e){t.hideLoading(),t.showToast({title:e.message||e.msg||i.$t("shoppingcart.request_error")})}))},requestRelated:function(){var e=this;t.showLoading({title:this.$t("common.loading",["..."])}),t.request({url:"/api/guess/screlatedproduct?pagenumber=".concat(this.relatedPageNum),method:"get"}).then((function(i){t.hideLoading(),1===e.relatedPageNum?e.relatedList=i:[].push.apply(e.relatedList,i.list),e.relatedPageNum=e.relatedPageNum+1,i.pageCount<=e.relatedPageNum&&e.requestGuess(),e.relatedList=e.relatedList})).catch((function(i){t.hideLoading(),t.showToast({title:i.message||e.$t("shoppingcart.failed_list")})}))},requestGuess:function(){var e=this;t.showLoading({title:this.$t("common.loading",["..."])}),t.request({url:"/api/guess/recommendprods?pagenumber=".concat(this.guessPageNum,"&pagetype=shoppingcart"),method:"get"}).then((function(i){t.hideLoading(),1===e.guessPageNum?e.guessList=i:[].push.apply(e.guessList.list,i.list);var s=!0;i.pageCount===e.guessPageNum?s=!1:e.guessPageNum=e.guessPageNum+1,e.hasMore=s,e.guessList=e.guessList})).catch((function(i){t.hideLoading(),t.showToast({title:i.message||e.$t("shoppingcart.failed_list_again")})}))},requestSellerCoupon:function(e){var i=this;t.showLoading({title:"loading"}),t.request({url:"/api/live/sellercouponlist?sellerid=".concat(e),method:"get"}).then((function(e){t.hideLoading(),i.coupons=e.coupons,i.couponHidden=!i.couponHidden})).catch((function(){t.hideLoading()}))},requestNum:function(e,i){var s=this;if(i<=0)return this.prodCurrent.purchaseNum=1,void(this.list=this.list);t.showLoading({title:this.$t("shoppingcart.modified_quantity")}),t.request({url:"/api/trading/sqscartprodnum",data:{scid:e,purchasenum:i},method:"post"}).then((function(e){t.hideLoading(),s.prodCurrent.purchaseNum=i,s.setupModify(e,i)})).catch((function(e){if(t.hideLoading(),t.showToast({title:e.message||e.msg||s.$t("shoppingcart.modify_failed_again")}),e.purchaseNum&&e.isMax&&!e.success){s.prodCurrent.purchaseNum=e.purchaseNum;var i=setTimeout((function(){clearTimeout(i),s.requestCartList()}),500)}}))},requestModifySku:function(e,i,s){var o=this;t.showLoading({title:this.$t("shoppingcart.modify_specifications")}),t.request({url:"/api/trading/sqscartprodcatalog",data:{catalogid:e,deliverytype:i,scid:s},method:"post"}).then((function(i){o.prodCurrent.catalogId=e,o.setupModify(i),t.hideLoading()})).catch((function(e){t.hideLoading(),t.showToast({title:e.message||o.$t("shoppingcart.failed_modify")})}))},requestSku:function(e){var i=this;t.showLoading({title:this.$t("shoppingcart.request_specification")});var s="productid=".concat(e.id);1===e.tradingSpecial&&(s+="&activityType=".concat(e.activityType,"&activityId=").concat(e.activityId||0,"&tradingspecial=1")),t.request({url:"/api/prod/sqdetail?".concat(s),method:"get"}).then((function(s){var o=!1;s.activityInfo&&0==s.activityInfo.state&&4==s.activityInfo.type&&(o=!0),3==s.nationType&&(s.price.foreign=!1);var n=!1,a=4;s.activityInfo&&25===s.activityInfo.type&&(n=!0),i.skus=s.skus,i.skuDefault.showSkuPop=!0,i.skuDefault.pic=e.pic,i.skuDefault.price=s.price.interval[0],i.skuDefault.interval=s.price.interval[0]!==s.price.interval[1]?i.$t("shoppingcart.rise"):"",i.skuDefault.selectId=e.catalogId,i.skuDefault.foreign=s.price&&s.price.foreign,i.skuDefault.symbol=s.price&&s.price.symbol||"¥",i.skuDefault.skuShowOriginalPrice=o,i.skuDefault.minNum=s.minOrderNum||0,i.skuDefault.vipLogo=s.memberGrade&&s.memberGrade.logoUrl,i.skuDefault.subsidyInterval=s.price.subsidyPrice&&s.price.subsidyPrice[0]!=s.price.subsidyPrice[1]?i.$t("shoppingcart.rise"):"",i.skuDefault.vipInterval=s.price.vipPrice&&s.price.vipPrice[0]!=s.price.vipPrice[1]?i.$t("shoppingcart.rise"):"",i.skuDefault.subsidyExchangePrice=s.price.subsidyExchangePrice&&s.price.subsidyExchangePrice[0],i.skuDefault.vipExchangePrice=s.price.vipExchangePrice&&s.price.vipExchangePrice[0],i.skuDefault.vipPrice=s.price&&s.price.vipPrice&&s.price.vipPrice[0],i.skuDefault.subsidyPrice=s.price.subsidyPrice&&s.price.subsidyPrice[0],i.skuDefault.inDrawLots=n,i.skuDefault.skuType=a,i.productDetailInfo=s,t.hideLoading()})).catch((function(e){t.hideLoading(),t.showToast({title:e.message||e.msg||i.$t("shoppingcart.failed_specifications")})}))},requestDelete:function(e){var i=this;if(e.length){var s=[].concat(e);e.forEach((function(t){i.traverseEachHgGroupList((function(e){e.hostScId==t&&e.checked&&s.push(e.scId)}))})),this.showLoading(),t.request({url:"/api/trading/sqdelscartprod",method:"post",data:{scids:s}}).then((function(e){t.hideLoading(),e.success&&i.requestCartList(!1),Object(_["c"])(e.msg)||i.showToast({title:e.msg})})).catch((function(e){t.hideLoading(),t.showToast({title:e.message||i.$t("shoppingcart.delete_failed")})}))}},requestDeleteInvalidProds:function(){var e=this;t.showLoading({title:"Loading..."}),t.request({url:"/api/trading/sqdelscartinvalidprod",data:{},method:"post"}).then((function(i){t.hideLoading(),Object(_["c"])(i.msg)||e.showToast({title:i.msg}),e.invalidProdList=[],e.figureIsEmpty()})).catch((function(i){t.hideLoading(),t.showToast({title:i.message||e.$t("shoppingcart.clear_failed")})}))},requestCheckorderproduct:function(e,i,s){var o=this;if(Object(_["c"])(e)&&s){var n=encodeURIComponent(JSON.stringify(i)),a=JSON.stringify(s),r="/pages/confirmorder/main?sourcetype=5&prods=".concat(n,"&orderIdList=").concat(a);t.navigateTo({url:r})}else{var c=[];for(var l in e)c.push("".concat(l,"=").concat(e[l]));var p=c.join("&");t.showLoading({title:this.$t("shoppingcart.in_order")}),t.request({url:"/api/trading/sqcheckorderproduct?".concat(p,"&orderEntry=1"),method:"get"}).then((function(e){var n=o.stringifyProds(i),a=encodeURIComponent(JSON.stringify(s)),r="/pages/confirmorder/main?sourcetype=5&prods=".concat(n,"&orderIdList=").concat(a);t.hideLoading(),1===e.code?t.navigateTo({url:r}):2===e.code?(o.showToast({title:e.msg}),t.navigateTo({url:r})):4===e.code?t.showModal({content:e.msg,showCancel:!1,confirmText:o.$t("shoppingcart.refresh_see"),success:function(t){t.confirm&&o.requestCartList(!0)}}):5===e.code?t.showModal({content:e.msg||o.$t("shoppingcart.goods_selected_support"),showCancel:!1,confirm:o.$t("common.confirm")}):6===e.code?t.showModal({content:o.$t("shoppingcart.refresh_tip"),showCancel:!1,confirmText:o.$t("shoppingcart.refresh_button"),success:function(t){t.confirm&&o.requestCartList(!0)}}):o.showToast({title:e.msg})})).catch((function(e){t.hideLoading(),e&&401!==e.status&&(e&&6===e.code?t.showModal({content:o.$t("shoppingcart.refresh_tip"),showCancel:!1,confirmText:o.$t("shoppingcart.refresh_button"),success:function(t){t.confirm&&o.requestCartList(!0)}}):t.showToast({title:e.message||o.$t("shoppingcart.error_occurred")}))}))}},setupModify:function(e,i){this.requestCartList(),e.success?e.isMax&&i>e.purchaseNum&&this.showToast({title:this.$t("shoppingcart.can_purchased",[e.purchaseNum]),duration:2e3}):Object(_["c"])(e.msg)||t.showToast({title:e.msg})},figureIsEmpty:function(){var t=(Object(_["c"])(this.list)||0===this.totalNum)&&Object(_["c"])(this.invalidProdList)&&Object(_["c"])(this.multipleStoresCart.list),e=Object(_["c"])(this.list)||1===this.list.length&&(Object(_["c"])(this.list[0].promotionGroup)||0===this.list[0].promotionGroup.length),i=this.isEdit;i&&e&&(i=!1),this.isEmpty=t,this.isEdit=i,this.isValidListEmpty=e},checkSelectAll:function(){var t=!0;for(var e in this.list){if(!t)break;var i=this.list[e];for(var s in i.promotionGroup){var o=i.promotionGroup[s].prodList,n=o.filter((function(t){return!t.isSelect}));if(n.length){t=!1;break}}}this.selectAll=t},keepProdSelectStatus:function(e){var i=this;if(this.isEdit)return e;if(!this.list||!this.list.length)return e;if(!this.selectList.length)return e;if(e&&1===e.length&&Object(_["c"])(e[0].promotionGroup))return[];var s=function(t){var s=e[t],o=s.sellerInfo.id,n=i.selectList.filter((function(t){return t[o]}));if(n.length){var a=[];n[0][o].isSelect;for(var r in s.promotionGroup){var c=s.promotionGroup[r].prodList,l=function(t){var e=c[t];for(var s in a.push(e),n[0][o].promotionGroup){var r=n[0][o].promotionGroup[s].prodList,l=r.filter((function(t){return t.catalogId===e.catalogId}));if(l.length){l[0].isSelect&&i.virtualSelectList.push(e);break}}e.isSelect||!1};for(var p in c)l(p)}var u=a.filter((function(t){return!0===t.isSelect})),d=u.length===a.length&&u.length>0;s.isSelect=d,n[0][o]=s}};for(var o in e)s(o);this.checkAllProductMiniCount();var n=!1;this.virtualSelectList.forEach((function(t){t.isEnable?t.isSelect=!0:(n=!0,t.isSelect=!1)})),n&&setTimeout((function(){t.showToast({title:i.$t("shoppingcart.quantity_merchant")})}),500);for(var a=this.selectList.length,r=0;r<a;r++){var c=this.selectList[r],l=function(t){var s=e.filter((function(e){return Number(e.sellerInfo.id)===Number(t)}));s.length||i.selectList.splice(r,1)};for(var p in c)l(p)}return e},selectSeller:function(t){var e=this.list[t];e.isSelect=!e.isSelect;var i=e.sellerInfo.id,s=this.selectList.filter((function(t){return t[i]}));if(e.isSelect){if(!s.length){var o={};o[i]=e,this.selectList.push(o)}}else if(s.length){var n=this.selectList.indexOf(s[0]);this.selectList.splice(n,1)}for(var a in e.promotionGroup){var r=e.promotionGroup[a].prodList;for(var c in r)r[c].isSelect=e.isSelect}},checkIsDomesticMultiple:function(){var t=new Set;this.traverseShoppingCartList((function(e){t.add(e.nationType)})),this.nationTypeTip=this.getNationTypeTip(t)},settleAccount:function(){var e=this;if(this.userInfo&&3===this.userInfo.envType&&this.userInfo.openSelfMember&&this.userInfo.selfVipInfo&&this.userInfo.selfVipInfo.shoppingNeedOpenMember&&!this.userInfo.selfVipInfo.openMember)return n["a"].confirm({message:e.$t("item.please_open_member_tip"),confirmButtonText:e.$t("item.to_open_member"),cancelButtonText:e.$t("common.cancel"),className:"open-member-dialog"}).then((function(){t.navigateTo({url:"/pages/checkbindmobile/main"})})).catch((function(){}));var i=[],s=[],o=[];if(this.traverseShoppingCartList((function(t){t.checked&&6!==t.state&&(3==t.type&&t.orderId?s.push(t.orderId):(i.push(t),o.push(t)))})),this.traverseRedeemList((function(t){i.push(t)})),this.traverseEachHgGroupList((function(t){if(t.checked){var e=o.filter((function(e){return e.scId==t.hostScId}));e.length>0&&e.forEach((function(e){e.hgActivityId=t.hgActivityId})),t.hgProduct=!0,i.push(t)}})),Object(_["c"])(i)&&Object(_["c"])(s))t.showToast({title:this.$t("shoppingcart.unselected_goods")});else{t.ylog.send({action_type:"click",module_name:"checkout"});for(var a={},r=0;r<i.length;r++){var c=i[r],l=c.catalogId+","+c.purchaseNum+","+c.price+","+c.deliveryType+","+c.hgActivityId+","+c.hgProduct;1==c.tradingSpecial&&(l+=",".concat(1,",",c.activityId||0,",").concat(c.activityType||0)),a["prods["+r+"]"]=l}this.requestCheckorderproduct(a,i,s)}},setupParams:function(t,e){for(var i=0;i<e.promotionGroup.length;i++)for(var s=e.promotionGroup[i].prodList,o=0;o<s.length;o++){var n=s[o];if(n.isSelect&&6!==n.state){var a={productid:n.id,catalogid:n.catalogId,purchasenum:n.purchaseNum,purchaseprice:n.price,deliverytype:n.deliveryType,hgProduct:!0,hgActivityId:n.hgActivityId};t.push(a)}}return t},segueProdDetail:function(e){if(!this.isEdit){this.setupCurrentProd(e);var i=this.prodCurrent.id;if(i){t.ylog.send({action_type:"click",module_name:"product_list",sproductid:i});var s="/pages/item/main?productId=".concat(i);e.prodItem&&1==e.prodItem.tradingSpecial&&(s+="&TradingSpecial=1&activityType=".concat(e.prodItem.activityType||0,"&activityId=").concat(e.prodItem.activityId||0)),t.navigateTo({url:s})}}},invalidProdTap:function(e,i){var s=this.invalidProdList[e];s&&s.id?2===i?t.showToast({title:this.$t("shoppingcart.sold_out_view")}):t.navigateTo({url:"/pages/item/main?productId=".concat(s.id)}):t.showToast({title:this.$t("shoppingcart.parameter_error")})},getPurchaseNum:function(t){this.setupCurrentProd(t),this.requestNum(this.prodCurrent.scId,t.purchaseNum)},inputConfirm:function(t){this.setupCurrentProd(t),this.requestNum(this.prodCurrent.scId,this.prodCurrent.purchaseNum)},checkProductMiniCount:function(e){var i=this,s=this.virtualSelectList.filter((function(t){return t.id===e.id})),o=s.length&&s.map((function(t){return t.purchaseNum})).reduce((function(t,e){return t+e}));return e.minOrderNum>o?(t.showToast({title:this.$t("shoppingcart.quantity_sufficient")}),s.forEach((function(t){i.setIsEnable(t,!1)})),!1):(s.forEach((function(t){i.setIsEnable(t,!0)})),!0)},checkAllProductMiniCount:function(){var t=this,e=[];this.virtualSelectList.map((function(t){e.push(t.id)})),e=e.filter((function(t,e,i){return i.indexOf(t)==e}));for(var i=function(i){var s=t.virtualSelectList.filter((function(t){return t.id==e[i]})),o=s.length&&s.map((function(t){return t.purchaseNum})).reduce((function(t,e){return t+e})),n=o>=s[0].minOrderNum;s.forEach((function(e){t.setIsEnable(e,n)}))},s=0;s<e.length;s++)i(s)},miniCountProductGroupState:function(t){var e=this,i=[],s=this.virtualSelectList.filter((function(e){return e.id===t.id})),o=s.length&&s.map((function(t){return t.purchaseNum})).reduce((function(t,e){return t+e}));t.isSelect?o>=t.minOrderNum&&s.forEach((function(t){e.setIsEnable(t,!0),t.isSelect=!0,i.push(t)})):o<t.minOrderNum&&s.forEach((function(t){e.virtualSelectList.pop(t),t.isSelect=!1,i.push(t)}))},operationVirtualSelectList:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=-1;for(var s in this.virtualSelectList){var o=this.virtualSelectList[s];if(t.id===o.id&&t.catalogId===o.catalogId){i=s;break}}-1!==i&&this.virtualSelectList.splice(i,1),e&&this.virtualSelectList.push(t)},setIsEnable:function(t,e){e=void 0!==e&&e,void 0===t.isEnable?this.$set(t,"isEnable",e):t.isEnable=e},selectSingleProd:function(t){var e=this,i=this.setupCurrentProd(t);if(i&&2!==i.type)if(this.isEdit){if(3==i.type)return;this.requestCheck([i],!i.isSelect,(function(){e.requestCartList(!1)}))}else{var s=[i];if(this.traverseShoppingCartList((function(t){t.checked&&s.push(t)})),i.isSelect)this.operationVirtualSelectList(i,!1);else{if(this.selectDisabled(s))return;if(this.operationVirtualSelectList(i),!this.isEdit&&!this.checkProductMiniCount(i))return;for(var o in this.selectList){var n=this.selectList[o];for(var a in n)for(var r in n[a].promotionGroup){var c=this.selectList;for(var l in c)this.isEdit}}}i.isSelect=!i.isSelect,this.isEdit||this.miniCountProductGroupState(i);var p=this.list[this.indexCurrent.seller],u=p.sellerInfo.id,d=[];for(var h in p.promotionGroup){var m=p.promotionGroup[h].prodList;for(var f in m){var v=m[f];d.push(v)}}var g=d.filter((function(t){return!0===t.isSelect})),C=g.length===d.length&&g.length>0;p.isSelect=C;for(var y in this.selectList)for(var I in this.selectList[y])I===u&&!0;var b=this.selectList.filter((function(t){return t[u]}));if(Object(_["c"])(g)&&!Object(_["c"])(b)){var L=this.selectList.indexOf(b[0]);-1!==L&&this.selectList.splice(L,1)}else if(Object(_["c"])(b)){var T={};T[u]=p,this.selectList.push(T)}this.checkSelectAll(),this.isEdit||this.requestCheck([i],i.isSelect,(function(){e.requestCartList(!1)}))}},selectSellerProd:function(t){var e=this,i=t.id;this.selectSeller(i),this.checkSelectAll();var s=this.setupSelectReqParam(),o=[];s.prods.forEach((function(t){o.push(t.scid)})),this.requestCheck(o,!0,(function(){e.requestCartList(!1)}))},setupSelectReqParam:function(){var t={},e=[];this.traverseShoppingCartList((function(t){if(t.checked&&6!=t.state){var i={scid:t.scId,catalogid:t.catalogId,deliverytype:t.deliveryType,count:t.purchaseNum,type:t.type};e.push(i)}}));var i=[];return this.traverseEachHgGroupList((function(t){t.checked&&i.push({scId:t.scId,num:t.purchaseNum})})),t={prods:e,recommendPromotion:!0,recommendHgPromotion:!0,eachHgList:i},t},setupProds:function(t){var e={scid:t.scId,catalogid:t.catalogId,deliverytype:t.deliveryType,count:t.purchaseNum,type:t.type};return e},setupCurrentProd:function(t){return this.prodCurrent=t.prodItem,t.prodItem},selectAllTap:function(t){var e=this;if(this.isEdit){var i=[];return this.traverseShoppingCartList((function(t){t.type||i.push(t)})),void this.requestCheck(i,!this.selectAll,(function(){e.requestCartList(!1)}))}var s="",o=[];this.virtualSelectList=[];var n=[];if(this.traverseShoppingCartList((function(t){n.push(t)})),!this.selectAll){if(this.selectDisabled(n))return;for(var a in this.list)for(var r in this.list[a].promotionGroup){var c=this.list[a].promotionGroup[r].prodList;for(var l in c)Object(_["c"])(s)?(s=c[l].symbol,c[l].payCompany,c[l].domestic,c[l].currency):this.isEdit,o.push(c[l]),this.virtualSelectList.push(c[l])}}this.selectAll=!this.selectAll,this.isEdit||this.checkAllProductMiniCount();var p=this.list.slice();for(var u in this.selectList.splice(0,this.selectList.length),p){var d=p[u],h=d.sellerInfo.id;if(this.selectAll){var m={};m[h]=d,this.selectList.push(m)}for(var f in d.isSelect=this.selectAll,d.promotionGroup)for(var v in d.promotionGroup[f].prodList){var g=d.promotionGroup[f].prodList[v];g.isEnable||this.isEdit?g.isSelect=d.isSelect:g.isSelect=!1}}if(!this.isEdit){var C=[];this.traverseShoppingCartList((function(t){t.isSelect===e.selectAll&&C.push(t)})),this.requestCheck(C,this.selectAll,(function(){e.requestCartList(!1)}))}},skuTap:function(t){this.setupCurrentProd(t),this.requestSku(this.prodCurrent)},skuConfirmCB:function(t){this.showSkuFunc(!1);var e=t;this.requestModifySku(e.catalogId,e.deliveryType,this.prodCurrent.scId)},showSkuFunc:function(t){this.skuDefault.showSkuPop=!!t},reductCountTap:function(t){this.setupCurrentProd(t),this.requestNum(this.prodCurrent.scId,this.prodCurrent.purchaseNum-1)},addCountTap:function(t){this.setupCurrentProd(t),this.requestNum(this.prodCurrent.scId,this.prodCurrent.purchaseNum+1)},deleteTap:function(t){var e=this.setupCurrentProd(t);this.showDeleteModal([e.scId])},showDeleteModal:function(e){var i=this;t.showModal({content:this.$t("shoppingcart.confirm_delete"),confirmText:this.$t("common.delete"),success:function(t){t.confirm&&i.requestDelete(e)}})},deleteBatch:function(){var e=[];for(var i in this.selectList){var s=this.selectList[i];for(var o in s){var n=s[o];for(var a in n.promotionGroup){var r=n.promotionGroup[a].prodList;for(var c in r){var l=r[c];l.isSelect&&e.push(l.scId)}}}}e.length&&this.showDeleteModal(e),t.showToast({title:this.$t("shoppingcart.unselected_items")})},getCouponTap:function(t){this.sellerId=this.list[t.id].sellerInfo.id,this.requestSellerCoupon(this.sellerId)},closeCouponDialog:function(){this.couponHidden=!0},getCouponSuccess:function(t){for(var e=this.coupons,i=0;i<e.length;i++){var s=e[i];if(s.id===t.id)return e[i]=s,void(this.coupons=e)}},avatarTap:function(t){var e=t.id;this.list[e].sellerInfo},handleTap:function(e){var i=this;switch(e){case"login":t.auth.authBindMobile();break;case"edit":if(this.isClickEdit=e,this.isEdit){var s=[],o=[];if(this.traverseShoppingCartList((function(t){t.checked&&s.push(t),3===t.type&&o.push(t)})),o.length>0&&this.requestCheck(o,!1,(function(){i.requestCartList(!1)})),this.selectDisabled(s))this.requestCheck(s,!1,(function(){i.requestCartList(!1)}));else{var n=[];this.traverseShoppingCartList((function(t){t.checked&&t.minOrderNum>0&&n.push(t)}));var a=this.checkMinOrderNum(n,!0);this.requestCheck(a,!1,(function(){i.requestCartList(!1)}))}}else{var r=this.clearAllSelectItem();this.requestCheck(r,!1);var c=this.setupSelectReqParam();this.requestCartAddProd(c)}this.isEdit=!this.isEdit;break;case"deleteInvalid":t.showModal({content:this.$t("shoppingcart.obsolete_items"),showCancel:!0,confirmText:this.$t("shoppingcart.empty_failure"),success:function(t){t.confirm&&i.requestDeleteInvalidProds()}});break;case"selectAll":this.selectAllTap();break;case"settleAccount":t.auth.authBindMobile().then((function(){i.settleAccount()}));break;case"deleteBatch":this.deleteBatch();break;default:break}},handleComponentsTap:function(e){var i=e.catchtype,s=e.bindtype,n="",a="";switch(e.prodItem&&(n=e.prodItem.state,a=e.prodItem.activityType),i){case"avatar":this.avatarTap(e);break;case"coupon":this.getCouponTap(e);break;case"chat":var r=this.list[e.id].sellerInfo.id;t.navigateTo({url:"/pages/message/chat/main?toId=".concat(r)});break;case"selectSeller":this.selectSellerProd(e);break;case"prod":"invalidProd"===s&&(6!==a&&21!==a&&22!==a&&24!==a||1!==n&&7!==n)?this.invalidProdTap(e.id,n):this.segueProdDetail(e);break;case"prodNormal":this.invalidProdTap(e.id,n);break;case"selectProd":this.selectSingleProd(e);break;case"delete":if(2===e.prodItem.type||3===e.prodItem.type)break;this.deleteTap(e);break;case"sku":if(2===e.prodItem.type||3===e.prodItem.type)break;"invalidProd"===s&&2===n?t.showToast({title:this.$t("shoppingcart.sold_out_view")}):this.skuTap(e);break;case"reduce":if(2===e.prodItem.type||3===e.prodItem.type)break;this.reductCountTap(e);break;case"add":if(2===e.prodItem.type||3===e.prodItem.type)break;this.addCountTap(e);break;case"slideToDelete":this.showDeleteModal([e.scId]);break;case"redeem":t.navigateTo({url:"/pages/swap/main?id=".concat(e.id)});break;case"redeem_collect":t.navigateTo({url:"/pages/makeup/main?id=".concat(e.id)});break;case"redeem_prod":if(this.isEdit)return;t.ylog.send({action_type:"click",module_name:"product_list",sproductid:e.id}),t.navigateTo({url:"/pages/item/main?productId=".concat(e.id)});break;case"selectRedeemProd":if(e.unable)return;e.checked?this.requestDelete([e.scId]):this.requestHgprods(e);break;case"editRedeemPurchaseNum":var c=this.list||[];c.forEach((function(t){(t.eachHgGroup||[]).forEach((function(t){(t.appendageList||[]).forEach((function(t){t.scId==e.prod.scId&&(t.purchaseNum=e.purchaseNum)}))}))})),this.list=Object(o["a"])(c),this.matchPromotionProductToScartProduct(),this.requestCartAddProd();break;default:break}},clearAllSelectItem:function(){var t=this,e=[];return this.virtualSelectList=[],this.list.map((function(i){return i.isSelect=!1,i.promotionGroup.map((function(i){return i.prodList.map((function(i){return i.isSelect=i.checked,3===i.type?(i.isSelect=!1,t.setIsEnable(i,!1),e.push(i)):t.setIsEnable(i,!0),i}))}))})),this.selectAll=!1,e},handleCheck:function(){var t=this;if(!this.isEdit){var e=[];if(this.traverseShoppingCartList((function(t){t.checked&&e.push(t)})),this.selectDisabled(e)){var i=[];return e.forEach((function(t){i.push(t)})),void this.requestCheck(i,!1,(function(){t.requestCartList(!1)}))}this.traverseShoppingCartList((function(e){var i=t.miniNumProdList.filter((function(t){return t.scId==e.scId}));i.length>0&&(e.isEnable=!0)}));var s=[];this.traverseShoppingCartList((function(t){t.minOrderNum>0&&(t.checked||t.isEnable)&&s.push(t)}));var o,n=this.checkMinOrderNum(s),a=[];0==n.length||(n.forEach((function(t){var e=s.filter((function(e){return e.scId==t.scId&&e.checked}));e.length>0&&a.push(e[0])})),o=!1),this.requestCheck(a,o,(function(){t.requestCartList(!1)}))}},requestCheck:function(e,i,s){var o=this;if(e&&0!=e.length){var n=[],a=[];e.forEach((function(t){if(t.type){var e={orderId:t.orderId,expire:t.finalPayEndTime};a.push(e)}else n.push(t.scId)})),this.toastShowing||t.showLoading({}),t.request({url:"/api/trading/sqscartchecked",method:"post",data:{shoppingCartIdList:n,checked:i,orderList:a}}).then((function(e){o.toastShowing||t.hideLoading({}),e&&e.success?(i&&n.forEach((function(t){var e=o.miniNumProdList.findIndex((function(e){return e.scId==t}));-1!==e&&o.miniNumProdList.splice(e,1)})),s&&s()):t.showToast({title:o.$t("shoppingcart.check_failure")})})).catch((function(e,i){o.toastShowing||t.hideLoading({}),t.showToast({title:i})}))}else{var r=this.setupSelectReqParam();this.requestCartAddProd(r)}},traverseShoppingCartList:function(t){this.list.forEach((function(e){e.promotionGroup&&e.promotionGroup.forEach((function(e){e.prodList&&e.prodList.forEach((function(e){t&&t(e)}))}))}))},traverseRedeemList:function(t){this.list.forEach((function(e){e.hgGroup&&e.hgGroup.forEach((function(e){e.prodList&&e.prodList.forEach((function(e){t&&t(e)}))}))}))},traverseEachHgGroupList:function(t){this.list.forEach((function(e){(e.eachHgGroup||[]).forEach((function(e){(e.appendageList||[]).forEach((function(i){(e.prodList||[]).forEach((function(o){var n=Object(s["a"])({},o);n.hgTag=e.promotionInfo&&e.promotionInfo.hgTag||0,n.hostScId=i.hostScId,n.purchaseNum=i.purchaseNum||i.num,n.num=i.num,n.scId=i.scId,n.checked=i.checked,n.stockDesc=i.stockDesc,n.unable=0==i.num,n.unable&&(n.checked=!1),t(n)}))}))}))}))},checkMinOrderNum:function(e,i){var s=this;if(e){var o=[];e.forEach((function(t){var e=o.filter((function(e){return e.id==t.id})),i={id:t.id,minOrderNum:t.minOrderNum,purchaseNums:[t.purchaseNum]};0==e.length?o.push(i):e[0].purchaseNums.push(t.purchaseNum)}));var n=[],a=[];if(o.forEach((function(t){var e=0;t.purchaseNums.forEach((function(t){e+=t})),e<t.minOrderNum&&n.push(t.id)})),e.forEach((function(t){if(-1!=n.indexOf(t.id)){var e=s.miniNumProdList.filter((function(e){return e.scId==t.scId}));if(0==e.length)s.miniNumProdList.push(t);else{var i=s.miniNumProdList.findIndex((function(e){return e.scId==t.scId}));-1!=i&&s.miniNumProdList.splice(i,1,t)}}})),this.traverseShoppingCartList((function(t){var e=s.miniNumProdList.filter((function(e){return t.scId==e.scId}));e.length>0&&(t.isEnable=!0);var i=-1!=n.indexOf(t.id);i&&(t.checked||t.isEnable)&&a.push(t)})),n.length>0){var r=this.prodCurrent&&this.prodCurrent.id&&-1!=n.indexOf(this.prodCurrent.id);(r||i)&&t.showToast({title:this.$t("shoppingcart.quantity_merchant")})}return a}},setSelectList:function(){var t=[];this.list.forEach((function(e){var i=e.sellerInfo.id;for(var s in e.promotionGroup)for(var o in e.promotionGroup[s].prodList){var n=e.promotionGroup[s].prodList[o];n.isSelect=n.checked}var a={};a[i]=e,t.push(a)})),this.selectList=t},isContainPresale:function(t){var e=t.filter((function(t){return 2==t.type}));if(e.length>0)return this.showToast({title:this.$t("shoppingcart.sorry_overdue")}),!0;var i=t.filter((function(t){return!t.type&&9==t.activityType}));return t.length>1&&i.length>0&&(this.showToast({title:this.$t("shoppingcart.sorry_separate")}),!0)},selectDisabled:function(t){return this.isSymbolMultiple(t)||this.isDomesticMultiple(t,!0)||this.isPayCompanyMultiple(t)||this.isDeliveryNoIntersection(t)||this.isTravelerProductMixture(t)||this.isContainPresale(t)},isSymbolMultiple:function(t){var e=new Set;return t.forEach((function(t){e.add(t.symbol)})),e.size>1&&(this.showToast({title:this.$t("shoppingcart.sorry_currency")}),!0)},isPayCompanyMultiple:function(t){var e=new Set;return t.forEach((function(t){e.add(t.payCompany)})),e.size>1&&(this.showToast({title:this.$t("shoppingcart.different_payment")}),!0)},isDeliveryNoIntersection:function(t){var e=[];if(t.forEach((function(t){t.deliveryPattern&&e.push(t.deliveryPattern)})),e.length>1)for(var i=e[0].expressDelivery,s=e[0].collectionGoods,o=0;o<e.length;o++){var n=e[o],a=n.expressDelivery==i&&i||n.collectionGoods==s&&s;if(!a)return this.showToast({title:this.$t("shoppingcart.sorry_distribution")}),!0}return!1},isTravelerProductMixture:function(t){var e=new Set;return t.forEach((function(t){void 0!=t.travelerProduct&&e.add(t.travelerProduct)})),e.size>1&&(this.showToast({title:this.$t("shoppingcart.sorry_travel")}),!0)},getNationTypeTip:function(t){var e="";return t.size<=1||(t.has(1)&&t.has(2)&&t.has(3)?e=this.$t("shoppingcart.nation_type_123"):t.has(1)&&t.has(2)?e=this.$t("shoppingcart.nation_type_12"):t.has(1)&&t.has(3)?e=this.$t("shoppingcart.nation_type_13"):t.has(2)&&t.has(3)&&(e=this.$t("shoppingcart.nation_type_23"))),e},showNationTypeModal:function(e){var i=this;t.showModal({content:this.getNationTypeTip(e),confirmText:this.$t("shoppingcart.i_see"),showCancel:!1,success:function(t){t.confirm&&i.isOrderDetail&&i.handleBack()}})},isDomesticMultiple:function(t,e){var i=new Set;return t.forEach((function(t){i.add(t.nationType)})),i.size>1&&(e&&(this.showNationTypeModal(i),this.showProdTag=!0),!0)},showToast:function(e){var i=this,s=e.title;this.toastShowing=!0,t.showToast({title:s,duration:2e3}),setTimeout((function(){i.toastShowing=!1}),2e3)},joinProd:function(t){var e=0;return 1==t.tradingSpecial&&(e="1,".concat(t.activityId||0,",").concat(t.activityType||0)),"".concat(t.catalogid||t.catalogId,",").concat(t.purchasenum||t.purchaseNum,",").concat(t.purchaseprice||t.price||0,",").concat(t.deliveryType||t.deliverytype||"-1",",").concat(t.hgActivityId,",").concat(t.hgProduct,",").concat(e)},stringifyProds:function(t){if(t&&t.length){var e=t.map(this.joinProd);return encodeURIComponent(JSON.stringify(e))}return[]},onCheckDomesticAll:function(t){var e=this,i=t.checked,s=t.nationType,o=new Set;if(o.add(s),this.traverseShoppingCartList((function(t){t.checked&&o.add(t.nationType)})),o.size>1)this.showNationTypeModal(o);else{var n=i,a=[];this.list.forEach((function(t){var e=t.promotionGroup.filter((function(t){return t.nationType==s}));a=a.concat(e)}));var r=[];if(a.forEach((function(t){t.prodList.forEach((function(t){r.push(t)}))})),this.isEdit){var c=[];return a.forEach((function(t){t.prodList.forEach((function(t){t.type||c.push(t)}))})),void this.requestCheck(c,n,(function(){e.requestCartList(!1)}))}if(n){if(this.selectDisabled(r))return;var l=[];a.forEach((function(t){t.prodList.forEach((function(t){t.minOrderNum>0&&l.push(t)}))})),this.checkMinOrderNum(l,!0)}else this.traverseShoppingCartList((function(t){t.nationType==s&&(t.isSelect=!1)}));var p=[];a.forEach((function(t){t.prodList.forEach((function(t){t.isSelect||p.push(t)}))})),this.requestCheck(p,n,(function(){e.requestCartList(!1)}))}},requestHgprods:function(e){var i=this;this.showLoading(),t.request({url:"/api/trading/sqscarteachhgprod",method:"post",data:{catalogId:e.catalogId,hostCatalogId:e.hostCatalogId}}).then((function(e){e.success?i.requestCartList():t.showToast({title:"选择失败"})})).catch((function(e){t.showToast({title:e.message||e.msg})}))},matchPromotionProductToScartProduct:function(){var t=this;this.traverseShoppingCartList((function(e){e.eachPromotionProdList=[],t.traverseEachHgGroupList((function(t){t.hostScId==e.scId&&(e.checked||(t.unable=!0),t.hostCatalogId=e.catalogId,e.eachPromotionProdList.push(t))}))}))},getMultipleStoresCartList:function(){var e=this;t.request({url:"/api/trading/sqscartbymultiplestores",method:"get"}).then((function(t){t&&t.list&&t.list.length?e.multipleStoresCart.list=t.list:e.multipleStoresCart.list=[],e.figureIsEmpty()})).catch((function(t){e.multipleStoresCart.list=[]}))},changeMultipleStore:function(e){e&&(t.ylog.send({action_type:"click",module_name:"changeMultipleShop",sellerid:e.id,seller_name:e.name}),t.isBuyerApp?(wx.setMchId(e.id),wx.reloadPage()):(d["a"].setLocalMchId(e.id),t.redirectTo({url:"/pages/shoppingcart/main"})))},getUserInfo:function(e){var i=this;t.request("/api/usercenter/squserinfo").then((function(t){i.userInfo=t||{}})).catch((function(e){t.hideLoading(),t.showToast({title:e.msg||e.message})}))},changeShoppingCartCouponDialogStatus:function(t){this.shoppingCartCouponDialogShow="close"!==t&&!this.shoppingCartCouponDialogShow}}}}).call(this,i("7189")["default"])},d138:function(t,e,i){"use strict";i("a4d3"),i("e01a");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"empty"},[e("div",{staticClass:"empty-container",style:{top:t.top?t.top:"50%"}},[e("img",{staticClass:"empty-img",style:{width:t.imageWidth/2+"px",height:t.imageHeight/2+"px"},attrs:{src:t.image}}),e("div",{style:{color:t.descriptionColor}},[t._v(t._s(t.description))]),t.description2?e("div",[t._v(t._s(t.description2))]):t._e(),t._t("default")],2)])},o=[],n=(i("a9e3"),{props:{image:{type:String,default:""},imageWidth:{type:Number,default:300},imageHeight:{type:Number,default:180},descriptionColor:{type:String,default:""},top:{type:String},description:{type:String,default:""},description2:{type:String,default:""}}}),a=n,r=(i("33c1"),i("2877")),c=Object(r["a"])(a,s,o,!1,null,"f41624b8",null);e["a"]=c.exports},d96b:function(t,e,i){"use strict";i("4946")},e7b1:function(t,e,i){"use strict";(function(t){var s=i("5530"),o=(i("a9e3"),i("99af"),i("4de4"),i("d3b7"),i("159b"),i("3f06"));e["a"]={components:{"cart-product":o["a"]},name:"cart-product-group",props:{sellerInfo:Object,originData:Array,promotionGroup:Array,isSelect:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},showProdTag:{type:Boolean,default:!1},prodIndex:Array,id:Number,memberGrade:{type:Object,value:{}}},data:function(){return{sellerSelect:!1,promotion_backcolor:"#FFF4F4",normal_backcolor:"white",prodListLength:0}},methods:{handleComponentsTap:function(t){var e=t.catchtype,i=t.prodIndex,o=t.purchaseNum,n=this.id;"redeem_collect"===e&&(n=t.id),this.$emit("handleComponentsTap",Object(s["a"])({catchtype:e,prodIndex:i,purchaseNum:o,id:n},t))},getPurchaseNum:function(t){this.$emit("getPurchaseNum",{prodIndex:t.prodIndex,purchaseNum:t.purchaseNum,prodItem:t.prodItem,id:this.id})},inputConfirm:function(t){this.$emit("inputConfirm",{prodIndex:t.prodIndex,purchaseNum:t.purchaseNum})},handleTap:function(t){var e=t.catchtype;this.$emit("handleComponentsTap",{catchtype:e})},gotoPromotion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.id,s=e.type,o=void 0===s?0:s;t.navigateTo({url:"/pages/moneyoff/main?id=".concat(i,"&type=").concat(o)})},getMatchList:function(t,e){return e.filter((function(e){return(e.nationType||1)==t}))},checkedAll:function(t,e){for(var i=this.getMatchList(t,e),s=0;s<i.length;s++){var o=i[s].prodList,n=o.filter((function(t){return!t.checked&&!t.selectReady}));if(n.length)return!1}return!0},showHeader:function(t){var e=[];return t.forEach((function(t){-1==e.indexOf(t.nationType)&&e.push(t.nationType)})),e.length>1},onCheck:function(t){this.$emit("onCheckAll",t)}}}}).call(this,i("7189")["default"])},f4e6:function(t,e,i){},f865:function(t,e,i){},fa9f5:function(t,e,i){}});