(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search-bar"],{"02de":function(t,e,a){"use strict";function i(t){var e=window.getComputedStyle(t),a="none"===e.display,i=null===t.offsetParent&&"fixed"!==e.position;return a||i}a.d(e,"a",(function(){return i}))},"0cc8":function(t,e,a){"use strict";a("68ef"),a("ae9e")},1974:function(t,e,a){"use strict";a("2930")},2532:function(t,e,a){"use strict";var i=a("23e7"),r=a("e330"),s=a("5a34"),o=a("1d80"),n=a("577e"),c=a("ab13"),l=r("".indexOf);i({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~l(n(o(this)),n(s(t)),arguments.length>1?arguments[1]:void 0)}})},2930:function(t,e,a){},3104:function(t,e,a){"use strict";var i=a("02de"),r=a("ea8e"),s=a("d282"),o=a("a142"),n=a("a8c1"),c=a("5fbe"),l=Object(s["a"])("sticky"),h=l[0],p=l[1];e["a"]=h({mixins:[Object(c["a"])((function(t,e){if(this.scroller||(this.scroller=Object(n["d"])(this.$el)),this.observer){var a=e?"observe":"unobserve";this.observer[a](this.$el)}t(this.scroller,"scroll",this.onScroll,!0),this.onScroll()}))],props:{zIndex:[Number,String],container:null,offsetTop:{type:[Number,String],default:0}},data:function(){return{fixed:!1,height:0,transform:0}},computed:{offsetTopPx:function(){return Object(r["b"])(this.offsetTop)},style:function(){if(this.fixed){var t={};return Object(o["c"])(this.zIndex)&&(t.zIndex=this.zIndex),this.offsetTopPx&&this.fixed&&(t.top=this.offsetTopPx+"px"),this.transform&&(t.transform="translate3d(0, "+this.transform+"px, 0)"),t}}},watch:{fixed:function(t){this.$emit("change",t)}},created:function(){var t=this;!o["g"]&&window.IntersectionObserver&&(this.observer=new IntersectionObserver((function(e){e[0].intersectionRatio>0&&t.onScroll()}),{root:document.body}))},methods:{onScroll:function(){var t=this;if(!Object(i["a"])(this.$el)){this.height=this.$el.offsetHeight;var e=this.container,a=this.offsetTopPx,r=Object(n["c"])(window),s=Object(n["a"])(this.$el),o=function(){t.$emit("scroll",{scrollTop:r,isFixed:t.fixed})};if(e){var c=s+e.offsetHeight;if(r+a+this.height>c){var l=this.height+r-c;return l<this.height?(this.fixed=!0,this.transform=-(l+a)):this.fixed=!1,void o()}}r+a>s?(this.fixed=!0,this.transform=0):this.fixed=!1,o()}}},render:function(){var t=arguments[0],e=this.fixed,a={height:e?this.height+"px":null};return t("div",{style:a},[t("div",{class:p({fixed:e}),style:this.style},[this.slots()])])}})},"55cc":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC20lEQVRYR8WXvW/TUBDA72xXMLQDEpPbJQOiEhIrW2GAgW9YmBigxE5bPoTEApv/AgQqNPK9kAYJCdSFD0EZqAR0ghUxgDrAQCMQqAwFCZyXd+iJl8gpSWzaunmb7Xt3v3d37+6M0OOFPbYPqQDy+fyQZVlHAeAgAOwEgK0G/BsAvAGAJ0qph6VS6dP/HqgrwOjoqNvX1xcw82kAcBKUS0ScrtVqQblcrqYF6Qjged4RRLwDAANplRm5ZWY+KYR4lGZfW4BCoXCema8BgBVTMmdZ1gwiziPion7PzIPMPKKUOgEAe2OyChEvhmE4mQTxD4A5+f2Y8QVm9oQQL7sp8zxvNyIKANhm5BQzH0/yRAuAjrnjOO9ibp+3bftYsVj8nnQS/X18fHxLvV5/AAAjjXBIKYe75UQLQKFQIH1as3nBtu1daY03AA3E64YntFfCMPQ7HaAJYK7ah0a2M/OeJLd3UmrC8cJ8l0qpXKcr2gTwff8sANwwm+aIaF8at3eS8X3/WSwxzxHRzXaycYBZANhvstsXQuiEWvUaGxvzlFJkFDwlogNJALqKDWoh27aHi8Xi+1Vb/5uQ2+v1uk5ovRaJaCgJ4BcAbNJCjuMMTE1N/VgLwMTERL+Uctno+E1Em3sJ8JOI+pMAsgzBRyLKJQFkloSI+DgMw8NJAJldQ0S8FIbh1a4AGRaiSEqZ61SOMy/FAHCbiE4llmItkEEzWoqiaEelUvmcCkALrWM71vPCrBDikB4dUgNowU4DCTPPOI7TMpBIKUcQceVA0rTHzLeEELrDtoXIYiRbYuZXiNis/d0g1nMojQDgbhRFlyuVyhfP8wQinom5vuy6rhcEgYqHYy1juQSAr4j4FgCe12q1eyuuGraBmHZdNx+HSAWwhqaEvu+X9AVr6GDmSSHEhcZz1gAQBIFVrVY1hP630KulMWUOoC0aiOsGYpKIrmyYB5LCtyEe6AbRc4A/O6aPMNFlodoAAAAASUVORK5CYII="},"69c5":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"wrap-areas"},[t.isDev?[t.item.picUrl?e("div",{staticClass:"image"},[e("specialImage",{attrs:{url:t.item.picUrl},on:{load:t.load,tap:t.handleDefaultTap}})],1):e("div",{staticClass:"image-demo"})]:[t.item.picUrl?e("div",{staticClass:"image"},[e("specialImage",{attrs:{url:t.item.picUrl},on:{load:t.load,tap:t.handleDefaultTap}})],1):t._e()],t.item.hotAreas&&t.item.hotAreas.length>0?e("div",{staticClass:"areas",style:{width:"".concat(t.hotAreasWidth,"rem")},on:{click:function(e){return e.stopPropagation(),t.handleDefaultTap.apply(null,arguments)}}},[t._l(t.item.hotAreas,(function(a,i){return[e("div",{key:i,staticClass:"areas__item",style:{top:"".concat(a.areaY*t.hotAreasWidth,"rem"),left:"".concat(a.areaX*t.hotAreasWidth,"rem"),width:"".concat(a.areaWidth*t.hotAreasWidth,"rem"),height:"".concat(a.areaHeight*t.hotAreasWidth,"rem")},on:{click:function(e){return e.stopPropagation(),t.handleClick(a)}}})]}))],2):t._e()],2)])},r=[],s=a("d63b"),o=s["a"],n=(a("1974"),a("2877")),c=Object(n["a"])(o,i,r,!1,null,"a27cd3a4",null);e["a"]=c.exports},"82b8":function(t,e,a){"use strict";(function(t){var i=a("5530"),r=(a("a9e3"),a("7db0"),a("d3b7"),a("2c3e"),a("99af"),a("69c5")),s=(a("fe47"),a("a8f5"));e["a"]={components:{hotpotImg:r["a"]},props:{part:{type:Object},parts:{type:Array},pageStyleMode:{type:Number},sellerInfo:{type:Object},ylogParams:{type:Object,default:function(){return{}}}},data:function(){return{customHeight:null,luxuryStyle:24!==t.skinManager.getHomeDefalutMargin()}},computed:{partProps:function(){return this.part&&this.part.partProps?this.part.partProps:{type:1}},leftPic:function(){var t="";if(this.parts&&this.parts.length){var e=this.parts.find((function(t){return"shop-header"===t.skinCode}));e&&e.partProps&&e.partProps.leftPic&&(t=e.partProps.leftPic)}return t},customStyle:function(){var e={height:t.toRem(96)};return this.customHeight&&(e.height="".concat(this.customHeight,"px")),this.partProps.sticky&&(e.overflow="hidden"),e},cardBgStyle:function(){var e={};this.partProps&&!this.partProps.hideModuleColor&&(e.backgroundColor=this.partProps.moduleColor||"white");var a=t.skinManager.getHomeDefalutMargin()||24;return e.padding="".concat(t.toRem(20),"rem ").concat(t.toRem(a),"rem"),e},imgData:function(){var t=this.partProps,e=t.picUrl,a=t.hotAreas;return{picUrl:e,hotAreas:a}},hotAreasWidth:function(){return t.toRem(750)}},methods:{toSearch:function(){t.ylog.send(Object(i["a"])({action_type:"click",sub_module_name:"more",target_type:15},this.ylogParams)),t.navigateTo({url:"/pages/search/main?sourcePage=default&topicId=".concat(this.part.partId)})},handleClick:function(e){var a=this;if(23===e.linkType)return t.ylog.send({action_type:"service",sub_module_name:"service",target:"service",target_type:"联系客服"}),t.store.getAppImUrl()?void t.navigateTo({url:t.store.getAppImUrl()}):void t.showModal({title:this.$t("skins.uestions_we_chat"),content:this.sellerInfo.customerServiceId,confirmText:this.$t("skins.one_copy"),success:function(e){e.confirm&&t.setClipboardData({data:String(a.sellerInfo.customerServiceId)}).then((function(){t.showToast({title:a.$t("skins.we_chat_copied")})})).catch((function(){t.showToast({title:a.$t("skins.we_chat_copy_failed")})}))}});Object(s["b"])(e,this.ylogParams)},noop:function(){},handleLoadPic:function(t){this.customHeight=t,this.partProps.sticky&&this.$emit("onStickyHeight",this.$refs.searchBar,t)}}}}).call(this,a("7189")["default"])},"898d":function(t,e,a){},9853:function(t,e,a){},ae9e:function(t,e,a){},b023:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return t.ignoreLazy?e("div",{staticClass:"special-img"},[t.norImgUrl?e("img",{ref:"pic",staticClass:"img img--normal",attrs:{src:t.norImgUrl},on:{load:t.handleImgLoad,click:function(e){return e.stopPropagation(),t.handleTap.apply(null,arguments)}}}):t._e(),t.gifImgUrl?e("img",{staticClass:"img img--gif",attrs:{src:t.gifImgUrl},on:{click:function(e){return e.stopPropagation(),t.handleTap.apply(null,arguments)}}}):t._e()]):e("div",{staticClass:"special-img"},[t.norImgUrl?e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.norImgUrl,expression:"norImgUrl"}],ref:"pic",staticClass:"img img--normal",on:{load:t.handleImgLoad,click:function(e){return e.stopPropagation(),t.handleTap.apply(null,arguments)}}}):t._e(),t.gifImgUrl?e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.gifImgUrl,expression:"gifImgUrl"}],staticClass:"img img--gif",on:{click:function(e){return e.stopPropagation(),t.handleTap.apply(null,arguments)}}}):t._e()])},r=[],s=a("fae7"),o=s["a"],n=(a("b277"),a("2877")),c=Object(n["a"])(o,i,r,!1,null,"5ecb013a",null);e["a"]=c.exports},b277:function(t,e,a){"use strict";a("9853")},b502:function(t,e,a){"use strict";a.r(e);a("2c3e");var i=function(){var t=this,e=t._self._c;return 1!==t.partProps.type&&t.partProps.sticky&&!t.isDev?e("Sticky",{ref:"searchBar",attrs:{"offset-top":t.offsetTop},on:{change:t.handleStickyChange}},[e("SearchBar",{attrs:{ylogParams:t.ylogParams,part:t.part,parts:t.parts,sellerInfo:t.sellerInfo},on:{onStickyHeight:t.handleStickyArrHeight}})],1):e("SearchBar",{attrs:{ylogParams:t.ylogParams,part:t.part,parts:t.parts,sellerInfo:t.sellerInfo}})},r=[],s=(a("0cc8"),a("3104")),o=function(){var t=this,e=t._self._c;return e("div",[1===t.partProps.type?e("div",{staticClass:"search-bar",on:{click:t.noop}},[e("div",{staticClass:"search-bar_main",on:{click:t.toSearch}},[e("img",{attrs:{src:a("fccf"),alt:"",srcset:""}}),e("input",{attrs:{type:"search",placeholder:t.$t("skins.search_stores_store")}})])]):[2==t.partProps.styleType&&t.partProps.picUrl?e("div",{ref:"searchBar",staticClass:"search-bar-custom",style:t.customStyle},[e("hotpotImg",{attrs:{item:t.imgData,hotAreasWidth:t.hotAreasWidth},on:{handleClick:t.handleClick,load:t.handleLoadPic,handleDefaultTap:t.toSearch}})],1):e("div",{staticClass:"container",style:t.cardBgStyle},[t.leftPic?e("img",{staticClass:"container__logo",attrs:{src:t.leftPic,alt:""}}):t._e(),e("div",{class:["search_bar_shop",{"search_bar-luxury":t.luxuryStyle}],on:{click:t.toSearch}},[e("img",{attrs:{src:a("55cc"),alt:"",srcset:""}}),e("p",[t._v(t._s(t.$t("skins.search_for_goods")))])])])]],2)},n=[],c=a("82b8"),l=c["a"],h=(a("dfc2"),a("2877")),p=Object(h["a"])(l,o,n,!1,null,"18ca5d77",null),u=p.exports,d=a("f354"),f={name:"search-bar",mixins:[d["a"]],components:{Sticky:s["a"],SearchBar:u},props:{part:{type:Object},parts:{type:Array},sellerInfo:{type:Object},isDev:{type:Boolean,value:!1},stickyData:{type:Object}},data:function(){return{offsetTop:0,isFirstFixed:!0}},computed:{partProps:function(){return this.part&&this.part.partProps?this.part.partProps:{type:1}}},watch:{part:"initDataRefresh",stickyData:{handler:function(t){t&&this.getOffsetTop()}}},mounted:function(){this.initDataRefresh({firstLoad:!0})},methods:{initDataRefresh:function(t){console.log("data",t),!t.firstLoad&&this.isDev||!this.partProps.sticky||1!==this.partProps.type&&this.partProps.picUrl||this.handleStickyArrHeight(this.$refs.searchBar.$el)},handleStickyArrHeight:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e||t.offsetHeight;this.$emit("changeStickyData",{changeData:{height:a},partId:this.part.partId})},handleStickyChange:function(t){t&&this.getOffsetTop(),this.$emit("changeStickyData",{changeData:{sticky:t},partId:this.part.partId})},getOffsetTop:function(){for(var t=this.stickyData,e=0,a=0;e<t.stickyArr.length;e++){var i=t.stickyArr[e];if(i.partId===this.part.partId)break;"top"==i.position&&(a+=i.height||0)}this.offsetTop=a>0?a-1:a}}},g=f,m=Object(h["a"])(g,i,r,!1,null,null,null);e["default"]=m.exports},d63b:function(t,e,a){"use strict";(function(t){a("a9e3");var i=a("b023");e["a"]={components:{specialImage:i["a"]},props:{item:{type:Object,default:function(){return{}}},hotAreasWidth:{type:Number,default:t.toRem(750)},isDev:{type:Boolean,default:!1}},methods:{handleClick:function(t){this.$emit("handleClick",t)},handleDefaultTap:function(){this.$emit("handleDefaultTap")},load:function(t){this.$emit("load",t)}}}}).call(this,a("7189")["default"])},dfc2:function(t,e,a){"use strict";a("898d")},f354:function(t,e,a){"use strict";(function(t){var i=a("5530"),r=(a("caad"),a("2532"),a("d3b7"),a("b00c")),s=function(){},o={props:{isDev:{type:Boolean,default:!1},pageData:{type:Object,default:function(){return{}}},ylogParams:{type:Object,default:function(){return{}}}},methods:{getLinkData:function(t){var e=this.pageData&&this.pageData.tempCode||"";return[r["c"].BRAND_SUBJECT,r["c"].INBUY_SUBJECT].includes(e)&&(t.partId=this.part.partId||"",r["c"].BRAND_SUBJECT===e&&(t.brandId=this.pageData.brandId||""),r["c"].INBUY_SUBJECT===e&&(t.activityId=this.activityId||"",t.activityType=this.activityType||"")),t},fetchPartData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.part,r=a.partId,s=a.dataItems,o=a.partProps;return this.isDev?Promise.resolve({list:s||[],partProps:o}):r?t.request({url:"/api/prod/shophomepartdata",method:"get",params:Object(i["a"])(Object(i["a"])({},e),{},{PartId:r})}):Promise.reject({message:"partId 不存在"})},fetchPartCenterData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.part,r=a.dataItems,s=a.partProps;return this.isDev?Promise.resolve({list:r||[],partProps:s}):t.request({url:"/api/prod/shopcouponcentercouponlist",method:"get",params:Object(i["a"])({},e)})},getDatas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,i=this.part,r=i.partId,o=i.dataItems,n=i.partProps;this.isDev?e({list:o||[],partProps:n}):r?t.request({url:"/api/prod/shophomepartdata?PartId=".concat(r),method:"get"}).then((function(t){e(t||{})})).catch((function(t){a(t)})):a({message:"partId 不存在"})}}};e["a"]=o}).call(this,a("7189")["default"])},fae7:function(t,e,a){"use strict";(function(t){var i=a("a026"),r=a("caf9");i["default"].use(r["a"]),e["a"]={props:{dataset:{type:Object,default:function(){return{}}},ignoreLazy:{type:Boolean,default:!1},url:{type:String}},data:function(){return{norImgUrl:"",gifImgUrl:""}},watch:{url:{immediate:!0,handler:function(e){var a=t.parseImgUrl(e),i=a.imgUrl,r=a.maskUrl,s=void 0===r?"":r;this.norImgUrl=i,this.gifImgUrl=s}}},methods:{handleImgLoad:function(){this.$emit("load",this.$refs.pic.clientHeight),this.$emit("updateImageHeight",{height:this.$refs.pic.naturalHeight,width:this.$refs.pic.naturalWidth},this.dataset)},handleTap:function(t){this.$emit("tap",t)}}}}).call(this,a("7189")["default"])},fccf:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcBAMAAACAI8KnAAAAGFBMVEV4eHhHcEx4eHh4eHh3d3d1dXV4eHh4eHiYK3GwAAAACHRSTlN/AHRYNhQnDEdbSN8AAACtSURBVBjTZZBBDoIwEEV/CrofoXZbAffFcADQxLV4Aki8QOP9E6eFaql/0fTN70xnBkQkb1p0IzmBSBmwsnHFCfX9dcF+wRKNu1wxeJwy61AZZ0Oi9UXoDc5GIeyCSnMcj5xW9TvG/hTwwAZMG7DIGPUQsBSMmAMe8Y/J46RU8lHSRtKkP32qi38HlCbfji/GeDmNPsers0+24RdbVZ0lyTboJ7ZjZDtGtjco6w8OCiXTDDyx0gAAAABJRU5ErkJggg=="}}]);