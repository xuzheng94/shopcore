(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shop-sale","space"],{"120f":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"base-wrap"},[t.showSpaceTop?e("space",{attrs:{isDev:t.isDev,isActive:t.isActive,position:"top",spaceSize:t.partProps.spaceTop,pageStyleMode:t.pageStyleMode,spaceType:t.spaceType}}):t._e(),t._t("default"),e("space",{attrs:{isDev:t.isDev,isActive:t.isActive,position:"bottom",spaceSize:t.partProps.spaceBottom,pageStyleMode:t.pageStyleMode,spaceType:t.spaceType}})],2)},o=[],i=(a("a9e3"),a("eca1")),r={components:{space:i["default"]},props:{partProps:{type:Object},showSpaceTop:{type:Boolean,default:!0},spaceType:{type:String,default:"large"},isDev:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},pageStyleMode:{type:Number,default:1}}},p=r,n=(a("eeef"),a("2877")),c=Object(n["a"])(p,s,o,!1,null,"540e39ed",null);e["a"]=c.exports},2532:function(t,e,a){"use strict";var s=a("23e7"),o=a("e330"),i=a("5a34"),r=a("1d80"),p=a("577e"),n=a("ab13"),c=o("".indexOf);s({target:"String",proto:!0,forced:!n("includes")},{includes:function(t){return!!~c(p(r(this)),p(i(t)),arguments.length>1?arguments[1]:void 0)}})},"2bde":function(t,e,a){"use strict";a("9528")},"3c9b":function(t,e,a){"use strict";(function(t){var s=a("5530"),o=(a("a9e3"),a("120f"));e["a"]={components:{baseWrap:o["a"]},props:{partProps:{type:Object},spaceType:{type:String,default:"large"},pageStyleMode:{type:Number,default:1},showSpaceTop:{type:Boolean,default:!0},showBg:{type:Boolean},isDev:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},hideSpace:{type:Boolean}},data:function(){return{props:{},spaceStyle:{}}},computed:{innerStyle:function(){var t={};return this.spaceStyle&&(t=Object(s["a"])(Object(s["a"])({},t),this.spaceStyle)),this.showBg&&(t=Object(s["a"])(Object(s["a"])({},t),this.cardBgStyle(this.props))),t}},watch:{partProps:{immediate:!0,handler:function(e){if(e){var a=Object(s["a"])({},e),o={};if(this.hideSpace)a.spaceLeft=0,a.spaceRight=0;else{var i=t.skinManager.getHomeDefalutMargin()||24;"number"!==typeof a.spaceLeft&&(a.spaceLeft=i),"number"!==typeof a.spaceRight&&(a.spaceRight=i)}"number"===typeof a.spaceLeft&&(o={paddingLeft:"".concat(t.toRem(a.spaceLeft),"rem")}),"number"===typeof a.spaceRight&&(o=Object(s["a"])(Object(s["a"])({},o),{},{paddingRight:"".concat(t.toRem(a.spaceRight),"rem")})),this.props=a,this.spaceStyle=o}},deep:!0}},methods:{cardBgStyle:function(){var t={};return this.partProps&&!this.partProps.hideModuleColor&&(t.backgroundColor=this.partProps.moduleColor||"white"),t}}}}).call(this,a("7189")["default"])},"55c4":function(t,e,a){"use strict";(function(t){var s=a("5530"),o=(a("a9e3"),a("d3b7"),a("159b"),a("ef16")),i=a("f354"),r=a("9225"),p={1:r["a"].t("skins.full_piece"),2:r["a"].t("skins.full_fold"),3:r["a"].t("skins.full_reduction"),4:r["a"].t("skins.full_fold_quota")};e["a"]={name:"shop-sale",mixins:[i["a"]],props:{part:{type:Object},isDev:{type:Boolean,default:!1},pageStyleMode:{type:Number},isActive:{type:Boolean,default:!1}},components:{innerWrap:o["a"]},data:function(){return{list:[],showSale:!1,dataMock:{promotionId:"",promotionType:4,promotionName:this.$t("skins.here_fold"),promotionState:1}}},watch:{part:"getList"},computed:{partProps:function(){var t=Object(s["a"])({},this.part&&this.part.partProps||{});return 2===t.styleType&&(t.innerAngle="right"),t},styleModeClass:function(){return 1===this.pageStyleMode||3===this.pageStyleMode?"sales-normal":""},cardBgStyle:function(){var t={};return 1!==this.pageStyleMode&&3!==this.pageStyleMode||this.partProps&&!this.partProps.hideModuleColor&&(t.backgroundColor=this.partProps.moduleColor||"white"),t}},created:function(){this.getList()},methods:{getList:function(){var e=this;if(this.isDev)return this.showSale=!0,void(this.list=this.formatList(this.handleDevData(1)));t.request({url:"/api/prod/shoppromotionlist"}).then((function(t){t.list&&t.list.length?(e.list=e.formatList(t.list),e.showSale=!0):e.showSale=!1})).catch((function(t){console.log(t.message),e.showSale=!1}))},formatList:function(t){return t.forEach((function(t){t.promotionTypeName=p[t.promotionType]||""})),t},goActivity:function(e){e&&(t.ylog.send(Object(s["a"])({action_type:"click",sub_module_name:"more",target_type:10,target:e},this.ylogParams)),t.navigateTo({url:"/pages/moneyoff/main?id=".concat(e)}))},handleDevData:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=[],a=0;a<t;a+=1)e.push(Object(s["a"])(Object(s["a"])({},this.dataMock),{},{id:"FF".concat(a+1)}));return e}}}}).call(this,a("7189")["default"])},"5c03":function(t,e,a){},"5cf3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAcUlEQVQ4T2NkoBAwous/MNlr739GBm7mf/997fK2vyZkPoYB+yd7/YdoYrzC/P+fEyFD8BhAnCEEDCBsCBEG4DeESANwG0KCAeCQPeOYu80UOWboaQD2aCXSBbjTBBEG4E9QtExIZCZlijMTodyHLg8AxQlqEYqlGRYAAAAASUVORK5CYII="},"5e47":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return t.showSale||t.isDev?e("inner-wrap",{attrs:{isDev:t.isDev,isActive:t.isActive,partProps:t.partProps,spaceType:"middle",pageStyleMode:t.pageStyleMode,showBg:!!t.styleModeClass}},[e("div",{class:["sales",t.styleModeClass,{"right-angle":t.part.partProps&&"right"==t.part.partProps.innerAngle}],style:t.styleModeClass?t.cardBgStyle:""},t._l(t.list,(function(s,o){return e("div",{key:o,staticClass:"sale",on:{click:function(e){return t.goActivity(s.promotionId)}}},[e("img",{staticClass:"sale-bg",attrs:{src:a("94ad")}}),e("div",{staticClass:"sale-left"},[e("div",{staticClass:"sale-tag"},[t._v(t._s(s.promotionTypeName))]),e("div",{staticClass:"sale-txt"},[t._v(t._s(s.promotionName))])]),e("div",{staticClass:"sale-right",on:{click:function(e){return e.stopPropagation(),t.goActivity(s.promotionId)}}},[e("span",{staticClass:"sale-right-txt"},[t._v(t._s(t.$t("skins.check")))]),e("img",{staticClass:"arrow",attrs:{src:a("5cf3")}})])])})),0)]):t._e()},o=[],i=a("55c4"),r=i["a"],p=(a("db48"),a("2877")),n=Object(p["a"])(r,s,o,!1,null,"0177cf42",null);e["default"]=n.exports},"64d2":function(t,e,a){},"94ad":function(t,e,a){t.exports=a.p+"static/img/bg_sale_discount.d91cd488.png"},9528:function(t,e,a){},9587:function(t,e,a){"use strict";a("5c03")},cebc:function(t,e,a){},db48:function(t,e,a){"use strict";a("cebc")},e49e:function(t,e,a){"use strict";(function(t){a("a9e3");var s=[{small:{top:0,bottom:24},middle:{top:0,bottom:0},large:{top:0,bottom:0}},{small:{top:0,bottom:32},middle:{top:0,bottom:32},large:{top:0,bottom:48}},{small:{top:0,bottom:24},middle:{top:0,bottom:24},large:{top:0,bottom:24}},{small:{top:0,bottom:32},middle:{top:0,bottom:32},large:{top:0,bottom:48}}];e["a"]={props:{pageStyleMode:{type:Number,value:1},position:{type:String,default:"top"},spaceType:{type:String,default:"large"},spaceSize:{type:[Number,String],default:""},offset:{type:Number,default:0},isDev:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1}},data:function(){return{}},computed:{heightCalc:function(){var e=0;if("number"===typeof this.spaceSize)e=this.spaceSize;else{var a=s[(this.pageStyleMode||1)-1];e=a[this.spaceType||"large"][this.position||"top"]||0}return this.aaa=e-this.offset,"".concat(t.toRem(e-this.offset),"rem")}}}}).call(this,a("7189")["default"])},eca1:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{class:["container",{"container--dev":t.isDev&&t.isActive}],style:{height:t.heightCalc}})},o=[],i=a("e49e"),r=i["a"],p=(a("2bde"),a("2877")),n=Object(p["a"])(r,s,o,!1,null,"5235f330",null);e["default"]=n.exports},eeef:function(t,e,a){"use strict";a("64d2")},ef16:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("base-wrap",{attrs:{partProps:t.props,spaceType:t.spaceType,showSpaceTop:t.showSpaceTop,pageStyleMode:t.pageStyleMode,isDev:t.isDev,isActive:t.isActive}},[e("div",{staticClass:"wrap",style:t.innerStyle},[t._t("default")],2)])},o=[],i=a("3c9b"),r=i["a"],p=(a("9587"),a("2877")),n=Object(p["a"])(r,s,o,!1,null,"82a34ad8",null);e["a"]=n.exports},f354:function(t,e,a){"use strict";(function(t){var s=a("5530"),o=(a("caad"),a("2532"),a("d3b7"),a("b00c")),i=function(){},r={props:{isDev:{type:Boolean,default:!1},pageData:{type:Object,default:function(){return{}}},ylogParams:{type:Object,default:function(){return{}}}},methods:{getLinkData:function(t){var e=this.pageData&&this.pageData.tempCode||"";return[o["c"].BRAND_SUBJECT,o["c"].INBUY_SUBJECT].includes(e)&&(t.partId=this.part.partId||"",o["c"].BRAND_SUBJECT===e&&(t.brandId=this.pageData.brandId||""),o["c"].INBUY_SUBJECT===e&&(t.activityId=this.activityId||"",t.activityType=this.activityType||"")),t},fetchPartData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.part,o=a.partId,i=a.dataItems,r=a.partProps;return this.isDev?Promise.resolve({list:i||[],partProps:r}):o?t.request({url:"/api/prod/shophomepartdata",method:"get",params:Object(s["a"])(Object(s["a"])({},e),{},{PartId:o})}):Promise.reject({message:"partId 不存在"})},fetchPartCenterData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.part,o=a.dataItems,i=a.partProps;return this.isDev?Promise.resolve({list:o||[],partProps:i}):t.request({url:"/api/prod/shopcouponcentercouponlist",method:"get",params:Object(s["a"])({},e)})},getDatas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,s=this.part,o=s.partId,r=s.dataItems,p=s.partProps;this.isDev?e({list:r||[],partProps:p}):o?t.request({url:"/api/prod/shophomepartdata?PartId=".concat(o),method:"get"}).then((function(t){e(t||{})})).catch((function(t){a(t)})):a({message:"partId 不存在"})}}};e["a"]=r}).call(this,a("7189")["default"])}}]);