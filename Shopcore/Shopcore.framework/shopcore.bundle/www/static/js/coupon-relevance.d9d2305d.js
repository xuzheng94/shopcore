(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["coupon-relevance"],{"0eca":function(t,e,i){},1041:function(t,e,i){"use strict";var s=i("9225");e["a"]={methods:{isJPY:function(t){var e=""+t;return e.indexOf("日元")>-1},isMOP:function(t){var e=String(t);return e.length>3||!1},getTaxText:function(t,e){var i=parseInt(t,10),a="";switch(i){case 1:a=s["a"].t("platforms.exemption");break;case 2:a=s["a"].t("platforms.farming");break;case 3:a=s["a"].t("platforms.exemption_farming");break;default:a="";break}return 1===e&&a&&(a=1===i?"":s["a"].t("platforms.farming")),a},showTaxTag:function(t,e){var i=parseInt(t,10),s=1===e?[2,3]:[1,2,3];return s.indexOf(i)>-1},getPriceDesc:function(t,e,i){t=t||"¥";var s=this.isJPY(t)||"欧分"===t;return e||1===i?s?e+t:t+e:""},getMarketPrice:function(t){var e="";if(t){var i=0,s=t.foreign?t.symbol:"¥";t.marketAmount>0?i=t.marketAmount:t.originalPrice>0&&t.originalPrice!==t.price&&(i=t.originalPrice),i>0&&(e=this.isJPY(s)?i+s:s+i)}return e}}}},"1b7a":function(t,e,i){"use strict";i("e7e4")},"546e":function(t,e,i){"use strict";(function(t){var s=i("5530"),a=i("9380"),n=i.n(a),o=(i("66b9"),i("b650")),c=(i("d3b7"),i("7db0"),i("ac1f"),i("1276"),i("a9e3"),i("159b"),i("d81d"),i("99af"),i("5319"),i("fb6a"),i("7fcb")),r=i("603c"),u=i("1041"),l=i("f354"),p=i("617a"),d=i("ab4d"),f=i("a8f5"),v=i("b8dd");function g(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(a){var n=this;if(e&&clearTimeout(e),s){var o=!e;e=setTimeout((function(){e=null}),i),o&&t.apply(this,a)}else e=setTimeout((function(){t.apply(n,a)}),i)}}e["a"]={name:"CouponRelevance",components:{"van-button":o["a"],shareMask:c["a"],couponRelevanceMultiple:d["a"],couponRelevanceSingle:p["a"]},mixins:[l["a"],r["a"],u["a"]],props:["part","pageId","parts"],data:function(){return{pageIndex:1,isXhr:!1,couponList:[],shareUrl:"",showShareDialog:!1,receivedStatus:1,btnText:this.$t("skins.one_collection"),showShareBtn:!1,hasAlreadyClicked:!1,goHome:!1,showBg:!1,recStatus:{UNCLAIMED:1,RECEIVED:2},couStatus:{ONSELL:1,SOLDOUT:2}}},watch:{part:"getPartData"},mounted:function(){this.getPartData()},methods:{getPartData:function(){var e=this;return this.isXhr?Promise.reject():(t.showLoading({title:this.$t("common.loading",["……"])}),this.isXhr=!0,this.fetchPartData({pageIndex:this.pageIndex}).then((function(i){if(t.hideLoading(),e.isXhr=!1,e.isDev){var s=e.part.dataItems,a=void 0===s?[]:s;return e.couponList=Object(v["a"])(a),void(a.length>0&&(e.showShareBtn=!0,e.showBg=!0))}if(i){var o=i.list,c=void 0===o?[]:o;e.couponList=c;var r=c.some((function(t){return 1===t.status})),u=c.every((function(t){return 2===t.status})),l=n()(e.couponList,{status:1})||[],p=l.some((function(t){return t.couponStatus===e.couStatus.ONSELL&&t.receivedStatus===e.recStatus.UNCLAIMED})),d=l.some((function(t){return t.receivedStatus===e.recStatus.RECEIVED}));r?p?(e.btnText=e.$t("skins.one_collection"),e.showShareBtn=!0):d?(e.btnText=e.$t("skins.back_home_page"),e.hasAlreadyClicked=!0,e.goHome=!0,e.showShareBtn=!0):(e.btnText=e.$t("skins.back_home_page"),e.goHome=!0,e.showShareBtn=!0):u?(e.btnText=e.$t("skins.one_collection"),e.showShareBtn=!0):(e.btnText=e.$t("skins.back_home_page"),e.goHome=!0,e.showShareBtn=!0)}})).catch((function(){t.hideLoading(),e.isXhr=!1})))},goToShare:g((function(){var e=this;if(t.auth.islogin())if(this.pageId){var i=(this.parts.find((function(t){var e=t.skinCode.split("@");return e.length>1?e[0]:"one-img-text"===t.skinCode}))||{}).partId;if("undefined"!==typeof i){t.showLoading({title:this.$t("common.loading",["……"])}),t.ylog.send({action_type:"click",module_name:"share"});var a={pageId:Number(this.pageId),partId:i};t.getShareData().then((function(i){t.request({url:"/api/prod/sqshareposter",method:"post",data:Object(s["a"])(Object(s["a"])({},a),i)}).then((function(i){t.hideLoading(),i.shareUrl?(e.shareUrl=i.shareUrl,e.showShareDialog=!0):t.showToast({title:i.msg||e.$t("skins.sharing_failed")})})).catch((function(i){t.hideLoading(),t.showToast({title:i.message||e.$t("skins.sharing_failed"),icon:"none"})}))}))}else t.showToast({title:this.$t("skins.part_not_exist")})}else t.showToast({title:this.$t("skins.part_not_exist")});else t.auth.tologin()})),getCoupons:g((function(){var e=this;if(t.auth.islogin())if(this.goHome)if(this.part.partProps.linkData&&"0"!==String(this.part.partProps.linkData.linkType)&&this.hasAlreadyClicked)Object(f["b"])(this.part.partProps.linkData);else{if(t.isMiniApp){var i=Number(t.getQuery().delta);if(i>1||t.isBuyerApp)return void t.navigateBack({delta:1})}Object(f["b"])({linkType:999})}else{if(t.showLoading({title:this.$t("skins.received")}),this.couponList&&this.couponList[0].lastTimeDesc){if(Math.floor(new Date/1e3)<this.couponList[0].lastTime)return void t.showToast({title:this.couponList[0].lastTimeDesc});this.couponList.forEach((function(t){2==t.status&&(t.status=1,t.changeStatus=!0)}))}var s=n()(this.couponList,{status:1,couponStatus:this.couStatus.ONSELL,receivedStatus:this.recStatus.UNCLAIMED})||[];t.ylog.send({action_type:"click",module_name:"receive",coupons:s.map((function(t){return t.batchCode}))});var a={batchCodes:s.map((function(t){return t.batchCode}))};t.request({url:"/api/usercenter/sqreceivecoupon",method:"post",data:a}).then((function(i){if(t.hideLoading(),i){var s=i.successBatchCodes.length||0,a=e.couponList.length||0;s<a&&s>0?(t.showToast({title:e.$t("skins.receive_successful_number")}),e.couponList&&e.couponList[0].lastTimeDesc&&e.couponList.forEach((function(t){if(t.changeStatus){var e=!1;1==t.status&&(i.successBatchCodes.forEach((function(i){t.batchCode===i&&(e=!0)})),e||(t.status=2))}delete t.changeStatus}))):s===a&&t.showToast({title:e.$t("skins.received_success")}),e.hasAlreadyClicked=!0,e.goHome=!0,e.btnText=e.$t("skins.back_home_page")}else t.showToast({title:i.msg||e.$t("skins.receive_coupons_fail"),className:"member-error-msg"})})).catch((function(i){t.hideLoading(),t.showToast({title:i.message||e.$t("skins.receive_coupons_fail"),icon:"none",className:"member-error-msg"})}))}else t.auth.tologin()})),getCouponDate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.validStart,i=t.validEnd,s=t.effectiveType,a=t.timeDesc;return 1===s?a:"".concat(e.replace(/-/g,"."),"-").concat(i.slice(5).replace(/-/g,"."))}}}}).call(this,i("7189")["default"])},"608a":function(t,e,i){},"617a":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",t._l(t.newCouponList,(function(i,s){return e("div",{key:s,staticClass:"coupon-single",style:{"background-image":"url(".concat(2===i.status||3===i.status?t.canNotCouponSingleBg:t.CouponSingleBg,")")}},[i.receivedStatus===t.recStatus.RECEIVED||t.hasAlreadyClicked?e("img",{staticClass:"coupon-single__icon",attrs:{src:t.$t("skins.img_coupon_already"),alt:""}}):t._e(),i.couponStatus===t.couStatus.SOLDOUT&&i.receivedStatus===t.recStatus.UNCLAIMED?e("img",{staticClass:"coupon-single__icon",attrs:{src:t.$t("skins.img_coupon_zero_multi"),alt:""}}):t._e(),e("div",{class:["coupon-single__info",{"acquire-time-status":2===i.status||3===i.status}]},[40==i.couponType?e("div",{staticClass:"info__price"},[e("div",{staticClass:"info__price-div"},[e("div",{staticClass:"info__price__num"},[t._v(t._s(i.couponValue))]),e("div",{staticClass:"info__price__symbol info__price__symbol--jpy"},[t._v(t._s(t.$t("skins.fold")))])])]):5==i.couponType?e("div",{staticClass:"info__price"},[e("div",{staticClass:"info__price__num coinCertificate"},[t._v(t._s(t.$t("skins.exchange_coupon")))])]):e("div",{staticClass:"info__price"},[e("div",{staticClass:"info__price-div"},[t.isJPY(i.currencySymbol)?t._e():e("div",{staticClass:"info__price__symbol"},[t._v(t._s(i.currencySymbol||"¥"))]),e("div",{staticClass:"info__price__num"},[t._v(t._s(i.couponValue))]),t.isJPY(i.currencySymbol)?e("div",{staticClass:"info__price__symbol info__price__symbol--jpy"},[t._v(t._s(i.currencySymbol))]):t._e()])]),e("div",{staticClass:"info__line"}),e("div",{staticClass:"info__desc"},[e("div",{staticClass:"info__desc__limit"},[t._v(t._s(i.desc))]),e("div",{staticClass:"info__desc__date"},[t._v(t._s(t.getCouponDate(i)))]),2===i.status||3===i.status?e("div",{staticClass:"info__desc__acquire-time"},[t._v(t._s(t.$t("skins.receive_time",[t.getCouponAcquireTime(i)])))]):t._e()])]),e("div",{staticClass:"coupon-single__btn"},[e("van-button",{staticClass:"button",on:{click:t.getCoupons}},[t._v(t._s(t.btnText))])],1)])})),0)},a=[],n=(i("66b9"),i("b650")),o=(i("d3b7"),i("159b"),i("a4d3"),i("e01a"),i("ac1f"),i("1276"),i("fb6a"),i("99af"),i("5319"),i("603c")),c=i("1041"),r=i("f354");function u(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(a){var n=this;if(e&&clearTimeout(e),s){var o=!e;e=setTimeout((function(){e=null}),i),o&&t.apply(this,a)}else e=setTimeout((function(){t.apply(n,a)}),i)}}var l={name:"coupon-relevance-single",props:{couponList:{type:Array,default:function(){return[]}},recStatus:{type:Object,default:function(){return{UNCLAIMED:1,RECEIVED:2}}},couStatus:{type:Object,default:function(){return{ONSELL:1,SOLDOUT:2}}},btnText:{type:String},hasAlreadyClicked:{type:Boolean}},mixins:[r["a"],o["a"],c["a"]],components:{"van-button":n["a"]},data:function(){return{canNotCouponSingleBg:i("8a04"),CouponSingleBg:i("e949")}},computed:{newCouponList:function(){var t=this,e=this.couponList;return e.forEach((function(e){e.desc=t.couponDesc(e)})),e}},methods:{couponDesc:function(t){return t.description||this.$t("skins.full_available",[this.getPriceDesc(t.currencySymbol,t.minOrderValue)])},getCoupons:u((function(){this.$emit("clickGetCoupons")})),getCouponDate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.timeDesc,i=t.effectiveType,s=t.validStart,a=t.validEnd;if(e){if(1===i)return e;var n=e.split("-");return n[0]+"-"+n[1].slice(5)}return"".concat(s.replace(/-/g,"."),"-").concat(a.slice(5).replace(/-/g,"."))},getCouponAcquireTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.acquireStartTime,i=t.acquireEndTime;return"".concat(e.replace(/-/g,"."),"-").concat(i.slice(5).replace(/-/g,"."))}}},p=l,d=(i("d7c6"),i("2877")),f=Object(d["a"])(p,s,a,!1,null,"2a6a0764",null);e["a"]=f.exports},7376:function(t,e,i){"use strict";i("8b99")},"8a04":function(t,e){t.exports="data:image/png;base64,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"},"8b99":function(t,e,i){},"9d84":function(t,e,i){"use strict";i("608a")},a765:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[t.couponList&&t.couponList.length>1?[e("div",{class:["container--multiple"]},[e("couponRelevanceMultiple",{attrs:{couponList:t.couponList,recStatus:t.recStatus,couStatus:t.couStatus,btnText:t.btnText,hasAlreadyClicked:t.hasAlreadyClicked},on:{clickGetCoupons:t.getCoupons}})],1)]:[e("div",{class:["container",{"container--bg":t.showBg}]},[e("couponRelevanceSingle",{attrs:{couponList:t.couponList,recStatus:t.recStatus,couStatus:t.couStatus,btnText:t.btnText,hasAlreadyClicked:t.hasAlreadyClicked},on:{clickGetCoupons:t.getCoupons}})],1)],e("shareMask",{attrs:{shareUrl:t.shareUrl,isCoupon:!0},model:{value:t.showShareDialog,callback:function(e){t.showShareDialog=e},expression:"showShareDialog"}})],2)},a=[],n=i("546e"),o=n["a"],c=(i("1b7a"),i("7376"),i("2877")),r=Object(c["a"])(o,s,a,!1,null,"6fecae66",null);e["default"]=r.exports},ab4d:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"coupon-all"},[t._l(t.newCouponList,(function(i,s){return e("div",{key:s,staticClass:"coupon-multiple"},[10==i.couponType?e("div",{staticClass:"left-icon"},[t._v(t._s(t.$t("components.coupon.voucher")))]):t._e(),1===i.status?[i.couponStatus===t.couStatus.SOLDOUT?[i.userReceivedCount>0?e("img",{staticClass:"coupon-multiple__icon",attrs:{src:t.$t("skins.img_coupon_already"),alt:""}}):e("img",{staticClass:"coupon-multiple__icon",attrs:{src:t.$t("skins.img_coupon_zero_multi"),alt:""}})]:[t.hasAlreadyClicked?[e("img",{staticClass:"coupon-multiple__icon",attrs:{src:t.$t("skins.img_coupon_already"),alt:""}})]:[i.receivedStatus===t.recStatus.RECEIVED?e("img",{staticClass:"coupon-multiple__icon",attrs:{src:t.$t("skins.img_coupon_already"),alt:""}}):t._e()]]]:[i.userReceivedCount>0?e("img",{staticClass:"coupon-multiple__icon",attrs:{src:t.$t("skins.img_coupon_already"),alt:""}}):t._e()],e("div",{class:["coupon-multiple__info"]},[e("div",{staticClass:"info__price-div"},[40==i.couponType?e("div",{staticClass:"info__price"},[e("div",{staticClass:"info__price__num"},[t._v(t._s(i.couponValue))]),e("div",{staticClass:"info__price__symbol discount-text"},[t._v(" "+t._s(t.$t("skins.fold"))+" ")])]):5==i.couponType?e("div",{staticClass:"info__price"},[e("div",{staticClass:"info__price__num coinCertificate"},[t._v(t._s(t.$t("skins.exchange_coupon")))])]):e("div",{staticClass:"info__price"},[t.isJPY(i.currencySymbol)?t._e():e("div",{staticClass:"info__price__symbol"},[t._v(" "+t._s(i.currencySymbol||"¥")+" ")]),e("div",{staticClass:"info__price__num"},[t._v(t._s(i.couponValue))]),t.isJPY(i.currencySymbol)?e("div",{staticClass:"info__price__symbol info__price__symbol--jpy"},[t._v(t._s(i.currencySymbol))]):t._e()]),e("div",{staticClass:"info__condition"},[t._v(t._s(i.desc))])]),e("div",{staticClass:"info__desc"},[e("div",{staticClass:"info__desc__limit"},[t._v(t._s(i.couponName))]),e("div",{staticClass:"info__desc__category"},[t._v(t._s(i.subTitle))]),2===i.status||3===i.status?e("div",{staticClass:"info__desc__date info__desc__acquire-time"},[t._v(" "+t._s(t.$t("skins.receive_time",[t.getCouponAcquireTime(i)]))+" ")]):e("div",{staticClass:"info__desc__date"},[t._v(t._s(i.timeDesc))])])]),e("div",{staticClass:"info__semi-circle-left"}),e("div",{staticClass:"info__semi-circle-right"})],2)})),e("div",{staticClass:"tools-bar"}),e("div",{staticClass:"coupon-multiple__btn"},[e("div",{staticClass:"button",on:{click:t.getCoupons}},[t._v(t._s(t.btnText))])])],2)},a=[],n=(i("66b9"),i("b650")),o=(i("d3b7"),i("159b"),i("a4d3"),i("e01a"),i("99af"),i("ac1f"),i("5319"),i("fb6a"),i("603c")),c=i("1041"),r=i("f354");function u(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(a){var n=this;if(e&&clearTimeout(e),s){var o=!e;e=setTimeout((function(){e=null}),i),o&&t.apply(this,a)}else e=setTimeout((function(){t.apply(n,a)}),i)}}var l={name:"coupon-relevance-single",props:{couponList:{type:Array,default:function(){return[]}},recStatus:{type:Object,default:function(){return{UNCLAIMED:1,RECEIVED:2}}},couStatus:{type:Object,default:function(){return{ONSELL:1,SOLDOUT:2}}},btnText:{type:String},hasAlreadyClicked:{type:Boolean}},mixins:[r["a"],o["a"],c["a"]],components:{"van-button":n["a"]},data:function(){return{}},computed:{newCouponList:function(){var t=this,e=this.couponList;return e.forEach((function(e){e.desc=t.couponDesc(e)})),e}},methods:{couponDesc:function(t){return t.description||this.$t("skins.full_available",[this.getPriceDesc(t.currencySymbol,t.minOrderValue)])},getCoupons:u((function(){this.$emit("clickGetCoupons")})),getCouponDate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.validStart,i=t.validEnd,s=t.effectiveType,a=t.timeDesc;return 1===s?a:"".concat(e.replace(/-/g,"."),"-").concat(i.slice(5).replace(/-/g,"."))},getCouponAcquireTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.acquireStartTime,i=t.acquireEndTime;return"".concat(e.replace(/-/g,"."),"-").concat(i.slice(5).replace(/-/g,"."))}}},p=l,d=(i("9d84"),i("2877")),f=Object(d["a"])(p,s,a,!1,null,"b3450840",null);e["a"]=f.exports},b8dd:function(t,e,i){"use strict";var s=i("5530"),a={isEmpty:!0,batchCode:"50037357",batchId:34253,couponName:"优惠券",minOrderValue:9999,couponValue:99,acquireStartTime:"2020-01-01",beginTime:15778512e5,endTime:15778512e5,acquireEndTime:"2020-01-01",validStart:"2020-01-01",validEnd:"2020-01-01",receivedStatus:1,currency:"CNY",currencySymbol:"¥",subTitle:"全部商品可用",timeDesc:"2020.01.01-2020.01.01",availableReceive:!0,getOver:!1},n={activityId:"222222222",activityName:"分享抢券",startTime:"开始时间",endTime:"结束时间",activityStatus:1,shareId:"3333333",surplusCount:0,participantNum:3,curParticipantNum:0,shareStatus:0,sendStatus:1,couponInfo:[{couponName:"满100减99",couponType:2,minOrderValue:100,couponValue:99,acquireStartTime:"",acquireEndTime:"",validStart:"",validEnd:"",currency:"¥",currencySymbol:"¥",description:"满100减99",subTitle:"全部商品可用",timeDesc:"",effectiveDays:"",effectiveType:"",effectiveTimeType:"",effectiveValidType:""}]},o=function(t){for(var e=t.length,i=[],a=0;a<e;a+=1)i.push(Object(s["a"])(Object(s["a"])({},n),{},{id:"p".concat(a+1),activityName:t[a].activityName||"分享抢券",participantNum:t[a].participantNum||3}));return i},c=function(t){var e=t.length;e=e>10?10:e;for(var i=[],n=0;n<e;n+=1)i.push(Object(s["a"])(Object(s["a"])({},a),{},{id:"p".concat(n+1),couponType:t[n].couponType||1}));return i},r=function(){for(var t=6,e=[],i=0;i<t;i+=1)e.push(Object(s["a"])(Object(s["a"])({},a),{},{id:"p".concat(i+1)}));return e};e["a"]={createActivityList:o,createCouponList:c,createRecommend:r}},d7c6:function(t,e,i){"use strict";i("0eca")},e7e4:function(t,e,i){},e949:function(t,e,i){t.exports=i.p+"static/img/coupons-bg.fc115438.png"}}]);