(function(s){function a(a){for(var t,r,o=a[0],n=a[1],l=a[2],u=0,p=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(d,r)&&d[r]&&p.push(d[r][0]),d[r]=0;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(s[t]=n[t]);c&&c(a);while(p.length)p.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var s,a=0;a<i.length;a++){for(var e=i[a],t=!0,o=1;o<e.length;o++){var n=e[o];0!==d[n]&&(t=!1)}t&&(i.splice(a--,1),s=r(r.s=e[0]))}return s}var t={},d={"pages/addoverseasaddress":0},i=[];function r(a){if(t[a])return t[a].exports;var e=t[a]={i:a,l:!1,exports:{}};return s[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.e=function(){return Promise.resolve()},r.m=s,r.c=t,r.d=function(s,a,e){r.o(s,a)||Object.defineProperty(s,a,{enumerable:!0,get:e})},r.r=function(s){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,a){if(1&a&&(s=r(s)),8&a)return s;if(4&a&&"object"===typeof s&&s&&s.__esModule)return s;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:s}),2&a&&"string"!=typeof s)for(var t in s)r.d(e,t,function(a){return s[a]}.bind(null,t));return e},r.n=function(s){var a=s&&s.__esModule?function(){return s["default"]}:function(){return s};return r.d(a,"a",a),a},r.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],n=o.push.bind(o);o.push=a,o=o.slice();for(var l=0;l<o.length;l++)a(o[l]);var c=n;i.push([2,"chunk-vendors","chunk-common"]),e()})({"0e50":function(s,a,e){},2:function(s,a,e){s.exports=e("8f3f")},5140:function(s,a,e){"use strict";e("0e50")},8021:function(s,a,e){"use strict";(function(s){var t=e("5530"),d=e("0644"),i=e.n(d),r=(e("8a58"),e("e41f")),o=(e("66b9"),e("b650")),n=(e("5f5f"),e("f253")),l=(e("b000"),e("1a23")),c=(e("ac1f"),e("1276"),e("d3b7"),e("159b"),e("b0c0"),e("a15b"),e("99af"),e("e9c4"),e("5138")),u=e("191e"),p=e("b286"),h=e("f3a6"),m=e("d63d"),v=e("ed08"),f=e("b68d"),C=e("2a83");a["a"]={components:{"van-switch":l["a"],"van-picker":n["a"],"van-button":o["a"],"van-popup":r["a"],notice:p["a"],AddressDialog:C["a"]},mixins:[u["a"],c["a"],f["a"]],data:function(){return{isGuideSellerApp:s.isGuideSellerApp,showPopup:!1,tipsHidden:!0,columns:[],bh_addressData:[],addressData:{},isXhr:!1,editPage:!1,hasIdCardAddByCopy:!1,showPostCode:!1,addressOrderId:"",addressEditObj:{},showEditAddress:!1,countries:[],showCountryPopup:!1,isChina:!0}},mounted:function(){var a=this,e=this.$t("addaddress.new_shipping_address"),t=s.getQuery(),d=null;if(s.isGuideSellerApp)d=m["a"].getGuideAddress(),d&&d.addressId&&"undefined"!==d.addressId&&(this.getAddDetail(d.addressId),e=this.$t("addaddress.edit_receipt_address"),this.editPage=!0);else{try{d=JSON.parse(decodeURIComponent(s.getStorageSync("editAddressData")||""))}catch(i){console.log(i)}d&&1==d.isEdit&&(this.getAddDetail(d.addressId),s.setStorageSync("editAddressData",""),"undefined"!==d.addressId&&(e=this.$t("addaddress.edit_receipt_address"),this.editPage=!0))}t&&t.backOrder&&(this.backOrder=1==t.backOrder),t&&t.addressOrderId&&(this.addressOrderId=t.addressOrderId),s.setNavigationBarTitle({title:e}),this.getCountrylist(),m["a"].getAddressLibrary((function(s){a.setupAddressList(s)}))},methods:{getAddDetail:function(a){var e=this;a&&(s.showLoading({title:this.$t("common.loading",["..."])}),s.request({url:"/api/usercenter/address?addressId=".concat(a),method:"get"}).then((function(a){if(s.hideLoading(),e.addressData=a,e.isChina=v["a"].isChinaCode(a.countryCode),!e.isChina){var t=a.area.split(",");e.addressData.city=t[0],e.addressData.state=t[1]}e.checkPostCode()})).catch((function(a){s.hideLoading(),s.showToast({title:a.message||a.msg||""})})))},getCountrylist:function(){var a=this;s.request({url:"/api/usercenter/countrylist",method:"get"}).then((function(s){a.countries=s.countries||[]})).catch((function(s){}))},showAreaPop:function(s){this.showPopup=s},showCountryPop:function(s){this.showCountryPopup=s},setupAddressList:function(s){this.bh_addressData=s.list;var a=[],e=[],t=[],d=[];if(s.list.forEach((function(s){e.push(s.name)})),!m["a"].isBlank(s.list)&&!m["a"].isBlank(s.list[0].children)){var i=s.list[0].children;if(i.forEach((function(s){t.push(s.name)})),!m["a"].isBlank(i)){var r=i[0].children;r.forEach((function(s){d.push(s.name)}))}}a.push({values:e}),a.push({values:t}),a.push({values:d}),this.columns=a},onChange:function(s,a,e){var t=s.getColumnIndex(0),d=[],i=[],r=[];switch(m["a"].isBlank(this.bh_addressData)||m["a"].isBlank(this.bh_addressData[t].children)||(r=this.bh_addressData[t].children,r.forEach((function(s){d.push(s.name)}))),e){case 0:if(!m["a"].isBlank(r)){var o=r[0].children;o.forEach((function(s){i.push(s.name)}))}s.setColumnValues(1,d),s.setColumnValues(2,i);break;case 1:if(!m["a"].isBlank(r)){var n=r[s.getColumnIndex(1)].children;n.forEach((function(s){i.push(s.name)}))}s.setColumnValues(2,i);break;default:break}},addressSelected:function(s,a){this.addressData.area=s.join(","),this.showPopup=!1,this.checkPostCode()},countrySelected:function(s,a){var e=i()(this.addressData);this.addressData={},this.addressData.countryCode=s.country,this.addressData.countryName=s.i18nTitle,this.addressData.addressId=e.addressId||"",this.isChina=v["a"].isChinaCode(s.country),this.showCountryPopup=!1},getLocationCityInfo:function(a,e){var t=this;v["a"].isProd?s.request({url:"/shop/api/getLocationInfo?location=".concat(a,",").concat(e),data:{}}).then((function(a){s.hideLoading(),m["a"].getAddressLibrary((function(s){var e=a.result.address_component,d=e.province,i=e.city,r=e.district,o=m["a"].isMatch(s,d,i,r);o&&(t.$set(t.addressData,"area","".concat(d,",").concat(i,",").concat(r)),t.checkPostCode())}))})).catch((function(a){s.hideLoading(),s.showToast({title:a.message||t.$t("addaddress.positioning_choose_manually")})})):s.hideLoading()},closeTipTap:function(){this.tipsHidden=!1},saveTap:function(){var a=this;if(this.verification()){if(this.isChina||(this.addressData.area=[this.addressData.city,this.addressData.state].join(",")),this.addressOrderId&&!this.addressEditObj.addressee)return this.showEditAddress=!0,void(this.addressEditObj=this.addressData);this.isXhr||(this.isXhr=!0,s.showLoading({title:this.$t("addaddress.saving")}),s.request({url:this.addressData.addressId?h["a"].editAdrlistApi:h["a"].addAdrApi,method:"POST",data:this.addressData}).then((function(e){if(a.isXhr=!1,s.removeStorageSync("countryInfo"),s.hideLoading(),s.isGuideSellerApp){var d=Object(t["a"])(Object(t["a"])({},a.addressData),{},{addressId:e.addressId,isAddressChange:!1});m["a"].setGuideAddress(d),s.navigateBack({delta:1})}else{if(a.backOrder){var i=Object(t["a"])(Object(t["a"])({},a.addressData),{},{addressId:e.addressId,isAddressChange:!1});return a.addressOrderId&&(i.addressOrderId=a.addressOrderId),m["a"].setSelectAdrItem(JSON.stringify(i)),void s.navigateBack({delta:2})}s.navigateBack({delta:1})}})).catch((function(e){a.isXhr=!1,s.hideLoading(),s.showToast({title:e.message||e.msg||""})})))}},verification:function(){return m["a"].isBlank(this.addressData.countryCode)?(s.showToast({title:"请选择国家"}),!1):m["a"].isBlank(this.addressData.addressee)?(s.showToast({title:this.isChina?this.$t("addaddress.onsignee_empty"):"名字不能为空"}),!1):!this.isChina&&m["a"].isBlank(this.addressData.addressee2)?(s.showToast({title:"姓氏不能为空"}),!1):m["a"].isBlank(this.addressData.phone)?(s.showToast({title:this.$t("addaddress.phone_number_blank")}),!1):this.isChina&&m["a"].isBlank(this.addressData.area)?(s.showToast({title:this.$t("addaddress.provincial_empty")}),!1):m["a"].isBlank(this.addressData.detailAddress)?(s.showToast({title:this.isChina?this.$t("addaddress.detailed_address_empty"):"地址1不能为空"}),!1):!this.isChina&&m["a"].isBlank(this.addressData.detailAddress2)?(s.showToast({title:"地址2不能为空"}),!1):!this.isChina&&m["a"].isBlank(this.addressData.city)?(s.showToast({title:"城市不能为空"}),!1):!this.isChina&&m["a"].isBlank(this.addressData.state)?(s.showToast({title:"州不能为空"}),!1):!((this.showPostCode||!this.isChina)&&m["a"].isBlank(this.addressData.postCode))||(s.showToast({title:this.$t("addaddress.zip_code_empty")}),!1)},checkPostCode:function(){var s=this.addressData.area;this.showPostCode=s&&s.indexOf("欧洲")>=0},confirmEdit:function(){this.showEditAddress=!1,this.saveTap()},closeEdit:function(){this.showEditAddress=!1,this.addressEditObj={}}}}}).call(this,e("7189")["default"])},"8f3f":function(s,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var t=e("56d7"),d=function(){var s=this,a=s._self._c;return a("div",{staticClass:"add-address-page",style:s.pageThemeStyle},[s._e(),a("div",{staticClass:"container"},[a("div",{staticClass:"item"},[a("span",{staticClass:"item-label"},[s._v(s._s(s.$t("memberperfection.country_region")))]),a("p",{class:["item-right area-picker",{"area-picker-active":!!s.addressData.countryCode}],on:{click:function(a){return s.showCountryPop(!0)}}},[s._v(" "+s._s(s.addressData.countryName||s.$t("memberperfection.choose_country_region"))+" ")]),a("van-popup",{staticClass:"item-right",attrs:{position:"bottom"},model:{value:s.showCountryPopup,callback:function(a){s.showCountryPopup=a},expression:"showCountryPopup"}},[a("van-picker",{attrs:{"show-toolbar":"","value-key":"i18nTitle",columns:s.countries},on:{confirm:s.countrySelected,cancel:function(a){return s.showCountryPop(!1)}}})],1)],1),s.isChina?[a("div",{staticClass:"line"}),a("div",{staticClass:"item"},[a("span",{staticClass:"item-label"},[s._v(s._s(s.$t("addaddress.receiver")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.addressData.addressee,expression:"addressData.addressee"}],staticClass:"item-right",attrs:{type:"text",placeholder:s.$t("addaddress.please_use_real_name")},domProps:{value:s.addressData.addressee},on:{input:function(a){a.target.composing||s.$set(s.addressData,"addressee",a.target.value)}}})]),a("div",{staticClass:"line"}),a("div",{staticClass:"item"},[a("span",{staticClass:"item-label"},[s._v(s._s(s.$t("addaddress.mobile_phone_number")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.addressData.phone,expression:"addressData.phone"}],staticClass:"item-right",attrs:{placeholder:s.$t("addaddress.please_fill_out"),type:"text"},domProps:{value:s.addressData.phone},on:{input:function(a){a.target.composing||s.$set(s.addressData,"phone",a.target.value)}}})]),s.hasIdCardAddByCopy?a("div",{staticClass:"line"}):s._e(),s.hasIdCardAddByCopy?a("div",{staticClass:"item"},[a("span",{staticClass:"item-label"},[s._v(s._s(s.$t("addaddress.id_number")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.addressData.idCardNo,expression:"addressData.idCardNo"}],staticClass:"item-right",attrs:{type:"text",placeholder:s.$t("addaddress.please_fill_out")},domProps:{value:s.addressData.idCardNo},on:{input:function(a){a.target.composing||s.$set(s.addressData,"idCardNo",a.target.value)}}})]):s._e(),a("div",{staticClass:"line"}),a("div",{staticClass:"item"},[a("span",{staticClass:"item-label"},[s._v(s._s(s.$t("addaddress.province_city_district")))]),a("p",{class:["item-right area-picker",{"area-picker-active":!!s.addressData.area}],on:{click:function(a){return s.showAreaPop(!0)}}},[s._v(" "+s._s(s.addressData.area||s.$t("addaddress.please_choose"))+" ")]),a("van-popup",{staticClass:"item-right",attrs:{position:"bottom"},model:{value:s.showPopup,callback:function(a){s.showPopup=a},expression:"showPopup"}},[a("van-picker",{attrs:{columns:s.columns,"show-toolbar":""},on:{change:s.onChange,confirm:s.addressSelected,cancel:function(a){return s.showAreaPop(!1)}}})],1)],1),s.showPostCode?a("div",{staticClass:"line"}):s._e(),s.showPostCode?a("div",{staticClass:"item"},[a("span",{staticClass:"item-label"},[s._v(s._s(s.$t("addaddress.post_code")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.addressData.postCode,expression:"addressData.postCode"}],staticClass:"item-right",attrs:{type:"text",placeholder:s.$t("addaddress.please_fill_out")},domProps:{value:s.addressData.postCode},on:{input:function(a){a.target.composing||s.$set(s.addressData,"postCode",a.target.value)}}})]):s._e(),a("div",{staticClass:"line"}),a("div",{staticClass:"item detail"},[a("span",{staticClass:"item-label"},[s._v(s._s(s.$t("addaddress.address")))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:s.addressData.detailAddress,expression:"addressData.detailAddress"}],staticClass:"item-right",attrs:{placeholder:s.$t("addaddress.please_address")},domProps:{value:s.addressData.detailAddress},on:{input:function(a){a.target.composing||s.$set(s.addressData,"detailAddress",a.target.value)}}})]),a("div",{staticClass:"line"})]:[a("div",{staticClass:"line"}),a("div",{staticClass:"item"},[a("span",{staticClass:"item-label"},[s._v(s._s(s.$t("addaddress.frist_name")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.addressData.addressee,expression:"addressData.addressee"}],staticClass:"item-right",attrs:{type:"text",placeholder:s.$t("addaddress.please_fill_out")},domProps:{value:s.addressData.addressee},on:{input:function(a){a.target.composing||s.$set(s.addressData,"addressee",a.target.value)}}})]),a("div",{staticClass:"line"}),a("div",{staticClass:"item"},[a("span",{staticClass:"item-label"},[s._v(s._s(s.$t("addaddress.last_name")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.addressData.addressee2,expression:"addressData.addressee2"}],staticClass:"item-right",attrs:{type:"text",placeholder:s.$t("addaddress.please_fill_out")},domProps:{value:s.addressData.addressee2},on:{input:function(a){a.target.composing||s.$set(s.addressData,"addressee2",a.target.value)}}})]),a("div",{staticClass:"line"}),a("div",{staticClass:"item"},[a("span",{staticClass:"item-label"},[s._v(s._s(s.$t("addaddress.mobile_phone_number")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.addressData.phone,expression:"addressData.phone"}],staticClass:"item-right",attrs:{placeholder:s.$t("addaddress.please_fill_out"),type:"text"},domProps:{value:s.addressData.phone},on:{input:function(a){a.target.composing||s.$set(s.addressData,"phone",a.target.value)}}})]),a("div",{staticClass:"line"}),a("div",{staticClass:"item detail"},[a("span",{staticClass:"item-label"},[s._v(s._s(s.$t("addaddress.address1")))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:s.addressData.detailAddress,expression:"addressData.detailAddress"}],staticClass:"item-right",attrs:{placeholder:s.$t("addaddress.address_line1")},domProps:{value:s.addressData.detailAddress},on:{input:function(a){a.target.composing||s.$set(s.addressData,"detailAddress",a.target.value)}}})]),a("div",{staticClass:"line"}),a("div",{staticClass:"item detail"},[a("span",{staticClass:"item-label"},[s._v(s._s(s.$t("addaddress.address2")))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:s.addressData.detailAddress2,expression:"addressData.detailAddress2"}],staticClass:"item-right",attrs:{placeholder:s.$t("addaddress.address_line2")},domProps:{value:s.addressData.detailAddress2},on:{input:function(a){a.target.composing||s.$set(s.addressData,"detailAddress2",a.target.value)}}})]),a("div",{staticClass:"line"}),a("div",{staticClass:"item"},[a("span",{staticClass:"item-label"},[s._v(s._s(s.$t("addaddress.city")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.addressData.city,expression:"addressData.city"}],staticClass:"item-right",attrs:{type:"text",placeholder:s.$t("addaddress.please_fill_out")},domProps:{value:s.addressData.city},on:{input:function(a){a.target.composing||s.$set(s.addressData,"city",a.target.value)}}})]),a("div",{staticClass:"line"}),a("div",{staticClass:"item"},[a("span",{staticClass:"item-label"},[s._v(s._s(s.$t("addaddress.state")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.addressData.state,expression:"addressData.state"}],staticClass:"item-right",attrs:{type:"text",placeholder:s.$t("addaddress.please_fill_out")},domProps:{value:s.addressData.state},on:{input:function(a){a.target.composing||s.$set(s.addressData,"state",a.target.value)}}})]),a("div",{staticClass:"line"}),a("div",{staticClass:"item"},[a("span",{staticClass:"item-label"},[s._v(s._s(s.$t("addaddress.zip")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:s.addressData.postCode,expression:"addressData.postCode"}],staticClass:"item-right",attrs:{type:"text",placeholder:s.$t("addaddress.please_fill_out")},domProps:{value:s.addressData.postCode},on:{input:function(a){a.target.composing||s.$set(s.addressData,"postCode",a.target.value)}}})]),a("div",{staticClass:"line"})]],2),s.isGuideSellerApp?s._e():a("div",{staticClass:"default"},[a("span",{staticClass:"default-label"},[s._v(s._s(s.$t("addaddress.set_default_address")))]),a("van-switch",{staticClass:"default-switch",attrs:{size:"26px","active-color":"var(--main-color, #f23340)"},model:{value:s.addressData.isDefault,callback:function(a){s.$set(s.addressData,"isDefault",a)},expression:"addressData.isDefault"}})],1),a("div",{staticClass:"bottom-button"},[a("p",{staticClass:"save",on:{click:s.saveTap}},[s._v(s._s(s.$t("common.save")))])]),a("address-dialog",{attrs:{addressObj:s.addressEditObj,showAddressDialog:s.showEditAddress,surroundings:"editAddress"},on:{close:s.closeEdit,confirm:s.confirmEdit}})],1)},i=[],r=e("8021"),o=r["a"],n=(e("5140"),e("9776"),e("2877")),l=Object(n["a"])(o,d,i,!1,null,"5d99166e",null),c=l.exports;e.p=publicPath,Object(t["a"])(c)},9776:function(s,a,e){"use strict";e("a277")},a277:function(s,a,e){},f3a6:function(s,a,e){"use strict";a["a"]={addAdrApi:"/api/usercenter/address",editAdrlistApi:"/api/usercenter/editaddress",addressInfosApi:"/api/usercenter/addressinfo"}}});