(function(s){function t(t){for(var a,r,l=t[0],u=t[1],d=t[2],o=0,c=[];o<l.length;o++)r=l[o],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&c.push(n[r][0]),n[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(s[a]=u[a]);f&&f(t);while(c.length)c.shift()();return i.push.apply(i,d||[]),e()}function e(){for(var s,t=0;t<i.length;t++){for(var e=i[t],a=!0,l=1;l<e.length;l++){var u=e[l];0!==n[u]&&(a=!1)}a&&(i.splice(t--,1),s=r(r.s=e[0]))}return s}var a={},n={"pages/refundlist":0},i=[];function r(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return s[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.e=function(){return Promise.resolve()},r.m=s,r.c=a,r.d=function(s,t,e){r.o(s,t)||Object.defineProperty(s,t,{enumerable:!0,get:e})},r.r=function(s){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,t){if(1&t&&(s=r(s)),8&t)return s;if(4&t&&"object"===typeof s&&s&&s.__esModule)return s;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:s}),2&t&&"string"!=typeof s)for(var a in s)r.d(e,a,function(t){return s[t]}.bind(null,a));return e},r.n=function(s){var t=s&&s.__esModule?function(){return s["default"]}:function(){return s};return r.d(t,"a",t),t},r.o=function(s,t){return Object.prototype.hasOwnProperty.call(s,t)},r.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var f=u;i.push([108,"chunk-vendors","chunk-common"]),e()})({"0992":function(s,t,e){"use strict";(function(s){e("ab71");var a=e("58e6"),n=(e("99af"),e("44e4")),i=e("c08d"),r=e("b68d"),l=e("603c"),u=e("1041"),d=e("b565"),f=e("729a"),o=e("bce3");t["a"]={name:"refundlist",mixins:[l["a"],u["a"],d["a"],r["a"]],data:function(){return{showPage:!1,isLoading:!1,pageIndex:1,loadMore:!0,isXhr:!1,refundList:[]}},components:{loadingLine:n["a"],"van-pull-refresh":a["a"],pullRefreshLoading:i["a"],refundStatus:f["a"],loadMore:o["a"]},created:function(){this.getRefundList(),s.setNavigationBarTitle({title:this.$t("refundlist.refund_after_sale")})},onReachBottom:function(){this.loadMore&&!this.isXhr&&(this.pageIndex+=1,this.getRefundList())},methods:{refreshRefundList:function(){this.isXhr=!1,this.pageIndex=1,this.getRefundList()},getRefundList:function(){var t=this;this.loadMore&&!this.isXhr&&(this.isXhr=!0,s.request({url:"/api/ordercenter/getsqrefundlist?pageIndex=".concat(this.pageIndex,"&pageSize=20"),method:"get"}).then((function(s){t.showPage=!0,t.isLoading=!1,t.isXhr=!1,1==t.pageIndex&&(t.refundList=[]);var e=t.refundList;t.refundList=e.concat(s&&s.sqRefundList||[]),!e.length||s.sqRefundList&&s.sqRefundList.length||(t.loadMore=!1)})).catch((function(s){t.isXhr=!1,t.showPage=!0,t.loadMore=!1,t.isLoading=!1,console.log(s)})))},clickRefundDetail:function(t,e){var a=t.orderId,n=t.refundNo,i=e.catalogId;s.isMiniApp?wx.miniProgram.navigateTo({url:"/subPackage/pages/refund/refund?orderId=".concat(a,"&refundNo=").concat(n,"&catelogId=").concat(i)}):s.navigateTo({url:"/pages/refund/main?orderId=".concat(a,"&refundNo=").concat(n,"&catelogId=").concat(i)})},pullRefresh:function(){this.loadMore=!0,this.pageIndex=1,this.getRefundList()}}}}).call(this,e("7189")["default"])},108:function(s,t,e){s.exports=e("af72")},1645:function(s,t,e){"use strict";e("d793")},"6a30":function(s,t,e){},"729a":function(s,t,e){"use strict";var a=function(){var s=this,t=s._self._c;return s.sqRefundDetail.refundStatus?t("div",{staticClass:"item-refund-prompt"},[1==s.sqRefundDetail.refundStatus?t("div",{staticClass:"prompt-item van-ellipsis"},[s.sqRefundDetail.finalRefundSurplusSeconds&&s.sqRefundDetail.finalRefundSurplusSeconds>0?t("span",[s.firstData.dd>0||s.firstData.hh>0||s.firstData.mm>0||s.firstData.ss>0?t("span",[t("span",{staticClass:"span-1 span-bold"},[s._v(s._s(s.$t("refundlist.waiting_processing"))+"  ")]),t("span",{staticClass:"span-2"},[s._v(s._s(s.$t("refundlist.merchants_will")))]),t("span",{staticClass:"span-1"},[s.firstData.dd>0?t("span",[s._v(s._s(s.firstData.dd)+s._s(s.$tc("refundlist.day_seconds",0)))]):s._e(),t("span",[s._v(s._s("00"==s.firstData.hh?"00":s.firstData.hh)+s._s(s.$tc("refundlist.day_seconds",1)))]),t("span",[s._v(s._s("00"==s.firstData.mm?"00":s.firstData.mm)+s._s(s.$tc("refundlist.day_seconds",2)))]),t("span",[s._v(s._s(s.firstData.ss)+s._s(s.$t("refundlist.seconds")))])]),t("span",{staticClass:"span-2"},[s._v(s._s(s.$t("refundlist.inline_processing")))])]):s._e()]):t("span",[t("span",{staticClass:"span-1 span-bold"},[s._v(s._s(s.$t("refundlist.waiting_processing"))+"  ")]),t("span",{staticClass:"span-2"},[s._v(s._s(s.$t("refundlist.please_patient")))])])]):s._e(),11==s.sqRefundDetail.refundStatus?t("div",{staticClass:"prompt-item van-ellipsis"},[s.sqRefundDetail.finalRefundSurplusSeconds&&s.sqRefundDetail.finalRefundSurplusSeconds>0?t("span",[s.firstData.dd>0||s.firstData.hh>0||s.firstData.mm>0||s.firstData.ss>0?t("span",[t("span",{staticClass:"span-1 span-bold"},[s._v(s._s(s.$t("refundlist.please_return"))+"  ")]),t("span",{staticClass:"span-2"},[s._v(s._s(s.$t("refundlist.need_be")))]),t("span",{staticClass:"span-1"},[s.firstData.dd>0?t("span",[s._v(s._s(s.firstData.dd)+s._s(s.$tc("refundlist.day_seconds",0)))]):s._e(),t("span",[s._v(s._s("00"==s.firstData.hh?"00":s.firstData.hh)+s._s(s.$tc("refundlist.day_seconds",1)))]),t("span",[s._v(s._s("00"==s.firstData.mm?"00":s.firstData.mm)+s._s(s.$tc("refundlist.day_seconds",2)))]),t("span",[s._v(s._s(s.firstData.ss)+s._s(s.$t("refundlist.seconds")))])]),t("span",{staticClass:"span-2"},[s._v(s._s(s.$t("refundlist.inline_processing")))])]):s._e()]):t("span",[t("span",{staticClass:"span-1 span-bold"},[s._v(s._s(s.$t("refundlist.please_return"))+"  ")]),t("span",{staticClass:"span-2"},[s._v(s._s(s.$t("refundlist.merchant_agreed")))])])]):s._e(),12==s.sqRefundDetail.refundStatus?t("div",{staticClass:"prompt-item van-ellipsis"},[s.sqRefundDetail.finalRefundSurplusSeconds&&s.sqRefundDetail.finalRefundSurplusSeconds>0?t("span",[s.firstData.dd>0||s.firstData.hh>0||s.firstData.mm>0||s.firstData.ss>0?t("span",[t("span",{staticClass:"span-1 span-bold"},[s._v(s._s(s.$t("refundlist.receive_goods"))+"  ")]),t("span",{staticClass:"span-2"},[s._v(s._s(s.$t("refundlist.merchants_will")))]),t("span",{staticClass:"span-1"},[s.firstData.dd>0?t("span",[s._v(" "+s._s(s.firstData.dd)+s._s(s.$tc("refundlist.day_seconds",0)))]):s._e(),t("span",[s._v(s._s("00"==s.firstData.hh?"00":s.firstData.hh)+s._s(s.$tc("refundlist.day_seconds",1)))]),t("span",[s._v(s._s("00"==s.firstData.mm?"00":s.firstData.mm)+s._s(s.$tc("refundlist.day_seconds",2)))]),t("span",[s._v(s._s(s.firstData.ss)+s._s(s.$t("refundlist.seconds")))])]),t("span",{staticClass:"span-2"},[s._v(s._s(s.$t("refundlist.inline_processing")))])]):s._e()]):t("span",[t("span",{staticClass:"span-1 span-bold"},[s._v(s._s(s.$t("refundlist.receive_goods"))+"  ")]),t("span",{staticClass:"span-2"},[s._v(s._s(s.$t("refundlist.please_patient")))])])]):s._e(),4==s.sqRefundDetail.refundStatus?t("div",{staticClass:"prompt-item van-ellipsis"},[t("span",{staticClass:"span-2 span-bold"},[s._v(s._s(s.$t("refundlist.refund_success"))+"  ")]),t("span",{staticClass:"span-2"},[t("span",[s._v(s._s(s.$t("refundlist.refund_success")))]),s.isJPY(s.sqRefundDetail.symbol)?s._e():t("span",{staticClass:"symbol"},[s._v(s._s(s.sqRefundDetail.symbol||"¥"))]),t("span",{staticClass:"price"},[s._v(s._s(s.getIntPrice(s.sqRefundDetail.refundAmount)||0)),s.getLittlePrice(s.sqRefundDetail.refundAmount)?t("span",[s._v("."+s._s(s.getLittlePrice(s.sqRefundDetail.refundAmount)))]):s._e()]),s.isJPY(s.sqRefundDetail.symbol)?t("span",{staticClass:"symbol"},[s._v(s._s(s.sqRefundDetail.symbol))]):s._e()])]):s._e(),5==s.sqRefundDetail.refundStatus?t("div",{staticClass:"prompt-item van-ellipsis"},[t("span",{staticClass:"span-2 span-bold"},[s._v(s._s(s.$t("refundlist.refund_failure"))+"  ")]),t("span",{staticClass:"span-2"},[s._v(s._s(s.$t("refundlist.sorry_merchant")))])]):s._e(),3==s.sqRefundDetail.refundStatus?t("div",{staticClass:"prompt-item van-ellipsis"},[t("span",{staticClass:"span-2 span-bold"},[s._v(s._s(s.$t("refundlist.refuse_to"))+"  ")]),s.sqRefundDetail.rejectReason?t("span",{staticClass:"span-2"},[s._v(s._s(s.sqRefundDetail.rejectReason))]):s._e()]):s._e(),2==s.sqRefundDetail.refundStatus?t("div",{staticClass:"prompt-item van-ellipsis"},[t("span",{staticClass:"span-2 span-bold"},[s._v(s._s(s.$t("refundlist.refund_cancel"))+"  ")]),t("span",{staticClass:"span-2"},[s._v(s._s(s.$t("refundlist.user_refund")))])]):s._e(),13==s.sqRefundDetail.refundStatus?t("div",{staticClass:"prompt-item van-ellipsis"},[t("span",{staticClass:"span-2 span-bold"},[s._v(s._s(s.$t("refundlist.refund_expired_cancel"))+"  ")]),t("span",{staticClass:"span-2"},[s._v(s._s(s.$t("refundlist.cancelled_time_expires")))])]):s._e(),6==s.sqRefundDetail.refundStatus?t("div",{staticClass:"prompt-item van-ellipsis"},[t("span",{staticClass:"span-2 span-bold"},[s._v(s._s(s.$t("refundlist.merchant_agrees_refund"))+"  ")]),t("span",{staticClass:"span-2"},[s._v(s._s(s.$t("refundlist.merchant_agreed_money")))])]):s._e()]):s._e()},n=[],i=e("5530"),r=e("1041"),l=e("b565"),u={name:"refundstatus",mixins:[r["a"],l["a"]],props:{sqRefundDetail:{type:Object,default:function(){return{}}}},data:function(){return{firstData:{dd:"",hh:"",mm:"",ss:""}}},mounted:function(){this.sqRefundDetail.finalRefundSurplusSeconds&&this.sqRefundDetail.finalRefundSurplusSeconds>0&&(this.stopTimer(),this.startTimer())},methods:{formatNum:function(s){var t=String(s);return t.length?1===t.length?"0".concat(t):t:"00"},calcTime:function(s){if(s<=0)return{hh:"00",mm:"00",ss:"00"};var t=s,e=Math.floor(t/3600/24),a=Math.floor((t-3600*e*24)/3600),n=Math.floor((t-3600*e*24-3600*a)/60),i=t-3600*e*24-3600*a-60*n;return{dd:this.formatNum(e),hh:this.formatNum(a),mm:this.formatNum(n),ss:this.formatNum(i)}},countDown:function(){var s=this,t=Object(i["a"])({},this.firstData);if(this.sqRefundDetail.finalRefundSurplusSeconds>0){this.sqRefundDetail.finalRefundSurplusSeconds-=1;var e=this.calcTime(this.sqRefundDetail.finalRefundSurplusSeconds);t.dd=e.dd,t.hh=e.hh,t.mm=e.mm,t.ss=e.ss,this.sqRefundDetail.finalRefundSurplusSeconds<=0&&(clearTimeout(this.timeout),this.timeout=setTimeout((function(){s.$emit("refreshRefundList")}),400))}this.firstData=Object(i["a"])({},t)||{}},stopTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},startTimer:function(){var s=this;this.timer||(this.timer=setInterval((function(){s.countDown()}),1e3))}}},d=u,f=(e("1645"),e("2877")),o=Object(f["a"])(d,a,n,!1,null,"5a84a82c",null);t["a"]=o.exports},af72:function(s,t,e){"use strict";e.r(t);e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("56d7"),n=function(){var s=this,t=s._self._c;return t("div",{staticClass:"refund-list-page",style:s.pageThemeStyle},[s.showPage?[t("van-pull-refresh",{attrs:{"head-height":"60"},on:{refresh:s.pullRefresh},scopedSlots:s._u([{key:"pulling",fn:function(s){return[t("div")]}},{key:"loosing",fn:function(){return[t("pullRefreshLoading",{attrs:{"bg-color":"#f8f8f8"}})]},proxy:!0},{key:"loading",fn:function(){return[t("pullRefreshLoading",{attrs:{"bg-color":"#f8f8f8"}})]},proxy:!0}],null,!1,1883122893),model:{value:s.isLoading,callback:function(t){s.isLoading=t},expression:"isLoading"}},[s.refundList&&s.refundList.length?t("div",{staticClass:"refund-list-refresh"},s._l(s.refundList,(function(a,n){return t("div",{key:n,staticClass:"refund-list"},[t("div",{staticClass:"item-user-info"},[t("div",{staticClass:"user-info"},[a.buyer&&a.buyer.logoUrl?t("img",{attrs:{src:a.buyer.logoUrl,alt:""}}):s._e(),a.buyer&&a.buyer.nickname?t("div",{staticClass:"name"},[s._v(s._s(a.buyer.nickname))]):s._e()]),t("div",{staticClass:"refund-type"},[a.sqRefundDetail&&0==a.sqRefundDetail.refundType?t("span",[s._v(s._s(s.$t("refundlist.refund")))]):s._e(),a.sqRefundDetail&&1==a.sqRefundDetail.refundType?t("span",[s._v(s._s(s.$t("refundlist.sales_return")))]):s._e()])]),t("div",{staticClass:"item-product-info-dev"},[t("div",{staticClass:"product-item"},[t("div",{staticClass:"item-product-img"},[a.refundProductDetail&&a.refundProductDetail.pic?t("img",{attrs:{src:a.refundProductDetail.pic,alt:""}}):s._e(),t("div",{staticClass:"img-gray"})]),t("div",{staticClass:"item-product-info"},[a.refundProductDetail&&a.refundProductDetail.desc?t("div",{staticClass:"info-name van-multi-ellipsis--l2"},[s._v(s._s(a.refundProductDetail.desc))]):s._e(),a.refundProductDetail&&a.refundProductDetail.skuInfo?t("div",{staticClass:"info-sku van-ellipsis"},[s._v(s._s(a.refundProductDetail.skuInfo))]):s._e()])]),t("div",{staticClass:"item-product-price"},[t("span",{staticClass:"refund-text"},[s._v(s._s(s.$t("refundlist.refund"))+"：")]),s.isJPY(a.sqRefundDetail.symbol||"¥")?s._e():t("span",{staticClass:"symbol"},[s._v(s._s(a.sqRefundDetail.symbol||"¥"))]),t("span",{staticClass:"price"},[s._v(s._s(s.getIntPrice(a.sqRefundDetail.refundAmount)||0)),s.getLittlePrice(a.sqRefundDetail.refundAmount||0)?t("span",[s._v("."+s._s(s.getLittlePrice(a.sqRefundDetail.refundAmount||0)))]):s._e()]),s.isJPY(a.sqRefundDetail.symbol||"¥")?t("span",{staticClass:"symbol"},[s._v(s._s(a.sqRefundDetail.symbol))]):s._e()])]),t("refund-status",{attrs:{"sq-refund-detail":a.sqRefundDetail},on:{refreshRefundList:s.refreshRefundList}}),t("div",{class:["item-button",{shopPartRefundMessage:a.sqRefundDetail&&a.sqRefundDetail.shopPartRefundMessage},{"no-shopPartRefundMessage":!(a.sqRefundDetail&&a.sqRefundDetail.shopPartRefundMessage)}]},[a.sqRefundDetail&&a.sqRefundDetail.shopPartRefundMessage?t("div",{staticClass:"tip"},[t("img",{staticClass:"tip-img",attrs:{src:e("6999")}}),t("div",{staticClass:"tip-text"},[s._v(s._s(a.sqRefundDetail.shopPartRefundMessage))])]):s._e(),t("div",{staticClass:"check-details",on:{click:function(t){return s.clickRefundDetail(a.sqRefundDetail,a.refundProductDetail)}}},[s._v(s._s(s.$t("refundlist.view_details")))])])],1)})),0):t("div",{staticClass:"empty"},[t("img",{attrs:{src:s.$t("fashsale.img_fashsale_empty"),alt:""}}),t("p",[s._v(s._s(s.$t("refundlist.no_after_sales")))])]),s.refundList.length>0?t("load-more",{attrs:{source:"evaluateList",hasMore:s.loadMore,loading:s.isXhr&&s.pageIndex>0}}):s._e()],1)]:s.showPage?s._e():t("loading-line")],2)},i=[],r=e("0992"),l=r["a"],u=(e("cdae"),e("2877")),d=Object(u["a"])(l,n,i,!1,null,"3e7d91f8",null),f=d.exports;e.p=publicPath,Object(a["a"])(f)},cdae:function(s,t,e){"use strict";e("6a30")},d793:function(s,t,e){}});