(function(t){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],d=0,h=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&h.push(s[r][0]),s[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},s={"pages/wheeldraw":0},n=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(){return Promise.resolve()},r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([133,"chunk-vendors","chunk-common"]),a()})({133:function(t,e,a){t.exports=a("d621")},1595:function(t,e,a){"use strict";a("a3c3")},"16b7":function(t,e,a){"use strict";(function(t){a("be7f");var i=a("565f"),s=(a("f1dc"),a("6e47")),n=(a("8a58"),a("e41f")),r=(a("c3a6"),a("ad06")),o=(a("66b9"),a("b650"));e["a"]={components:{"van-button":o["a"],"van-icon":r["a"],"van-popup":n["a"],"van-overlay":s["a"],"van-field":i["a"]},props:{prize:{default:{}}},methods:{closeSuccess:function(){this.$emit("close")},goCoupons:function(){t.navigateTo({url:"/pages/coupons/main"})},fillAdress:function(){this.$emit("fillAdress")},selfWithdrawal:function(){this.$emit("selfWithdrawal")}}}}).call(this,a("7189")["default"])},"289b":function(t,e,a){},"2ee2":function(t,e,a){t.exports=a.p+"static/img/noActivity.0939f4b0.png"},"34a8":function(t,e,a){t.exports=a.p+"static/img/give_up.c8c1c287.png"},"3bbb":function(t,e,a){},4249:function(t,e,a){"use strict";a("68e1")},"4acb":function(t,e,a){"use strict";a("3bbb")},"4f98":function(t,e,a){},"535d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABn0lEQVRIS+2WsUsdQRDGfx8ptAhiIWiagFUULKysBJVUliE8/4VXiIURFNKojWIRU4RAUgWsTZM2SEJIFYgIVlqkECUIFmqlhX4ycsJ5eWT3yYtVtjlud+77zc7uzJwAbA8DS8AQ0BZzpXEJTEj6WJm/9Wp7E/gsaa68oEJ8A/gNhMhpA8AHSfsJwAowC7yW9OLGNgDfgMfAoKTjv4mk1myvAtNlSADOgLeSZlICOetVSAAMLEhazBG4sbHdD8TZdQMPKt/WgUfA+6YBtgeBN4V4yqeTpgC2x4F1IM5qGfgEHEi6KO3sCfCleB/LBtjuBbaAXWBc0lHVfdu3xaWdZgBrwDOgT9JBjnjYZAFstwPhceTDVKPA246dPQTGJO2U8yB5i2wPANtATVKcwR/Ddg34KelXNZNzACPA18K7eGaP3BCNFjcjtp8FsB250fUvAVGP5nMBPcA7oC7pMCc+tuevK8RdS0UK8h+QilB0yfs7g5Y2nFJVfQVMtrRllsQ7i8q7l9P0k/GuGHQAz4uO9lSxmPhtaRZwDvwAXkr6fgUoyg+lTBQUQwAAAABJRU5ErkJggg=="},"57d5":function(t,e,a){"use strict";e["a"]={sqhomelottery:"/api/social/sqhomelottery",sqlottery:"/api/social/sqlottery",sqsharelottery:"/api/social/sqsharelottery",sqactivitylottery:"/api/social/sqlotteryshareinfo"}},"669e":function(t,e,a){t.exports=a.p+"static/img/point_ten.056fbde1.png"},"68e1":function(t,e,a){},"6d0e":function(t,e,a){t.exports=a.p+"static/img/bean_one.84279a9a.png"},"6ded":function(t,e,a){t.exports=a.p+"static/img/draw_wheel.80e6a56b.png"},"772c":function(t,e,a){t.exports=a.p+"static/img/sorry.f97510ff.png"},"873c":function(t,e,a){"use strict";a("289b")},"8b7a":function(t,e,a){t.exports=a.p+"static/img/bean_500.6732d3b0.png"},"996f":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{on:{click:t.failClose}},[e("van-popup",{model:{value:t.failResult,callback:function(e){t.failResult=e},expression:"failResult"}},[e("div",{staticClass:"drawFail"},[e("div",{staticClass:"tip",domProps:{innerHTML:t._s(t.shareStatus?t.$t("wheeldraw.sorry_used_up"):t.prize.awardName)}}),t.shareStatus?e("div",[e("div",{staticClass:"shareTxt"},[t._v(t._s(t.$t("wheeldraw.you_share_more")))]),e("van-button",{staticClass:"wheelBtn",attrs:{round:"",type:"info"},on:{click:function(e){return e.stopPropagation(),t.goShare.apply(null,arguments)}}},[t._v(" "+t._s(t.$t("wheeldraw.share_immediately"))+" ")])],1):e("div",{staticClass:"failContent"},[e("img",{staticClass:"failImg",attrs:{src:t.prize.awardPicUrl,alt:""}}),e("p",{staticClass:"failText"},[t._v(" "+t._s(t.prize.awardResult&&t.prize.awardResult[0]&&t.prize.awardResult[0].prompt)+" ")])])])]),e("div",{staticClass:"failClose",on:{click:t.failClose}},[e("van-icon",{attrs:{name:"close"}})],1)],1)},s=[],n=(a("be7f"),a("565f")),r=(a("f1dc"),a("6e47")),o=(a("8a58"),a("e41f")),l=(a("c3a6"),a("ad06")),c=(a("66b9"),a("b650")),u=(a("a9e3"),{components:{"van-button":c["a"],"van-icon":l["a"],"van-popup":o["a"],"van-overlay":r["a"],"van-field":n["a"]},props:{prize:{default:{}},shareStatus:{type:Boolean},count:{type:Number}},data:function(){return{failResult:!0}},methods:{failClose:function(){this.$emit("close")},goShare:function(){this.$emit("share")}}}),d=u,h=(a("9edb"),a("2877")),f=Object(h["a"])(d,i,s,!1,null,null,null);e["a"]=f.exports},"9edb":function(t,e,a){"use strict";a("4f98")},a3c3:function(t,e,a){},a422:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("van-overlay",{attrs:{show:""},on:{click:t.closeSuccess}},[e("div",{staticClass:"drawSuccess",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"d_content"},[e("div",[e("p",{staticClass:"f1"},[t._v(t._s(t.prize.awardName))]),e("img",{staticClass:"w128 mt15",attrs:{src:t.prize.awardPicUrl,alt:""}}),2===t.prize.awardType?[e("p",{staticClass:"f2 mt15"},[t._v(t._s(t.$t("wheeldraw.please_go_Personal")))]),e("van-button",{staticClass:"wheelBtn mt30",attrs:{round:"",type:"info"},on:{click:t.goCoupons}},[t._v(" "+t._s(t.$t("wheeldraw.immediately_check"))+" ")])]:t._e(),3===t.prize.awardType&&t.prize.awardResult&&1===t.prize.awardResult[0].deliveryPattern?[e("p",{staticClass:"f2 mt15"},[t._v(t._s(t.$t("wheeldraw.please_go_draw")))]),e("van-button",{staticClass:"wheelBtn mt30",attrs:{round:"",type:"info"},on:{click:t.fillAdress}},[t._v(" "+t._s(t.$t("wheeldraw.fill_delivery_address"))+" ")])]:t._e(),3===t.prize.awardType&&t.prize.awardResult&&2===t.prize.awardResult[0].deliveryPattern?[e("p",{staticClass:"f2 mt15"},[t._v(t._s(t.$t("wheeldraw.please_go_draw")))]),e("van-button",{staticClass:"wheelBtn mt30",attrs:{round:"",type:"info"},on:{click:t.selfWithdrawal}},[t._v(" 查看中奖信息 ")])]:t._e()],2),e("div",{staticClass:"closeIcon",on:{click:t.closeSuccess}},[e("van-icon",{attrs:{name:"close"}})],1)])])])},s=[],n=a("16b7"),r=n["a"],o=(a("873c"),a("2877")),l=Object(o["a"])(r,i,s,!1,null,null,null);e["a"]=l.exports},a6d5:function(t,e,a){"use strict";var i=function(){var t=this,e=this,i=e._self._c;return i("van-popup",{staticClass:"content-transparent",attrs:{value:e.value,"overlay-style":{backgroundColor:"rgba(0, 0, 0, 0.8)"}},on:{input:function(e){return t.$emit("input",e)}}},[i("img",{class:["share-img",{"share-img--coupon":e.isCoupon}],attrs:{src:e.shareUrl},on:{touchstart:e.share,touchend:e.cleartime,load:e.handleShowTips}}),e.showTips?i("p",{staticClass:"share-tips"},[i("img",{attrs:{src:a("f709"),alt:""}}),e._v(" "+e._s(this.$t("wheeldraw.press_save_image"))+" ")]):e._e()])},s=[],n=(a("8a58"),a("e41f")),r={data:function(){return{showTips:!1}},props:{value:{type:Boolean},shareUrl:{type:String,default:""},isCoupon:{type:Boolean,default:!1}},components:{"van-popup":n["a"]},methods:{handleShowTips:function(){this.showTips=!0}}},o=r,l=(a("1595"),a("2877")),c=Object(l["a"])(o,i,s,!1,null,"597a4b98",null);e["a"]=c.exports},b5fe:function(t,e,a){t.exports=a.p+"static/img/point_five.31fb23b0.png"},bbe9:function(t,e,a){t.exports=a.p+"static/img/congratulation.cc989eb0.png"},d621:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("56d7"),s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wheel-draw"},[1===t.showPage?e("loading-line"):2===t.showPage?[e("wheel-draw",{attrs:{status:t.status,"prize-list":t.prizeList,"wheel-config":t.wheelConfig,"rotate-angle":t.rotateAngle,"is-rotating":t.isRotating,count:t.count,index:t.index,prize:t.prize,timeLabel:t.timeLabel,hasLucky:t.hasLucky,disClick:t.disClick,ruleDesc:t.ruleDesc,needDoor:t.needDoor,surplusShareCount:t.surplusShareCount,shareAddLottery:t.shareAddLottery,sharePicUrl:t.sharePicUrl},on:{beginRotate:t.beginRotate,closeToast:t.closeToast,setDialog:t.setDialog,share:t.share}})]:[e("div",{staticClass:"noActivity"},[e("div",{staticClass:"tip"},[e("img",{attrs:{src:a("2ee2"),alt:""}}),e("p",[t._v(t._s(t.$t("wheeldraw.created_tuned")))])])])]],2)},n=[],r=a("dc81"),o=r["a"],l=(a("4acb"),a("2877")),c=Object(l["a"])(o,s,n,!1,null,null,null),u=c.exports;a.p=publicPath,Object(i["a"])(u)},dc81:function(t,e,a){"use strict";(function(t){a("e17f");var i=a("2241"),s=a("c7eb"),n=a("5530"),r=a("1da1"),o=(a("ac1f"),a("841c"),a("5319"),a("d3b7"),a("159b"),a("99af"),a("d81d"),a("c740"),a("44e4")),l=a("ef4c"),c=a("ed08"),u=a("3fa5"),d=a("57d5"),h=360;e["a"]={name:"index",data:function(){return{status:0,ruleDesc:"",showPage:1,disClick:!1,hasLucky:!1,prizeList:[{index:0,icon:a("8b7a"),name:"iphone XS Plus",isPrize:1},{index:1,icon:a("e2cd"),name:"watch",isPrize:2},{index:2,icon:a("6d0e"),name:this.$t("wheeldraw.prize",[3]),isPrize:3},{icon:a("b5fe"),name:this.$t("wheeldraw.prize",[3]),isPrize:1},{icon:a("669e"),name:this.$t("wheeldraw.prize",[4]),isPrize:1},{icon:a("8b7a"),name:this.$t("wheeldraw.prize",[5]),isPrize:1},{icon:a("34a8"),name:this.$t("wheeldraw.prize",[6]),isPrize:0},{icon:a("8b7a"),name:this.$t("wheeldraw.prize",[7]),isPrize:1}],sharePicUrl:"",wheelConfig:{luckyTitleImg:a("f575"),wheelPointer:a("ddf0"),wheelBg:a("6ded"),duration:4e3,circle:8,rotateAngle:0,mode:"ease-in-out"},count:3,surplusShareCount:0,shareAddLottery:0,rotateAngle:0,index:0,timeLabel:"",isRotating:!1,needDoor:!1,prize:{},drawResult:{},orderId:""}},components:{loadingLine:o["a"],wheelDraw:l["a"]},mounted:function(){},created:function(){var e=c["a"].parseUrl(window.location.search),a=e.isDev,i=e.orderId;i&&(this.orderId=i),a?(this.getPostData(),this.disClick=!0):(this.getPrizeInfo(),this.disClick=!1),this.angleList=[],t.setNavigationBarTitle({title:this.$t("wheeldraw.lottery")})},beforeDestroy:function(){u["b"].destroy()},methods:{share:function(){var e=this;t.request({url:d["a"].sqsharelottery,data:{activityId:this.activityId},method:"post"}).then((function(t){t.success&&(e.count=t.surplusCount,e.surplusShareCount=t.surplusShareCount)})).catch((function(t){}))},transData:function(t){this.activityId=t.activityId,this.status=t.activityStatus,this.hasLucky=t.hasLucky,this.prizeList=t.awardList,this.count=t.surplusCount,this.surplusShareCount=t.surplusShareCount,this.shareAddLottery=t.shareAddLottery,this.timeLabel=t.timeLabel,this.count=t.surplusCount,this.ruleDesc=t.ruleDesc,this.needDoor=t.needDoor;var e=t.props;this.wheelConfig={wheelPointer:e.pointPicUrl,backPicUrl:e.backPicUrl,wheelBg:e.tablePicUrl,sharePicUrl:e.sharePicUrl,rules:e.textColor,bg:e.backColor,btnBg:e.buttonColor,btnColor:e.buttonTextColor,duration:4e3,circle:8,rotateAngle:0,mode:"ease-in-out"},this.initPrizeList()},getUrl:function(t){t||(t=window.location.search.substr(1));var e=/(([^?&=]+)(?:=([^?&=]*))*)/g,a={};return t.replace(e,(function(){var t=arguments[2],e=arguments[3]||"";a[t]=e})),a},getShareImg:function(e){var a=this;return Object(r["a"])(Object(s["a"])().mark((function i(){return Object(s["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.getShareData().then((function(i){t.request({url:d["a"].sqactivitylottery,data:Object(n["a"])({activityId:e},i),method:"post"}).then((function(t){a.sharePicUrl=t.shareUrl})).catch((function(t){}))}));case 1:case"end":return i.stop()}}),i)})))()},getPrizeInfo:function(){var e=this,a=this.getUrl(window.location.href).activityId,i={activityId:a};this.orderId&&(i.mainOrderId=this.orderId),t.request({url:d["a"].sqhomelottery,data:i}).then((function(t){e.showPage=t.activityId?2:3,e.transData(t),e.getShareImg(t.activityId)})).catch((function(t){}))},setDialog:function(t){this.$set(this.prize,"awardType",t)},getPostData:function(){u["b"].setTarget(window.parent),u["b"].setMsgHandler(this.msgHandler)},msgHandler:function(t){var e=t.action,a=t.data;e&&(console.log("action",e),console.log("data",a),a.activityStatus=1,this.showPage=2,this.transData(a))},getLuckDrawInfo:function(){var t=this;setTimeout((function(){t.showPage=!0}),200)},initPrizeList:function(){this.prizeList=this.formatPrizeList(this.prizeList)},formatPrizeList:function(t){var e=[],a=t.length,i=h/a,s=i/2;return t.forEach((function(t,a){var n=-(a*i+s);t.style="-webkit-transform: rotate(".concat(n,"deg); transform: rotate(").concat(n,"deg);"),e.push(a*i+s)})),this.angleList=e,t},random:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseInt(Math.random()*(t-e+1)+e)},sqlottery:function(){var e=this,a={activityId:this.activityId};this.orderId&&(a.mainOrderId=this.orderId),t.request({url:d["a"].sqlottery,data:a,method:"post"}).then((function(a){e.drawResult=a;var i=e.prizeList.map((function(t){return t.awardId}));e.index=i.findIndex((function(t){return t===e.drawResult.awardInfo.awardId})),e.index<0?t.showToast({title:e.$t("wheeldraw.system_busy")}):(e.count=a.surplusCount,e.surplusShareCount=a.surplusShareCount,e.rotating())})).catch((function(t){console.log(2)}))},beginRotate:function(){var t=this,e=this.isRotating;0===this.count||e||i["a"].confirm({title:this.$t("wheeldraw.confirm_lucky_draw"),message:this.$t("wheeldraw.more_lucky_today",[this.count]),cancelButtonText:this.$t("wheeldraw.think_about")}).then((function(){t.sqlottery()})).catch((function(){}))},rotating:function(){var t=this,e=this.angleList,a=this.wheelConfig,i=this.rotateAngle,s=this.index;this.isRotating=!0;var n=i+a.circle*h+e[s]-i%h;this.rotateAngle=n,setTimeout((function(){t.rotateOver()}),a.duration+1e3)},rotateOver:function(){this.isRotating=!1;var t=this.drawResult;this.prize=t.awardInfo},closeToast:function(){this.prize=null}}}}).call(this,a("7189")["default"])},ddf0:function(t,e,a){t.exports=a.p+"static/img/draw_btn.f43e809a.png"},e2cd:function(t,e,a){t.exports=a.p+"static/img/bean_five.b905dbab.png"},ef4c:function(t,e,a){"use strict";a("99af");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container",style:{background:"".concat(t.wheelConfig.bg," url(").concat(t.wheelConfig.backPicUrl,") center top /100% no-repeat ")}},[e("div",{staticClass:"lucky-wheel"},[e("div",{staticClass:"wheel-main"},[e("div",{staticClass:"wheel-pointer",style:{"background-image":"url(".concat(t.wheelConfig.wheelPointer||"",")")}}),e("div",{staticClass:"wheel-bg",style:t.rotateStyle},[e("div",{staticClass:"prize-list"},t._l(t.prizeList,(function(a,i){return e("div",{key:i,staticClass:"prize-item",style:a.style},[e("div",{staticClass:"prize-pic"},[e("img",{attrs:{src:a.picUrl}})]),e("div",{staticClass:"prize-type"},[e("div",{staticClass:"prize-name"},[t._v(t._s(a.awardName))])])])})),0)])])]),e("div",{staticClass:"main"},[0===t.status?e("div",{staticClass:"count",style:{color:t.wheelConfig.rules}},[t._v(t._s(t.$t("wheeldraw.activity_start_time"))+"："+t._s(t.timeLabel))]):t._e(),1!==t.status||t.needDoor?t._e():e("div",{staticClass:"count",style:{color:t.wheelConfig.rules}},[t._v(" "+t._s(t.$t("wheeldraw.current_number_draws"))+"： "+t._s(t.count)+" ")]),e("div",{staticClass:"optBtn"},[0===t.status||2===t.status?[e("van-button",{staticClass:"drawBtn buttonDis",style:{color:t.wheelConfig.btnColor,background:t.wheelConfig.btnBg},attrs:{round:"",type:"info"}},[t._v(" "+t._s(0===t.status?t.$t("wheeldraw.have_started"):t.$t("wheeldraw.activity_over"))+" ")])]:t._e(),1===t.status?[t.count?e("van-button",{staticClass:"drawBtn",style:{color:t.wheelConfig.btnColor,background:t.wheelConfig.btnBg,"pointer-events":t.disClick?"none":""},attrs:{round:"",type:"info"},on:{click:t.beginRotate}},[t._v(" "+t._s(t.$t("wheeldraw.immediately_draw"))+" ")]):e("van-button",{class:["drawBtn",t.surplusShareCount?"":"buttonDis"],style:{color:t.wheelConfig.btnColor,background:t.wheelConfig.btnBg},attrs:{round:"",type:"info"},on:{click:function(e){return t.setDialog(1)}}},[t._v(" "+t._s(t.surplusShareCount?t.$t("wheeldraw.share_win_another",[t.shareAddLottery]):t.$t("wheeldraw.sorry_maximum"))+" ")])]:t._e(),t.hasLucky?e("div",{staticClass:"checkDetail",style:{color:t.wheelConfig.rules,"pointer-events":t.disClick?"none":""},on:{click:t.goDetail}},[t._v(" "+t._s(t.$t("wheeldraw.prize_persona"))+" "),e("van-icon",{attrs:{name:"arrow"}})],1):t._e()],2),t.ruleDesc?e("div",{staticClass:"tip",style:{border:"0.5px solid ".concat(t.wheelConfig.rules)}},[e("div",{staticClass:"tip-title",style:{color:t.wheelConfig.rules,background:t.wheelConfig.bg}},[t._v(" "+t._s(t.$t("wheeldraw.activity_rules"))+" ")]),e("div",{staticClass:"tip-content",style:{color:t.wheelConfig.rules}},[t._v(" "+t._s(t.ruleDesc)+" ")])]):t._e()]),t.successResult?e("success-dialog",{attrs:{prize:t.prize},on:{close:function(e){return t.setDialog(0)},fillAdress:t.fillAdress,selfWithdrawal:t.selfWithdrawal}}):t._e(),t.failResult?e("fail-dialog",{attrs:{prize:t.prize,count:t.count,shareStatus:t.shareStatus},on:{close:function(e){return t.setDialog(0)},share:t.goShare}}):t._e(),t.addressVis?e("prize-address",{attrs:{lotteryId:t.prize.lotteryId},on:{confirm:t.addressConfirm,close:t.addressClose}}):t._e(),t.isWinningInfoDialog?e("winningInfoDialog",{attrs:{info:t.prize.awardResult[0],showTips:!0},on:{close:t.winningInfoDialogClose}}):t._e(),e("van-popup",{staticClass:"content-transparent",attrs:{"overlay-style":{backgroundColor:"rgba(0, 0, 0, 0.8)"}},model:{value:t.shareVis,callback:function(e){t.shareVis=e},expression:"shareVis"}},[e("img",{staticClass:"share-img",attrs:{src:t.sharePicUrl},on:{touchstart:t.share,touchend:t.cleartime}}),e("p",{staticClass:"share-tips"},[e("img",{attrs:{src:a("f709"),alt:""}}),t._v(" "+t._s(t.$t("wheeldraw.press_save_image"))+" ")])]),t.needDoor?t._e():e("div",{staticClass:"share",style:{"pointer-events":t.disClick?"none":""},on:{click:function(e){t.shareVis=!0}}},[e("img",{staticClass:"save",attrs:{src:a("535d"),alt:""}}),e("span",[t._v(t._s(t.$t("common.share")))])])],1)},s=[],n=a("f8f2"),r=n["a"],o=(a("4249"),a("2877")),l=Object(o["a"])(r,i,s,!1,null,"48ca8427",null);e["a"]=l.exports},f575:function(t,e,a){t.exports=a.p+"static/img/lucky_title.4e9a4ce2.png"},f709:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADC0lEQVRoQ+2aXYhNURTHf38kygvK8+TJA01JRD6KKEnCk3jwQGpqTDOZBmF800QjqVE8+IgXHjxISqYkCeXjQbyQIiEklAcfS2vaV3du595z75wzc87krjpPZ++112+vtdfee50jUhIzmwbsAhYCY4AnQLekSykNEalGaSg3syXAFWBshL4uSR1pjBOlIzGAmY0DXgCTKhi5SFLvYECkAbAGuBhj3AVJ6/IK4HG/J8a4+5Jm5RVgL7AzxrhHkqbXASJmII01UPdAktCqe8DM6iFUD6EkM/C/hNBr4CYwFfgI3AB6JP1IMnned6iyUJSdDwE/5H1JApElgNt9HDgCzAYMeCDpVS1AWQP8BEYAI4PRv4HTQLMkfxcrWQOUM9A9cwBYDEwAngG9kv6UdsgrwC/AH7+aFsSvqKskvSyGyCtAOc+4JxqLw2u4ATjYSkl+/+6T4QjQIalrOAO0S/LUG+0BM2sA1gILgMnAaOA98Bi46o8kT3d9UuVRIjYd1tAgGsDM3NBjwEZgVAWFz4FWSdfzBrABOFXlTHg+7pS0P08eWA1crhKg0Mw99h3YUWO/JM3LrwEzOwlsqlH7h5iqXI3qYptXBPC0egJoilWTXYPKWSgsTD+LNGdnY8WR4wEChMd3Sw4hqgMIEEeBtpxBVA8QIHzbbs8RRIskD/HonTjKUDM7BGzNCcR6SWdrAgie8AvG9hxAzJd0u2aAjI4NpfPll5yJkr4OCCBAdAK7M/LEHUlzi8ce0H3AzPzosC8DiCZJPYkBgie2AQeHEOIT0CDJz17/ZEAeKPQ2M/98eniIINokdZeOlQggeGIL4HtFYl0VJuIu4NnHF3E/SWVQM2sFfNdORV+JjV5XnSnpXRRgagOa2Wb/tSBU2tKKqs+hfurX2UhJDSCE0zLgPDA+BYKnwApJ/hdAWUkVIEB4IeAMMG+AEF7kPRfqo9/idKQOUJShlgL+/WxGnBHhvVc6rnlNVNK9KvsMyqLrN7aZNQLLgTnAlHD99Jqn5/M3gIfKLf/bRdLbag0vtPsLbkQoQEPeEPMAAAAASUVORK5CYII="},f8f2:function(t,e,a){"use strict";(function(t){a("e17f");var i=a("2241"),s=(a("be7f"),a("565f")),n=(a("f1dc"),a("6e47")),r=(a("8a58"),a("e41f")),o=(a("c3a6"),a("ad06")),l=(a("66b9"),a("b650")),c=(a("a9e3"),a("99af"),a("b0c0"),a("5fc0")),u=a("2e6d"),d=a("a6d5"),h=a("a422"),f=a("996f"),p=a("dbed");e["a"]={name:"wheelDraw",components:{"van-button":l["a"],"van-icon":o["a"],"van-popup":r["a"],"van-overlay":n["a"],"van-field":s["a"],prizeAddress:c["a"],coupons:u["a"],successDialog:h["a"],failDialog:f["a"],shareMask:d["a"],winningInfoDialog:p["a"]},created:function(){},props:{ruleDesc:{default:""},sharePicUrl:{default:""},disClick:{type:Boolean},status:{type:Number},timeLabel:{type:String},hasLucky:{type:Boolean},needDoor:{type:Boolean},prizeList:{type:Array},count:{type:Number,default:3},surplusShareCount:{type:Number},shareAddLottery:{type:Number},rotateAngle:{type:Number,default:0},index:{type:Number,default:0},isRotating:{type:Boolean,default:!1},prize:{default:{}},wheelConfig:{type:Object,default:function(){return{duration:1e3,circle:8,rotateAngle:0,mode:"ease-in-out",luckyTitleImg:"",wheelPointer:""}}}},data:function(){return{colors:{rules:"#ffeb39",btnBg:"#FFEA53",btnColor:"#F36C56",bg:"#f36d56"},addressVis:!1,shareVis:!1,timeOutEvent:0,isWinningInfoDialog:!1,shareStatus:!1}},computed:{successResult:function(){return 2===this.prize.awardType||3===this.prize.awardType},failResult:function(){return 1===this.prize.awardType},rotateStyle:function(){return"\n        -webkit-transition: transform ".concat(this.wheelConfig.duration,"ms ").concat(this.wheelConfig.mode,";\n        transition: transform ").concat(this.wheelConfig.duration,"ms ").concat(this.wheelConfig.mode,";\n        -webkit-transform: rotate(").concat(this.rotateAngle,"deg);\n            transform: rotate(").concat(this.rotateAngle,"deg);\n            background-image:url(").concat(this.wheelConfig.wheelBg||"",")")},toastTitle:function(){return this.prize&&1===this.prize.isPrize?this.$t("wheeldraw.congratulations",[this.prize.name]):this.$t("wheeldraw.losing_lottery")},toastIcon:function(){return this.prize&&1===this.prize.isPrize?a("bbe9"):a("772c")}},methods:{setDialog:function(t){this.shareStatus=1===t,this.$emit("setDialog",t)},cleartime:function(){clearTimeout(this.timeOutEvent)},share:function(){var t=this;clearTimeout(this.timeOutEvent),this.timeOutEvent=setTimeout((function(){t.$emit("share")}),800)},goShare:function(){this.setDialog(0),this.shareVis=!0},addressClose:function(){this.addressVis=!1},addressConfirm:function(t){console.log(t)},fillAdress:function(){this.setDialog(0),this.addressVis=!0},selfWithdrawal:function(){this.setDialog(0),this.isWinningInfoDialog=!0},winningInfoDialogClose:function(){this.isWinningInfoDialog=!1},goDetail:function(){t.navigateTo({url:"/pages/prizeRecord/main"})},goDraw:function(){var t=this;i["a"].confirm({title:this.$t("wheeldraw.confirm_lucky_draw"),message:this.$t("wheeldraw.more_lucky_today",[this.count]),cancelButtonText:this.$t("wheeldraw.think_about")}).then((function(){t.beginRotate()})).catch((function(){}))},beginRotate:function(){var e=this;t.auth.authBindMobile().then((function(){e.$emit("beginRotate")}))},closeToast:function(){this.$emit("closeToast")}}}}).call(this,a("7189")["default"])}});